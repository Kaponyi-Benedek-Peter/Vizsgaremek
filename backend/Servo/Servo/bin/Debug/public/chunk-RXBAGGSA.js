import{q as g}from"./chunk-MXNZA3P6.js";import{B as o,N as d,Ob as l,ja as n,k as r}from"./chunk-766VLGYE.js";var m=[{id:"medicines",icon:"\u{1F48A}",colorClass:"category-medicines",translationKey:"forum.category.medicines"},{id:"natural-remedies",icon:"\u{1F33F}",colorClass:"category-natural",translationKey:"forum.category.natural_remedies"},{id:"baby-mother",icon:"\u{1F476}",colorClass:"category-baby",translationKey:"forum.category.baby_mother"},{id:"healthy-lifestyle",icon:"\u{1F4AA}",colorClass:"category-lifestyle",translationKey:"forum.category.healthy_lifestyle"},{id:"seasonal-health",icon:"\u{1F927}",colorClass:"category-seasonal",translationKey:"forum.category.seasonal_health"},{id:"qa",icon:"\u2753",colorClass:"category-qa",translationKey:"forum.category.qa"},{id:"general",icon:"\u{1F4DD}",colorClass:"category-general",translationKey:"forum.category.general"}];var c=class u{postsSignal=n(this.getMockPosts());filtersSignal=n({});sortBySignal=n("newest");currentPageSignal=n(1);pageSizeSignal=n(9);posts=this.postsSignal.asReadonly();filters=this.filtersSignal.asReadonly();sortBy=this.sortBySignal.asReadonly();currentPage=l(()=>this.currentPageSignal());filteredPosts=l(()=>{let e=this.applyFilters(this.postsSignal(),this.filtersSignal());return this.applySorting(e,this.sortBySignal())});paginatedPosts=l(()=>{let e=this.filteredPosts(),t=this.currentPageSignal(),s=this.pageSizeSignal(),a=(t-1)*s;return e.slice(a,a+s)});totalPages=l(()=>Math.ceil(this.filteredPosts().length/this.pageSizeSignal()));getAllPosts(){return r(this.postsSignal()).pipe(o(300))}getBlogPosts(){let e=this.postsSignal().filter(t=>t.type==="blog");return r(e).pipe(o(300))}getForumPosts(){let e=this.postsSignal().filter(t=>t.type==="forum");return r(e).pipe(o(300))}getPostById(e){let t=this.postsSignal().find(s=>s.id===e||s.slug===e)||null;return r(t).pipe(o(200))}getFeaturedBlogPosts(e=3){let t=this.postsSignal().filter(s=>s.type==="blog"&&s.isFeatured).slice(0,e);return r(t).pipe(o(200))}getRelatedPosts(e,t=3){let s=this.postsSignal().find(i=>i.id===e);if(!s)return r([]);let a=this.postsSignal().filter(i=>i.id!==e&&i.category===s.category).slice(0,t);return r(a).pipe(o(200))}setFilters(e){this.filtersSignal.set(e),this.currentPageSignal.set(1)}setSorting(e){this.sortBySignal.set(e),this.currentPageSignal.set(1)}setPage(e){e>=1&&e<=this.totalPages()&&this.currentPageSignal.set(e)}applyFilters(e,t){return e.filter(s=>{if(t.category&&s.category!==t.category||t.type&&s.type!==t.type||t.authorRole&&s.author.role!==t.authorRole||t.isFeatured!==void 0&&s.isFeatured!==t.isFeatured||t.isPinned!==void 0&&s.isPinned!==t.isPinned)return!1;if(t.searchQuery){let a=t.searchQuery.toLowerCase();if(!`${s.title} ${s.excerpt} ${s.content}`.toLowerCase().includes(a))return!1}return!(t.tags&&t.tags.length>0&&!t.tags.some(i=>s.tags.includes(i)))})}applySorting(e,t){let s=[...e];switch(t){case"newest":return s.sort((a,i)=>i.createdAt.getTime()-a.createdAt.getTime());case"oldest":return s.sort((a,i)=>a.createdAt.getTime()-i.createdAt.getTime());case"most-viewed":return s.sort((a,i)=>i.views-a.views);case"most-liked":return s.sort((a,i)=>i.likes-a.likes);case"trending":return s.sort((a,i)=>this.calculateTrendingScore(i)-this.calculateTrendingScore(a));default:return s}}calculateTrendingScore(e){let t=e.publishedAt?(Date.now()-e.publishedAt.getTime())/864e5:999,s=Math.max(0,7-t),a=e.views*.1+e.likes*2+e.commentCount*5;return s*10+a}getMockPosts(){let e=[{id:"1",name:"Dr. Nagy Katalin",role:"pharmacist",verified:!0},{id:"2",name:"Roy patika",role:"admin",verified:!0},{id:"3",name:"Kov\xE1cs Anna",role:"user",verified:!1},{id:"4",name:"Dr. Szab\xF3 P\xE9ter",role:"pharmacist",verified:!0}],t=[{id:"blog-1",type:"blog",title:"T\xE9li influenza megel\u0151z\xE9s: amit tudnod kell",slug:"teli-influenza-megelozes",excerpt:"A t\xE9li h\xF3napok bek\xF6sz\xF6nt\xE9vel k\xFCl\xF6n\xF6sen fontos az influenza elleni v\xE9delem. Ebben a cikkben megmutatjuk, hogyan er\u0151s\xEDtheted immunrendszeredet.",content:"A t\xE9li influenza minden \xE9vben milli\xF3k \xE9let\xE9t nehez\xEDti meg vil\xE1gszerte.",author:e[0],category:"seasonal-health",tags:["influenza","megel\u0151z\xE9s","t\xE9l","vitamin"],imageUrl:`${g.assetsURL}/assets/images/blog/influenza-prevention.jpg`,status:"published",createdAt:new Date("2024-11-15"),publishedAt:new Date("2024-11-15"),views:1234,likes:89,commentCount:12,isFeatured:!0,isPinned:!0,readingTime:5},{id:"blog-2",type:"blog",title:"Allergi\xE1s t\xFCnetek enyh\xEDt\xE9se term\xE9szetes m\xF3don",slug:"allergias-tunetek-termeszetes-enyhites",excerpt:"A tavaszi allergiaszezon kih\xEDv\xE1st jelenthet sokak sz\xE1m\xE1ra. Ismerd meg a term\xE9szetes m\xF3dszereket!",content:"Az allergia egy t\xFAl\xE9rz\xE9kenys\xE9gi reakci\xF3.",author:e[1],category:"natural-remedies",tags:["allergia","term\xE9szetes gy\xF3gym\xF3d","tavasz"],imageUrl:`${g.assetsURL}/assets/images/blog/allergy-natural-remedies.jpg`,status:"published",createdAt:new Date("2024-03-10"),publishedAt:new Date("2024-03-10"),views:856,likes:67,commentCount:8,isFeatured:!0,isPinned:!1,readingTime:4},{id:"blog-3",type:"blog",title:"Baba b\u0151r\xE1pol\xE1s: alapvet\u0151 tudnival\xF3k",slug:"baba-borapolas-alapok",excerpt:"Az \xFAjsz\xFCl\xF6tt b\u0151r\xE1pol\xE1sa k\xFCl\xF6nleges figyelmet ig\xE9nyel. Tippek a legkisebbek b\u0151r\xE9nek v\xE9delm\xE9re.",content:"A bab\xE1k b\u0151re rendk\xEDv\xFCl \xE9rz\xE9keny \xE9s v\xE9kony.",author:e[0],category:"baby-mother",tags:["baba","b\u0151r\xE1pol\xE1s","\xFAjsz\xFCl\xF6tt"],imageUrl:`${g.assetsURL}/assets/images/blog/baby-skincare.jpg`,status:"published",createdAt:new Date("2024-12-01"),publishedAt:new Date("2024-12-01"),views:643,likes:54,commentCount:15,isFeatured:!1,isPinned:!1,readingTime:6}],s=[{id:"forum-1",type:"forum",title:"Melyik f\xE1jdalomcsillap\xEDt\xF3t v\xE1lasszam?",slug:"melyik-fajdalomcsillapito",excerpt:"Gyakran fejf\xE1j\xF3s vagyok, de nem tudom, hogy paracetamol vagy ibuprofen lenne-e jobb nekem.",content:"Sziasztok! Rendszeresen k\xFCzd\xF6k fejf\xE1j\xE1ssal...",author:e[2],category:"qa",tags:["f\xE1jdalomcsillap\xEDt\xF3","paracetamol","ibuprofen"],status:"published",createdAt:new Date("2024-12-10"),publishedAt:new Date("2024-12-10"),views:342,likes:23,commentCount:7,isFeatured:!1,isPinned:!1,isQuestion:!0,hasAcceptedAnswer:!0,acceptedAnswerId:"comment-1",lastActivityAt:new Date("2024-12-12")},{id:"forum-2",type:"forum",title:"D-vitamin p\xF3tl\xE1s t\xE9len - ki mennyit szed?",slug:"d-vitamin-potlas-telen",excerpt:"A t\xE9li h\xF3napokban sokan k\xFCzdenek D-vitamin hi\xE1nnyal. Ki milyen adagot szed?",content:"Sziasztok! T\xE9len mindig f\xE1radtabb vagyok...",author:e[2],category:"healthy-lifestyle",tags:["D-vitamin","t\xE9l","vitamin p\xF3tl\xE1s"],status:"published",createdAt:new Date("2024-11-20"),publishedAt:new Date("2024-11-20"),views:567,likes:45,commentCount:18,isFeatured:!1,isPinned:!1,isQuestion:!0,hasAcceptedAnswer:!1,lastActivityAt:new Date("2024-12-11")},{id:"forum-3",type:"forum",title:"Probiotikumok antibiotikum k\xFAra ut\xE1n",slug:"probiotikumok-antibiotikum-utan",excerpt:"Antibiotikum k\xFAr\xE1t k\xF6vet\u0151en \xE9rdemes probiotikumot szedni? Mikor kezdjem \xE9s meddig?",content:"Nemr\xE9g fejeztem be egy 10 napos antibiotikum k\xFAr\xE1t...",author:e[2],category:"medicines",tags:["probiotikum","antibiotikum","b\xE9lfl\xF3ra"],status:"published",createdAt:new Date("2024-12-05"),publishedAt:new Date("2024-12-05"),views:421,likes:31,commentCount:9,isFeatured:!1,isPinned:!1,isQuestion:!0,hasAcceptedAnswer:!0,acceptedAnswerId:"comment-2",lastActivityAt:new Date("2024-12-09")}];return[...t,...s]}static \u0275fac=function(t){return new(t||u)};static \u0275prov=d({token:u,factory:u.\u0275fac,providedIn:"root"})};export{m as a,c as b};
