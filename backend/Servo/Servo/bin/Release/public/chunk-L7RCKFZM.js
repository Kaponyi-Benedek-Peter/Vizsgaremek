import{b as I,c as L,d as N,e as F,f as T,g as W,k as V,l as j}from"./chunk-4RRWBT5N.js";import{b as R}from"./chunk-GTAVLBOO.js";import{g as S,h as D,k as E,n as B,p as z}from"./chunk-SISV7ZTJ.js";import{$a as b,Ab as h,Ba as t,Bb as f,Cb as v,Ja as w,Jb as i,Kb as a,Oa as y,Za as C,_a as x,dc as k,eb as p,fb as n,gb as r,hb as O,ja as c,nb as M,pb as P,wb as s,xb as _,yb as l}from"./chunk-F6XLXXZ5.js";function A(d,g){if(d&1&&(n(0,"div",20),s(1),i(2,"translate"),r()),d&2){let m=P();t(),l(" ",a(2,1,m.successMessage())," ")}}function Y(d,g){if(d&1&&(n(0,"div",21),s(1),i(2,"translate"),r()),d&2){let m=P();t(),l(" ",a(2,1,m.errorMessage())," ")}}function G(d,g){d&1&&(O(0,"span",26),s(1),i(2,"translate")),d&2&&(t(),l(" ",a(2,1,"auth.register.creating_account")," "))}function H(d,g){d&1&&(s(0),i(1,"translate")),d&2&&l(" ",a(1,1,"auth.register.button")," ")}var q=class d{constructor(g,m){this.authService=g;this.router=m}email=c("");password=c("");confirmPassword=c("");firstname=c("");lastname=c("");isLoading=c(!1);errorMessage=c("");successMessage=c("");showPassword=c(!1);showConfirmPassword=c(!1);onSubmit(){if(this.errorMessage.set(""),this.successMessage.set(""),!this.email()||!this.password()||!this.confirmPassword()||!this.firstname()||!this.lastname()){this.errorMessage.set("auth.errors.empty_fields");return}if(!this.isValidEmail(this.email())){this.errorMessage.set("auth.errors.invalid_email");return}if(this.password().length<8){this.errorMessage.set("auth.errors.password_too_short");return}if(this.password()!==this.confirmPassword()){this.errorMessage.set("auth.errors.passwords_dont_match");return}this.isLoading.set(!0),this.authService.register(this.email(),this.password(),this.firstname(),this.lastname()).subscribe({next:()=>{this.isLoading.set(!1),this.successMessage.set("auth.register.success_message")},error:g=>{this.isLoading.set(!1),this.errorMessage.set(g.message||"auth.errors.registration_failed")}})}togglePasswordVisibility(){this.showPassword.set(!this.showPassword())}toggleConfirmPasswordVisibility(){this.showConfirmPassword.set(!this.showConfirmPassword())}isValidEmail(g){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)}static \u0275fac=function(m){return new(m||d)(w(R),w(S))};static \u0275cmp=y({type:d,selectors:[["app-register"]],decls:68,vars:72,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"auth-subtitle"],[1,"auth-form",3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","firstname",1,"form-label"],["type","text","id","firstname","name","firstname","required","","autocomplete","given-name",1,"form-input",3,"ngModelChange","placeholder","ngModel","disabled"],["for","lastname",1,"form-label"],["type","text","id","lastname","name","lastname","required","","autocomplete","family-name",1,"form-input",3,"ngModelChange","placeholder","ngModel","disabled"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","autocomplete","email",1,"form-input",3,"ngModelChange","placeholder","ngModel","disabled"],["for","password",1,"form-label"],[1,"password-input-wrapper"],["id","password","name","password","required","","autocomplete","new-password",1,"form-input",3,"ngModelChange","type","placeholder","ngModel","disabled"],["type","button",1,"password-toggle",3,"click"],[1,"form-hint"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","name","confirmPassword","required","","autocomplete","new-password",1,"form-input",3,"ngModelChange","type","placeholder","ngModel","disabled"],[1,"success-message"],[1,"error-message"],["type","submit",1,"submit-btn",3,"disabled"],[1,"auth-divider"],[1,"auth-footer"],["routerLink","/login",1,"link-primary"],[1,"spinner"]],template:function(m,e){m&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),s(4),i(5,"translate"),r(),n(6,"p",3),s(7),i(8,"translate"),r()(),n(9,"form",4),M("ngSubmit",function(){return e.onSubmit()}),n(10,"div",5)(11,"div",6)(12,"label",7),s(13),i(14,"translate"),r(),n(15,"input",8),i(16,"translate"),v("ngModelChange",function(o){return f(e.firstname,o)||(e.firstname=o),o}),r()(),n(17,"div",6)(18,"label",9),s(19),i(20,"translate"),r(),n(21,"input",10),i(22,"translate"),v("ngModelChange",function(o){return f(e.lastname,o)||(e.lastname=o),o}),r()()(),n(23,"div",6)(24,"label",11),s(25),i(26,"translate"),r(),n(27,"input",12),i(28,"translate"),v("ngModelChange",function(o){return f(e.email,o)||(e.email=o),o}),r()(),n(29,"div",6)(30,"label",13),s(31),i(32,"translate"),r(),n(33,"div",14)(34,"input",15),i(35,"translate"),v("ngModelChange",function(o){return f(e.password,o)||(e.password=o),o}),r(),n(36,"button",16),i(37,"translate"),M("click",function(){return e.togglePasswordVisibility()}),s(38),r()(),n(39,"p",17),s(40),i(41,"translate"),r()(),n(42,"div",6)(43,"label",18),s(44),i(45,"translate"),r(),n(46,"div",14)(47,"input",19),i(48,"translate"),v("ngModelChange",function(o){return f(e.confirmPassword,o)||(e.confirmPassword=o),o}),r(),n(49,"button",16),i(50,"translate"),M("click",function(){return e.toggleConfirmPasswordVisibility()}),s(51),r()()(),x(52,A,3,3,"div",20),x(53,Y,3,3,"div",21),n(54,"button",22),x(55,G,3,3)(56,H,2,3),r(),n(57,"div",23)(58,"span"),s(59),i(60,"translate"),r()(),n(61,"div",24)(62,"p"),s(63),i(64,"translate"),n(65,"a",25),s(66),i(67,"translate"),r()()()()()()),m&2&&(t(4),_(a(5,36,"auth.register.title")),t(3),_(a(8,38,"auth.register.subtitle")),t(6),l(" ",a(14,40,"auth.fields.firstname")," "),t(2),p("placeholder",a(16,42,"auth.placeholders.firstname")),h("ngModel",e.firstname),p("disabled",e.isLoading()),t(4),l(" ",a(20,44,"auth.fields.lastname")," "),t(2),p("placeholder",a(22,46,"auth.placeholders.lastname")),h("ngModel",e.lastname),p("disabled",e.isLoading()),t(4),l(" ",a(26,48,"auth.fields.email")," "),t(2),p("placeholder",a(28,50,"auth.placeholders.email")),h("ngModel",e.email),p("disabled",e.isLoading()),t(4),l(" ",a(32,52,"auth.fields.password")," "),t(3),p("type",e.showPassword()?"text":"password")("placeholder",a(35,54,"auth.placeholders.password")),h("ngModel",e.password),p("disabled",e.isLoading()),t(2),C("aria-label",a(37,56,"auth.show_password")),t(2),l(" ",e.showPassword()?"\u{1F441}\uFE0F":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"," "),t(2),_(a(41,58,"auth.register.password_hint")),t(4),l(" ",a(45,60,"auth.fields.confirm_password")," "),t(3),p("type",e.showConfirmPassword()?"text":"password")("placeholder",a(48,62,"auth.placeholders.confirm_password")),h("ngModel",e.confirmPassword),p("disabled",e.isLoading()),t(2),C("aria-label",a(50,64,"auth.show_password")),t(2),l(" ",e.showConfirmPassword()?"\u{1F441}\uFE0F":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"," "),t(),b(e.successMessage()?52:-1),t(),b(e.errorMessage()?53:-1),t(),p("disabled",e.isLoading()),t(),b(e.isLoading()?55:56),t(4),_(a(60,66,"auth.or")),t(4),l(" ",a(64,68,"auth.register.have_account")," "),t(3),l(" ",a(67,70,"auth.register.sign_in")," "))},dependencies:[k,j,W,I,L,N,V,T,F,E,D,z,B],styles:['.auth-container[_ngcontent-%COMP%]{min-height:calc(100vh - 255px);display:flex;align-items:center;justify-content:center;padding:var(--space-8) var(--space-4);background-color:var(--bg-secondary)}.auth-card[_ngcontent-%COMP%]{background-color:var(--bg-primary);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);padding:var(--space-10);width:100%;max-width:440px;transition:all var(--transition-normal)}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--space-8)}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--text-3xl);font-weight:var(--font-bold);color:var(--text-primary);margin-bottom:var(--space-2)}.auth-subtitle[_ngcontent-%COMP%]{font-size:var(--text-base);color:var(--text-secondary);margin:0}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-5)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-2)}.form-label[_ngcontent-%COMP%]{font-size:var(--text-sm);font-weight:var(--font-medium);color:var(--text-primary)}.form-input[_ngcontent-%COMP%]{width:100%;padding:var(--space-3) var(--space-4);font-size:1rem;font-family:var(--font-primary);color:var(--input-text);background-color:var(--input-bg);border:2px solid var(--input-border);border-radius:var(--radius-md);transition:all var(--transition-fast);outline:none;min-height:48px;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:var(--color-border-focus);box-shadow:0 0 0 3px #067a451a}.form-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.form-input[_ngcontent-%COMP%]::placeholder{color:var(--input-placeholder)}.password-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input-wrapper[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding-right:var(--space-12)}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:0;width:44px;height:44px;background:none;border:none;cursor:pointer;font-size:var(--text-xl);display:flex;align-items:center;justify-content:center;color:var(--text-secondary);transition:color var(--transition-fast);border-radius:0 var(--radius-md) var(--radius-md) 0}@media(hover:hover)and (pointer:fine){.password-toggle[_ngcontent-%COMP%]:hover{color:var(--text-primary)}}.password-toggle[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.checkbox-group[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:var(--space-2)}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-2);cursor:pointer;font-size:var(--text-sm);color:var(--text-primary);-webkit-user-select:none;user-select:none;min-height:44px}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;accent-color:var(--color-primary);flex-shrink:0}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.error-message[_ngcontent-%COMP%]{padding:var(--space-3) var(--space-4);background-color:#dc26261a;color:var(--color-error);border-radius:var(--radius-md);font-size:var(--text-sm);border-left:4px solid var(--color-error)}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:var(--space-3) var(--space-6);font-size:var(--text-base);font-weight:var(--font-semibold);font-family:var(--font-primary);color:var(--btn-primary-text);background-color:var(--btn-primary-bg);border:none;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-normal);display:flex;align-items:center;justify-content:center;gap:var(--space-2);min-height:48px}@media(hover:hover)and (pointer:fine){.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--btn-primary-hover);transform:translateY(-1px);box-shadow:var(--shadow-md)}}.submit-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite;flex-shrink:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.auth-links[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:var(--space-2)}.link[_ngcontent-%COMP%]{font-size:var(--text-sm);color:var(--text-secondary);text-decoration:none;transition:color var(--transition-fast);padding:var(--space-2) 0;display:inline-block}@media(hover:hover)and (pointer:fine){.link[_ngcontent-%COMP%]:hover{color:var(--color-primary);text-decoration:underline}}.auth-divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;margin:var(--space-6) 0 var(--space-4);color:var(--text-secondary);font-size:var(--text-sm)}.auth-divider[_ngcontent-%COMP%]:before, .auth-divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid var(--border-color)}.auth-divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 var(--space-3)}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:var(--space-2)}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--text-sm);color:var(--text-secondary);margin:0}.link-primary[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none;font-weight:var(--font-semibold);transition:color var(--transition-fast);padding:var(--space-1) 0;display:inline-block}@media(hover:hover)and (pointer:fine){.link-primary[_ngcontent-%COMP%]:hover{color:var(--color-primary-hover);text-decoration:underline}}.verification-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;gap:var(--space-4);padding:var(--space-4) 0}.icon-wrapper[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:#067a451a;display:flex;align-items:center;justify-content:center;flex-shrink:0}.icon-wrapper.success[_ngcontent-%COMP%]{background-color:#067a4526}.mail-icon[_ngcontent-%COMP%], .check-icon[_ngcontent-%COMP%]{width:40px;height:40px;color:var(--color-primary);stroke:var(--color-primary)}.verification-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--text-2xl);font-weight:var(--font-bold);color:var(--text-primary);margin:0}.verification-text[_ngcontent-%COMP%]{font-size:var(--text-base);color:var(--text-secondary);margin:0;max-width:340px;line-height:1.6}.verification-steps[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-3);width:100%;text-align:left}.step[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:var(--space-3)}.step-number[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;background-color:var(--color-primary);color:#fff;font-size:var(--text-sm);font-weight:var(--font-bold);display:flex;align-items:center;justify-content:center;flex-shrink:0}.step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--text-sm);color:var(--text-secondary);margin:0;padding-top:var(--space-1);line-height:1.5}.redirect-info[_ngcontent-%COMP%]{padding:var(--space-3) var(--space-4);background-color:#067a4514;border-radius:var(--radius-md);width:100%}.redirect-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--text-sm);color:var(--color-primary);margin:0;font-weight:var(--font-medium)}@media(max-width:768px){.auth-container[_ngcontent-%COMP%]{padding:var(--space-4) var(--space-3);align-items:flex-start;padding-top:var(--space-8)}.auth-card[_ngcontent-%COMP%]{padding:var(--space-8) var(--space-6)}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--text-2xl)}.auth-header[_ngcontent-%COMP%]{margin-bottom:var(--space-6)}}@media(max-width:480px){.auth-container[_ngcontent-%COMP%]{padding:var(--space-3) var(--space-3);padding-top:var(--space-6);align-items:flex-start}.auth-card[_ngcontent-%COMP%]{padding:var(--space-6) var(--space-4);border-radius:var(--radius-md)}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--text-xl)}.auth-subtitle[_ngcontent-%COMP%]{font-size:var(--text-sm)}.auth-form[_ngcontent-%COMP%]{gap:var(--space-4)}.auth-divider[_ngcontent-%COMP%]{margin:var(--space-4) 0 var(--space-3)}.verification-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--text-xl)}.icon-wrapper[_ngcontent-%COMP%]{width:64px;height:64px}.mail-icon[_ngcontent-%COMP%], .check-icon[_ngcontent-%COMP%]{width:32px;height:32px}}@media(max-width:375px){.auth-container[_ngcontent-%COMP%]{padding:var(--space-2) var(--space-2);padding-top:var(--space-4)}.auth-card[_ngcontent-%COMP%]{padding:var(--space-5) var(--space-3)}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--text-lg)}.auth-form[_ngcontent-%COMP%]{gap:var(--space-3)}.step-number[_ngcontent-%COMP%]{width:24px;height:24px;font-size:var(--text-xs)}}@media(prefers-reduced-motion:reduce){.spinner[_ngcontent-%COMP%]{animation:none;border-top-color:#fff;opacity:.7}.submit-btn[_ngcontent-%COMP%], .link[_ngcontent-%COMP%], .link-primary[_ngcontent-%COMP%], .password-toggle[_ngcontent-%COMP%]{transition:none}}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-4)}.form-hint[_ngcontent-%COMP%]{font-size:var(--text-xs);color:var(--text-secondary);margin-top:var(--space-1);margin-bottom:0}.success-message[_ngcontent-%COMP%]{padding:var(--space-3) var(--space-4);background-color:#067a451a;color:var(--color-success);border-radius:var(--radius-md);font-size:var(--text-sm);border-left:4px solid var(--color-success)}@media(max-width:640px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--space-4)}}@media(max-width:480px){.auth-form[_ngcontent-%COMP%]{gap:var(--space-3)}.auth-card[_ngcontent-%COMP%]{max-width:100%}}@media(max-width:375px){.auth-form[_ngcontent-%COMP%]{gap:var(--space-2)}.form-hint[_ngcontent-%COMP%]{font-size:.6875rem}}']})};export{q as Register};
