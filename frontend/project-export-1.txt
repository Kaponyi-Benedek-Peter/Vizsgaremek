================================================================================
PROJECT STRUCTURE
================================================================================

ğŸ“ .
â”œâ”€â”€ ğŸ“„ angular.json
â”œâ”€â”€ ğŸ“ docs/
â”‚   â””â”€â”€ ğŸ“„ security.md
â”œâ”€â”€ ğŸ“„ package.json
â”œâ”€â”€ ğŸ“ public/
â”œâ”€â”€ ğŸ“„ README.md
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ app/
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ app.config.ts
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ app.css
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ app.html
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ app.routes.ts
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ app.spec.ts
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ app.ts
â”‚   â”‚   â”œâ”€â”€ ğŸ“ core/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ constants/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ visuals.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ guards/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ auth.guard.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ interceptors/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ auth.interceptors.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ models/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.model.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ forum-blog.model.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ product.model.ts
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ services/
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ account.service.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ auth.service.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ cart.service.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ currency.service.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ forum-blog.service.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ theme.service.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ toast.service.ts
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“„ translation.service.ts
â”‚   â”‚   â”œâ”€â”€ ğŸ“ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ admin/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ admin.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ admin.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ admin.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ admin.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ bracket/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ bracket.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ bracket.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ bracket.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ bracket.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ delacc-promise/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ delacc-promise.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ delacc-promise.html
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ delacc-promise.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ email/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ email.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ email.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ email.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ email.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ forum/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ forum.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ forum.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ forum.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ forum.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ forum-detail/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ forum-detail.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ forum-detail.html
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ forum-detail.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ home/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ home.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ home.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ home.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ home.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ legal/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ legal.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ legal.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ legal.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ legal.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ login/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ login.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ login.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ login.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ login.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ login-promise/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ login-promise.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ login-promise.html
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ login-promise.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ not-found/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ not-found.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ not-found.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ not-found.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ not-found.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ password-reset/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ password-reset.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ password-reset.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ password-reset.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ password-reset.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ password-reset-request/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ password-reset-request.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ password-reset-request.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ password-reset-request.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ password-reset-request.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ product-detail/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ product-detail.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ product-detail.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ product-detail.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ product-detail.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ products/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ products.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ products.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ products.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ products.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ profile/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ profile.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ profile.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ profile.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ profile.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ purchase/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ purchase.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ purchase.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ purchase.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ purchase.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ register/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ register.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ register.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ register.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ register.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ registration-promise/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ registration-promise.css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ registration-promise.html
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ registration-promise.spec.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ registration-promise.ts
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ test/
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ test.css
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ test.html
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ test.spec.ts
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“„ test.ts
â”‚   â”‚   â”œâ”€â”€ ğŸ“ services/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ product.service.ts
â”‚   â”‚   â””â”€â”€ ğŸ“ shared/
â”‚   â”‚       â”œâ”€â”€ ğŸ“ components/
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ category-bar/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ category-bar.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ category-bar.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ category-bar.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ category-item/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ category-item.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ category-item.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ category-item.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ featured/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ featured.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ featured.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ featured.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ featured-product-card/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ featured-product-card.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ featured-product-card.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ featured-product-card.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ footer/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“ footer-bottom/
â”‚   â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ footer-bottom.css
â”‚   â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ footer-bottom.html
â”‚   â”‚       â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ footer-bottom.ts
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“ footer-main/
â”‚   â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ footer-main.css
â”‚   â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ footer-main.html
â”‚   â”‚       â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ footer-main.ts
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ footer.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ footer.html
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ footer.ts
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“ newsletter-form/
â”‚   â”‚       â”‚   â”‚       â”œâ”€â”€ ğŸ“„ newsletter-form.css
â”‚   â”‚       â”‚   â”‚       â”œâ”€â”€ ğŸ“„ newsletter-form.html
â”‚   â”‚       â”‚   â”‚       â””â”€â”€ ğŸ“„ newsletter-form.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ header/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ header.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ header.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ header.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ icon-btn/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ icon-btn.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ icon-btn.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ icon-btn.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ language-switcher/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ language-switcher.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ language-switcher.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ language-switcher.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ post-card/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ post-card.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ post-card.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ post-card.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ primary-btn/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ primary-btn.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ primary-btn.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ primary-btn.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ product-card/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ product-card.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ product-card.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ product-card.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ product-detail-modal/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ product-detail-modal.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ product-detail-modal.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ product-detail-modal.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ product-filter/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ product-filter.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ product-filter.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ product-filter.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ product-list/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ product-list.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ product-list.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ product-list.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ product-pagination/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ product-pagination.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ product-pagination.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ product-pagination.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ secondary-btn/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ secondary-btn.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ secondary-btn.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ secondary-btn.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ slide/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ slide.css
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ slide.html
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ slide.ts
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“ toast/
â”‚   â”‚       â”‚       â”œâ”€â”€ ğŸ“„ toast.css
â”‚   â”‚       â”‚       â”œâ”€â”€ ğŸ“„ toast.html
â”‚   â”‚       â”‚       â””â”€â”€ ğŸ“„ toast.ts
â”‚   â”‚       â”œâ”€â”€ ğŸ“ directives/
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ scroll-reveal.directive.ts
â”‚   â”‚       â””â”€â”€ ğŸ“ pipes/
â”‚   â”‚           â””â”€â”€ ğŸ“„ currency.pipe.ts
â”‚   â”œâ”€â”€ ğŸ“ assets/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ fonts/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ Inconsolata/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ static/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ Roboto/
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“ static/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ i18n/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ de.json
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ en.json
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ hu.json
â”‚   â”‚   â”œâ”€â”€ ğŸ“ icons/
â”‚   â”‚   â””â”€â”€ ğŸ“ images/
â”‚   â”œâ”€â”€ ğŸ“ environments/
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ environment.prod.ts
â”‚   â”‚   â””â”€â”€ ğŸ“„ environment.ts
â”‚   â”œâ”€â”€ ğŸ“„ index.html
â”‚   â”œâ”€â”€ ğŸ“„ main.ts
â”‚   â””â”€â”€ ğŸ“ styles/
â”‚       â”œâ”€â”€ ğŸ“ abstracts/
â”‚       â”‚   â”œâ”€â”€ ğŸ“„ _themes.css
â”‚       â”‚   â””â”€â”€ ğŸ“„ _variables.css
â”‚       â””â”€â”€ ğŸ“„ styles.css
â”œâ”€â”€ ğŸ“„ tsconfig.app.json
â”œâ”€â”€ ğŸ“„ tsconfig.json
â””â”€â”€ ğŸ“„ tsconfig.spec.json



================================================================================
FILE: angular.json
================================================================================

{
  "$schema": "./node_modules/@angular/cli/lib/config/schema.json",
  "version": 1,
  "cli": {
    "packageManager": "npm"
  },
  "newProjectRoot": "projects",
  "projects": {
    "frontend": {
      "projectType": "application",
      "schematics": {},
      "root": "",
      "sourceRoot": "src",
      "prefix": "app",
      "architect": {
        "build": {
          "builder": "@angular/build:application",
          "options": {
            "browser": "src/main.ts",
            "polyfills": ["zone.js"],
            "tsConfig": "tsconfig.app.json",
            "assets": [
              {
                "glob": "**/*",
                "input": "public"
              },
              {
                "glob": "**/*",
                "input": "src/assets/icons",
                "output": "/assets/icons"
              },
              {
                "glob": "**/*",
                "input": "src/assets/images",
                "output": "/assets/images"
              },
              {
                "glob": "**/*",
                "input": "src/assets/fonts",
                "output": "/assets/fonts"
              },
              {
                "glob": "**/*",
                "input": "src/assets/i18n",
                "output": "/assets/i18n"
              }
            ],
            "styles": ["src/styles/styles.css"],
            "baseHref": "./"
          },
          "configurations": {
            "production": {
              "fileReplacements": [
                {
                  "replace": "src/environments/environment.ts",
                  "with": "src/environments/environment.prod.ts"
                }
              ],
              "budgets": [
                {
                  "type": "initial",
                  "maximumWarning": "1MB",
                  "maximumError": "2MB"
                },
                {
                  "type": "anyComponentStyle",
                  "maximumWarning": "32kB",
                  "maximumError": "64kB"
                }
              ],
              "outputHashing": "all"
            },
            "development": {
              "optimization": false,
              "extractLicenses": false,
              "sourceMap": true
            }
          },
          "defaultConfiguration": "production"
        },
        "serve": {
          "builder": "@angular/build:dev-server",
          "configurations": {
            "production": {
              "buildTarget": "frontend:build:production"
            },
            "development": {
              "buildTarget": "frontend:build:development"
            }
          },
          "defaultConfiguration": "development"
        },
        "test": {
          "builder": "@angular/build:unit-test"
        }
      }
    }
  }
}



================================================================================
FILE: docs\security.md
================================================================================

# Security Notice â€“ Angular Dependency Advisory

## Overview
This project is built using **Angular 21.x**. At the time of development, an official security advisory exists for Angular core related to **unsanitized SVG script attributes**, which is reported by `npm audit` as a **high severity vulnerability**.

This advisory originates from the **Angular framework itself (upstream dependency)**, and **no patched Angular release was available** at the time of implementation.

---

## Affected Advisory
- **Package**: `@angular/compiler` (and related Angular core packages)
- **Severity**: High (reported by `npm audit`)
- **Type**: Potential XSS via unsanitized SVG script attributes
- **Source**: Official Angular Security Advisory (GitHub)

---

## Why the Project Is Not Directly Affected
The vulnerability only becomes exploitable under specific conditions. This project **does not use** any of the following risky patterns:

- Dynamic SVG injection
- `[innerHTML]` bindings
- Rendering of user-provided HTML
- `DomSanitizer.bypassSecurityTrustHtml()` or similar bypass methods

All templates rely on **standard Angular template bindings**, which remain safe under normal usage.

---

## Risk Assessment
- **Theoretical risk**: Present (framework-level advisory)
- **Practical risk in this project**: Minimal / none
- **Runtime impact**: None
- **Build impact**: None

The application functions correctly and securely within its intended scope.

---

## Why Angular 21 Was Kept
Angular 21 was intentionally kept for the following reasons:

- The project is not a production system
- The advisory is upstream and outside the developerâ€™s control
- Downgrading would introduce unnecessary refactoring overhead
- The issue is documented and understood

This decision was made consciously, with awareness of the trade-offs.

---

## Mitigation Measures
To ensure safety despite the advisory:

- No dynamic HTML rendering is used
- SVG assets are static and loaded from trusted sources
- No sanitizer bypasses are applied
- Dependency updates are monitored

---

## Future Plan
Once a patched Angular release becomes available, the project can be updated to remove the advisory entirely.

---

## Summary
This security warning is:
- **Known**
- **Documented**
- **Understood**
- **Not exploitable in the current implementation**

The project remains safe within its intended educational and demonstrational context.




================================================================================
FILE: package.json
================================================================================

{
  "name": "frontend",
  "version": "0.0.0",
  "scripts": {
    "ng": "ng",
    "start": "ng serve",
    "build": "ng build",
    "watch": "ng build --watch --configuration development",
    "test": "ng test"
  },
  "prettier": {
    "printWidth": 100,
    "singleQuote": true,
    "overrides": [
      {
        "files": "*.html",
        "options": {
          "parser": "angular"
        }
      }
    ]
  },
  "private": true,
  "packageManager": "npm@11.6.2",
  "dependencies": {
    "@angular/common": "^21.0.0",
    "@angular/compiler": "^21.0.0",
    "@angular/core": "^21.0.0",
    "@angular/forms": "^21.0.0",
    "@angular/platform-browser": "^21.0.0",
    "@angular/router": "^21.0.0",
    "@ngx-translate/core": "^16.0.4",
    "@ngx-translate/http-loader": "^16.0.1",
    "rxjs": "~7.8.0",
    "tslib": "^2.3.0",
    "zone.js": "~0.16.0"
  },
  "devDependencies": {
    "@angular/build": "^21.0.2",
    "@angular/cli": "^21.0.2",
    "@angular/compiler-cli": "^21.0.0",
    "jsdom": "^27.1.0",
    "typescript": "~5.9.2",
    "vitest": "^4.0.8"
  }
}



================================================================================
FILE: README.md
================================================================================

# Frontend

This project was generated using [Angular CLI](https://github.com/angular/angular-cli) version 21.0.2.

## Development server

To start a local development server, run:

```bash
ng serve
```

Once the server is running, open your browser and navigate to `http://localhost:4200/`. The application will automatically reload whenever you modify any of the source files.

## Code scaffolding

Angular CLI includes powerful code scaffolding tools. To generate a new component, run:

```bash
ng generate component component-name
```

For a complete list of available schematics (such as `components`, `directives`, or `pipes`), run:

```bash
ng generate --help
```

## Building

To build the project run:

```bash
ng build
```

This will compile your project and store the build artifacts in the `dist/` directory. By default, the production build optimizes your application for performance and speed.

## Running unit tests

To execute unit tests with the [Vitest](https://vitest.dev/) test runner, use the following command:

```bash
ng test
```

## Running end-to-end tests

For end-to-end (e2e) testing, run:

```bash
ng e2e
```

Angular CLI does not come with an end-to-end testing framework by default. You can choose one that suits your needs.

## Additional Resources

For more information on using the Angular CLI, including detailed command references, visit the [Angular CLI Overview and Command Reference](https://angular.dev/tools/cli) page.



================================================================================
FILE: src\app\app.config.ts
================================================================================

import { ApplicationConfig } from '@angular/core';
import { provideRouter, withComponentInputBinding } from '@angular/router';
import { provideHttpClient, withInterceptors } from '@angular/common/http';
import { provideTranslateService, TranslateLoader } from '@ngx-translate/core';
import { TranslateHttpLoader } from '@ngx-translate/http-loader';
import { HttpClient } from '@angular/common/http';
import { authInterceptor } from './core/interceptors/auth.interceptors';

import { routes } from './app.routes';

export function HttpLoaderFactory(http: HttpClient) {
  return new TranslateHttpLoader(http, './assets/i18n/', '.json');
}

export const appConfig: ApplicationConfig = {
  providers: [
    provideRouter(routes, withComponentInputBinding()),
    provideHttpClient(withInterceptors([authInterceptor])),
    provideTranslateService({
      defaultLanguage: 'hu',
      loader: {
        provide: TranslateLoader,
        useFactory: HttpLoaderFactory,
        deps: [HttpClient],
      },
    }),
  ],
};



================================================================================
FILE: src\app\app.css
================================================================================

main {
  display: block;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}



================================================================================
FILE: src\app\app.html
================================================================================

<app-header />
<main>
  <router-outlet />
</main>
<app-footer />
<app-toast />



================================================================================
FILE: src\app\app.routes.ts
================================================================================

import { Routes } from '@angular/router';
import { Home } from './pages/home/home';
import { Admin } from './pages/admin/admin';
import { Bracket } from './pages/bracket/bracket';
import { Email } from './pages/email/email';
import { Forum } from './pages/forum/forum';
import { Legal } from './pages/legal/legal';
import { Login } from './pages/login/login';
import { NotFound } from './pages/not-found/not-found';
import { Products } from './pages/products/products';
import { Profile } from './pages/profile/profile';
import { Purchase } from './pages/purchase/purchase';
import { Register } from './pages/register/register';
import { authGuard, adminGuard, guestGuard } from './core/guards/auth.guard';

export const routes: Routes = [
  { path: '', redirectTo: 'home', pathMatch: 'full' },
  { path: 'home', component: Home },
  { path: 'forum', component: Forum },
  { path: 'products', component: Products },
  {
    path: 'products/:id',
    loadComponent: () =>
      import('./pages/product-detail/product-detail').then((m) => m.ProductDetail),
  },
  { path: 'profile', component: Profile, canActivate: [authGuard] },
  { path: 'purchase', component: Purchase, canActivate: [authGuard] },
  { path: 'legal', component: Legal },
  { path: 'bracket', component: Bracket },
  { path: 'admin', component: Admin, canActivate: [adminGuard] },
  {
    path: 'forum/:slug',
    loadComponent: () => import('./pages/forum-detail/forum-detail').then((m) => m.ForumDetail),
  },
  {
    path: 'login',
    loadComponent: () => import('./pages/login/login').then((m) => m.Login),
    canActivate: [guestGuard],
  },
  {
    path: 'register',
    loadComponent: () => import('./pages/register/register').then((m) => m.Register),
    canActivate: [guestGuard],
  },
  { path: 'email', loadComponent: () => import('./pages/email/email').then((m) => m.Email) },
  {
    path: 'registration-promise',
    loadComponent: () =>
      import('./pages/registration-promise/registration-promise').then(
        (m) => m.RegistrationPromise,
      ),
  },
  {
    path: 'password-reset-request',
    loadComponent: () =>
      import('./pages/password-reset-request/password-reset-request').then(
        (m) => m.PasswordResetRequest,
      ),
  },
  {
    path: 'password-reset',
    loadComponent: () =>
      import('./pages/password-reset/password-reset').then((m) => m.PasswordReset),
  },
  {
    path: 'login-promise',
    loadComponent: () => import('./pages/login-promise/login-promise').then((m) => m.LoginPromise),
  },
  {
    path: 'delacc-promise',
    loadComponent: () =>
      import('./pages/delacc-promise/delacc-promise').then((m) => m.DelaccPromise),
    canActivate: [authGuard],
  },
  { path: '**', component: NotFound },
];



================================================================================
FILE: src\app\app.spec.ts
================================================================================

import { TestBed } from '@angular/core/testing';
import { App } from './app';

describe('App', () => {
  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [App],
    }).compileComponents();
  });

  it('should create the app', () => {
    const fixture = TestBed.createComponent(App);
    const app = fixture.componentInstance;
    expect(app).toBeTruthy();
  });

  it('should render title', () => {
    const fixture = TestBed.createComponent(App);
    fixture.detectChanges();
    const compiled = fixture.nativeElement as HTMLElement;
    expect(compiled.querySelector('h1')?.textContent).toContain('Hello, frontend');
  });
});



================================================================================
FILE: src\app\app.ts
================================================================================

import { Component, signal } from '@angular/core';
import { ActivatedRoute, Router, RouterOutlet } from '@angular/router';
import { Header } from './shared/components/header/header';
import { Footer } from './shared/components/footer/footer';
import { Toast } from './shared/components/toast/toast';

@Component({
  selector: 'app-root',
  imports: [RouterOutlet, Header, Footer, Toast],
  templateUrl: './app.html',
  styleUrl: './app.css',
})
export class App {
  protected readonly title = signal('frontend');
  constructor(
    private route: ActivatedRoute,
    private router: Router,
  ) {}

  ngOnInit(): void {
    this.route.queryParams.subscribe((params) => {
      const login = params['login'];
      if (login) {
        this.router.navigate(['/login-promise'], {
          queryParams: { login_promise: login },
          replaceUrl: true,
        });
      }
    });
  }
}



================================================================================
FILE: src\app\core\constants\visuals.ts
================================================================================

/**
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * Central visual config - Roy's Shack
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 * Everything stored here centrally
 *
 * Placeholder until we have our own
 *
 * Type-safe
 */

import { Category } from '../../core/models/product.model';
import { environment } from '../../../environments/environment';

const ASSETS = environment.assetsURL;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Types
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export interface SlideData {
  image: string;
  title: string;
  subtitle: string;
  cta: string;
  link: string;
}

export interface LanguageOption {
  code: string;
  name: string;
  flag: string; // emoji or IMG url
  flagImage?: string; // image url if there is
}

export interface CategoryVisual {
  id: string;
  icon: string; // emoji
  image: string; // emoji or IMG url
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PLACEHOLDER system
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const PLACEHOLDER_BASE = 'https://via.placeholder.com';
const PRIMARY_COLOR = '067a45'; // green
const SECONDARY_COLOR = '0b5f39'; // dark green

/**
 * Placeholder generator functions
 */
export const PLACEHOLDERS = {
  /** Products pic placeholder */
  product: (width = 400, height = 400, text = 'Product') =>
    `${PLACEHOLDER_BASE}/${width}x${height}/${PRIMARY_COLOR}/ffffff?text=${encodeURIComponent(text)}`,

  /** Hero/Slide pic placeholder */
  hero: (width = 1920, height = 600, text = 'Hero') =>
    `${PLACEHOLDER_BASE}/${width}x${height}/${PRIMARY_COLOR}/ffffff?text=${encodeURIComponent(text)}`,

  /** Category pic placeholder */
  category: (width = 300, height = 300, text = 'Category') =>
    `${PLACEHOLDER_BASE}/${width}x${height}/${SECONDARY_COLOR}/ffffff?text=${encodeURIComponent(text)}`,

  /** Avatar/profil pic placeholder */
  avatar: (width = 100, height = 100) =>
    `${PLACEHOLDER_BASE}/${width}x${height}/cccccc/666666?text=User`,

  /** Logo placeholder */
  logo: (width = 200, height = 60) =>
    `${PLACEHOLDER_BASE}/${width}x${height}/${PRIMARY_COLOR}/ffffff?text=Roy's+Shack`,
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ICONS (Current)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const ICONS = {
  // User & Auth
  user: `${ASSETS}/assets/icons/userwhite.webp`,
  login: `${ASSETS}/assets/icons/loginwhite.webp`,

  // Shopping
  basket: `${ASSETS}/assets/icons/basketwhite.webp`,
  buy: `${ASSETS}/assets/icons/buywhite.webp`,

  // Social Media
  facebook: `${ASSETS}/assets/icons/facebookwhite.webp`,
  instagram: `${ASSETS}/assets/icons/instagramwhite.webp`,
  x: `${ASSETS}/assets/icons/xwhite.webp`,

  // Navigation & UI
  support: `${ASSETS}/assets/icons/supportwhite.webp`,
  language: `${ASSETS}/assets/icons/languagewhite.webp`,
  arrow: `${ASSETS}/assets/icons/arrowwhite.webp`,
  search: `${ASSETS}/assets/icons/searchwhite.webp`,
  filter: `${ASSETS}/assets/icons/filterwhite.webp`,

  // Theme
  sun: `${ASSETS}/assets/icons/sun.webp`,
  moon: `${ASSETS}/assets/icons/moon.webp`,

  // Actions
  add: `${ASSETS}/assets/icons/add.webp`,
  delete: `${ASSETS}/assets/icons/deletewhite.webp`,
  edit: `${ASSETS}/assets/icons/rename.webp`,

  // Info
  info: `${ASSETS}/assets/icons/infowhite.webp`,
  calendar: `${ASSETS}/assets/icons/calendarwhite.webp`,
  location: `${ASSETS}/assets/icons/locationwhite.webp`,

  // E-commerce
  favorites: `${ASSETS}/assets/icons/favoriteswhite.webp`,
  order: `${ASSETS}/assets/icons/orderwhite.webp`,
  payment: `${ASSETS}/assets/icons/paymentwhite.webp`,
  shipping: `${ASSETS}/assets/icons/shippingwhite.webp`,

  // Other
  natural: `${ASSETS}/assets/icons/naturalwhite.webp`,
  mail: `${ASSETS}/assets/icons/mailwhite.webp`,
  phone: `${ASSETS}/assets/icons/phonewhite.webp`,
  sale: `${ASSETS}/assets/icons/salewhite.webp`,
  customers: `${ASSETS}/assets/icons/customerswhite.webp`,
  reports: `${ASSETS}/assets/icons/reportwhite.webp`,
  safetypay: `${ASSETS}/assets/icons/safetypaywhite.webp`,
  select: `${ASSETS}/assets/icons/selectwhite.webp`,
  share: `${ASSETS}/assets/icons/sharewhite.webp`,
  ship: `${ASSETS}/assets/icons/shipwhite.webp`,
  sort: `${ASSETS}/assets/icons/sortwhite.webp`,
  support247: `${ASSETS}/assets/icons/247white.webp`,
} as const;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PICS (Current + Placeholders)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const IMAGES = {
  // Logo
  logo: `${ASSETS}/assets/images/ROYS_SHACK_WHITE.webp`,

  // Hero background
  heroBg: `${ASSETS}/assets/images/herobg.webp`,

  // Hero slides
  hero1: 'https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=1920&h=600&fit=crop&q=80',
  hero2: 'https://images.unsplash.com/photo-1550572017-edd951b55104?w=1920&h=600&fit=crop&q=80',
  hero3: 'https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=1920&h=600&fit=crop&q=80',
  hero4: 'https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=1920&h=600&fit=crop&q=80',

  // Language flags - emoji version
  flagHungary: 'ğŸ‡­ğŸ‡º',
  flagEnglish: 'ğŸ‡¬ğŸ‡§',
  flagGerman: 'ğŸ‡©ğŸ‡ª',

  productDefault: PLACEHOLDERS.product(400, 400, 'TermÃ©k'),
} as const;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SLIDE CONFIG
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const HERO_SLIDES: SlideData[] = [
  {
    image: IMAGES.hero1,
    title: 'slider.slide1.title',
    subtitle: 'slider.slide1.subtitle',
    cta: 'slider.cta',
    link: '/products',
  },
  {
    image: IMAGES.hero2,
    title: 'slider.slide2.title',
    subtitle: 'slider.slide2.subtitle',
    cta: 'slider.cta',
    link: '/products',
  },
  {
    image: IMAGES.hero3,
    title: 'slider.slide3.title',
    subtitle: 'slider.slide3.subtitle',
    cta: 'slider.cta',
    link: '/products',
  },
  {
    image: IMAGES.hero4,
    title: 'slider.slide4.title',
    subtitle: 'slider.slide4.subtitle',
    cta: 'slider.cta',
    link: '/products',
  },
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LANGUAGE OPTIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const LANGUAGE_OPTIONS: LanguageOption[] = [
  {
    code: 'hu',
    name: 'Magyar',
    flag: IMAGES.flagHungary,
  },
  {
    code: 'en',
    name: 'English',
    flag: IMAGES.flagEnglish,
  },
  {
    code: 'de',
    name: 'Deutsch',
    flag: IMAGES.flagGerman,
  },
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// NAVIGATION ICONS (Unicode)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const NAV_ICONS = {
  arrowLeft: 'â€¹',
  arrowRight: 'â€º',
  arrowUp: 'â–´',
  arrowDown: 'â–¾',

  close: 'âœ•',
  check: 'âœ“',
  menu: 'â˜°',

  star: 'â˜…',
  starEmpty: 'â˜†',
  heart: 'â™¥',
  heartEmpty: 'â™¡',
} as const;

export const NAV_SVG = {
  arrowLeft: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M15 18l-6-6 6-6"/>
  </svg>`,

  arrowRight: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M9 18l6-6-6-6"/>
  </svg>`,

  close: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M18 6L6 18M6 6l12 12"/>
  </svg>`,

  check: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M20 6L9 17l-5-5"/>
  </svg>`,
} as const;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CATEGORY VISUALS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const CATEGORY_VISUALS: Record<string, CategoryVisual> = {
  medicine: {
    id: 'medicine',
    icon: 'ğŸ’Š',
    image: PLACEHOLDERS.category(300, 300, 'GyÃ³gyszerek'),
  },
  vitamins: {
    id: 'vitamins',
    icon: 'ğŸŠ',
    image: PLACEHOLDERS.category(300, 300, 'Vitaminok'),
  },
  supplements: {
    id: 'supplements',
    icon: 'ğŸ’ª',
    image: PLACEHOLDERS.category(300, 300, 'TÃ¡plÃ¡lÃ©kkiegÃ©szÃ­tÅ‘k'),
  },
  cosmetics: {
    id: 'cosmetics',
    icon: 'ğŸ’„',
    image: PLACEHOLDERS.category(300, 300, 'Kozmetikumok'),
  },
  'baby-care': {
    id: 'baby-care',
    icon: 'ğŸ‘¶',
    image: PLACEHOLDERS.category(300, 300, 'BabaÃ¡polÃ¡s'),
  },
  'medical-devices': {
    id: 'medical-devices',
    icon: 'ğŸ©º',
    image: PLACEHOLDERS.category(300, 300, 'Orvosi eszkÃ¶zÃ¶k'),
  },
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CATEGORY NAMES (for conversion to full Category interface)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const CATEGORY_NAMES: Record<string, { hu: string; en: string; de: string }> = {
  medicine: {
    hu: 'GyÃ³gyszerek',
    en: 'Medicines',
    de: 'Medikamente',
  },
  vitamins: {
    hu: 'Vitaminok',
    en: 'Vitamins',
    de: 'Vitamine',
  },
  supplements: {
    hu: 'TÃ¡plÃ¡lÃ©kkiegÃ©szÃ­tÅ‘k',
    en: 'Supplements',
    de: 'NahrungsergÃ¤nzungsmittel',
  },
  cosmetics: {
    hu: 'Kozmetikumok',
    en: 'Cosmetics',
    de: 'Kosmetika',
  },
  'baby-care': {
    hu: 'BabaÃ¡polÃ¡s',
    en: 'Baby Care',
    de: 'Babypflege',
  },
  'medical-devices': {
    hu: 'Orvosi eszkÃ¶zÃ¶k',
    en: 'Medical Devices',
    de: 'Medizinische GerÃ¤te',
  },
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HELPER Functions
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function getImageUrl(path: string | undefined | null, fallback?: string): string {
  if (!path || path === '') {
    return fallback || IMAGES.productDefault;
  }
  return path;
}

export function getCategoryIcon(categoryId: string): string {
  return CATEGORY_VISUALS[categoryId]?.icon || 'ğŸ“¦';
}

export function getCategoryImage(categoryId: string): string {
  return CATEGORY_VISUALS[categoryId]?.image || IMAGES.productDefault;
}

export function getHeroSlide(index: number): SlideData {
  return HERO_SLIDES[index] || HERO_SLIDES[0];
}

export function getLanguageOption(code: string): LanguageOption | undefined {
  return LANGUAGE_OPTIONS.find((lang) => lang.code === code);
}

export function getIconUrl(iconKey: keyof typeof ICONS): string {
  return ICONS[iconKey] || '';
}

export function isEmoji(value: string): boolean {
  return value.length <= 4 && /[\u{1F300}-\u{1F9FF}]/u.test(value);
}

export function getCategoriesFromVisuals(): Category[] {
  return Object.values(CATEGORY_VISUALS).map((visual) => ({
    id: visual.id,
    name_hu: '',
    name_en: '',
    name_de: '',
    icon: visual.icon,
    color: '#067a45',
    count: 0,
  }));
}

export function getCategoryById(categoryId: string): Category | undefined {
  const visual = CATEGORY_VISUALS[categoryId];
  if (!visual) return undefined;
  return {
    id: visual.id,
    name_hu: '',
    name_en: '',
    name_de: '',
    icon: visual.icon,
    color: '#067a45',
    count: 0,
  };
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TYPE EXPORTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export type IconKey = keyof typeof ICONS;
export type ImageKey = keyof typeof IMAGES;
export type NavIconKey = keyof typeof NAV_ICONS;
export type CategoryId = keyof typeof CATEGORY_VISUALS;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DEFAULT EXPORT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export default {
  PLACEHOLDERS,
  ICONS,
  IMAGES,
  HERO_SLIDES,
  LANGUAGE_OPTIONS,
  NAV_ICONS,
  NAV_SVG,
  CATEGORY_VISUALS,

  // Helpers
  getImageUrl,
  getCategoryIcon,
  getCategoryImage,
  getHeroSlide,
  getLanguageOption,
  getIconUrl,
  isEmoji,
  getCategoriesFromVisuals,
  getCategoryById,
};



================================================================================
FILE: src\app\core\guards\auth.guard.ts
================================================================================

import { inject } from '@angular/core';
import { Router, CanActivateFn } from '@angular/router';
import { AuthService } from '../services/auth.service';

/**
 * Auth Guard - VÃ©dett route-ok kezelÃ©se
 *
 * HasznÃ¡lat:
 * {
 *   path: 'profile',
 *   component: ProfileComponent,
 *   canActivate: [authGuard]
 * }
 */
export const authGuard: CanActivateFn = (route, state) => {
  const authService = inject(AuthService);
  const router = inject(Router);

  if (authService.isUserAuthenticated()) {
    return true;
  }

  router.navigate(['/login'], {
    queryParams: { returnUrl: state.url },
  });

  return false;
};

/**
 * Admin Guard - Admin jogosultsÃ¡g ellenÅ‘rzÃ©se
 *
 * HasznÃ¡lat:
 * {
 *   path: 'admin',
 *   component: AdminComponent,
 *   canActivate: [adminGuard]
 * }
 */
export const adminGuard: CanActivateFn = (route, state) => {
  const authService = inject(AuthService);
  const router = inject(Router);

  if (!authService.isUserAuthenticated()) {
    router.navigate(['/login'], {
      queryParams: { returnUrl: state.url },
    });
    return false;
  }

  const currentUser = authService.currentUser();
  if (currentUser?.role === 'admin' || currentUser?.account_state === 'admin') {
    return true;
  }

  router.navigate(['/home']);
  return false;
};

/**
 * Guest Guard - Csak nem bejelentkezett usereknek
 * PÃ©ldÃ¡ul login/register oldalaknÃ¡l
 *
 * HasznÃ¡lat:
 * {
 *   path: 'login',
 *   component: LoginComponent,
 *   canActivate: [guestGuard]
 * }
 */
export const guestGuard: CanActivateFn = (route, state) => {
  const authService = inject(AuthService);
  const router = inject(Router);

  if (authService.isUserAuthenticated()) {
    router.navigate(['/home']);
    return false;
  }

  return true;
};



================================================================================
FILE: src\app\core\interceptors\auth.interceptors.ts
================================================================================

import { HttpInterceptorFn, HttpErrorResponse } from '@angular/common/http';
import { inject } from '@angular/core';
import { Router } from '@angular/router';
import { AuthService } from '../services/auth.service';
import { catchError, throwError } from 'rxjs';

export const authInterceptor: HttpInterceptorFn = (req, next) => {
  const authService = inject(AuthService);
  const router = inject(Router);
  const token = authService.getToken();

  const publicEndpoints = [
    '/login_request',
    '/login_promise',
    '/registration_request',
    '/registration_promise',
    '/chpass_request',
    '/chpass_promise',
    '/get_all_products',
    '/get_all_featured_products',
    '/newsletter_subscription',
  ];

  const isPublicEndpoint = publicEndpoints.some((endpoint) => req.url.includes(endpoint));

  let clonedRequest = req;
  if (token && !isPublicEndpoint) {
    clonedRequest = req.clone({
      setHeaders: {
        Authorization: `Bearer ${token}`,
        'Content-Type': 'application/json',
      },
    });
  } else if (!isPublicEndpoint) {
    clonedRequest = req.clone({
      setHeaders: {
        'Content-Type': 'application/json',
      },
    });
  }

  return next(clonedRequest).pipe(
    catchError((error: HttpErrorResponse) => {
      if (error.status === 401) {
        const errorType = error.error?.error;

        if (errorType === 'hianyzo_auth_header') {
          console.error('Missing authentication header');
          if (!isPublicEndpoint) {
            authService.logout();
            router.navigate(['/login'], {
              queryParams: { returnUrl: router.url },
            });
          }
        } else if (errorType === 'hibas_token') {
          console.error('Invalid or expired JWT token');
          authService.logout();
          router.navigate(['/login'], {
            queryParams: {
              returnUrl: router.url,
              message: 'session_expired',
            },
          });
        } else {
          console.error('Authentication error:', error.error);
        }
      }

      return throwError(() => error);
    }),
  );
};



================================================================================
FILE: src\app\core\models\auth.model.ts
================================================================================

export interface User {
  id: string;
  email: string;
  firstname: string;
  lastname: string;
  role?: string;
  account_state?: string;
  createdAt?: Date;
  updatedAt?: Date;
}

export interface LoginRequest {
  email: string;
  password: string;
}

export interface LoginRequestResponse {
  status: string; // email_sent | malformed_request | wrong_password | user_not_found
  statuscode: number;
}

export interface LoginPromiseRequest {
  id: string;
  confirmation_token: string;
}

export interface LoginResponse {
  status: string;
  statuscode: number;
  jwt_token: string;
  jwt_token_expiration: string;
  session_token: string;
  session_token_expiration: string;
}

export interface RegistrationRequest {
  email: string;
  password: string;
  firstname: string;
  lastname: string;
}

export interface RegistrationPromiseRequest {
  id: string;
  token: string;
}

export interface RegistrationResponse {
  status: string;
  statuscode: number;
  jwt_token: string;
  jwt_token_expiration: string;
  session_token: string;
  session_token_expiration: string;
  user?: User;
}

// chpass_request
export interface PasswordChangeRequest {
  email: string;
  password: string;
}

export interface PasswordChangePromiseRequest {
  id: string;
  token: string;
}

export interface AccountDeletionRequest {
  id: string;
  password: string;
}

export interface AccountDeletionPromiseRequest {
  id: string;
  token: string;
}

export interface ApiErrorResponse {
  status: string;
  message?: string;
  statusCode?: number;
}

export interface AuthState {
  isAuthenticated: boolean;
  user: User | null;
  token: string | null;
  sessionToken: string | null;
  expiresAt: Date | null;
}

export interface JWTPayload {
  sub?: string;
  email?: string;
  name?: string;
  exp?: number;
  iat?: number;
  iss?: string;
  aud?: string;
  jti?: string;
  'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name'?: string;
  'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress'?: string;
}



================================================================================
FILE: src\app\core\models\forum-blog.model.ts
================================================================================

export type PostCategory =
  | 'medicines'
  | 'natural-remedies'
  | 'baby-mother'
  | 'healthy-lifestyle'
  | 'seasonal-health'
  | 'qa'
  | 'general';

export type PostStatus = 'draft' | 'published' | 'archived' | 'pending';

export type PostType = 'blog' | 'forum';

export type AuthorRole = 'admin' | 'pharmacist' | 'user';

export interface Author {
  id: string;
  name: string;
  role: AuthorRole;
  avatar?: string;
  verified: boolean;
}

export interface Comment {
  id: string;
  postId: string;
  author: Author;
  content: string;
  createdAt: Date;
  updatedAt?: Date;
  likes: number;
  isEdited: boolean;
}

export interface BasePost {
  id: string;
  title: string;
  slug: string;
  excerpt: string;
  content: string;
  author: Author;
  category: PostCategory;
  tags: string[];
  imageUrl?: string;
  status: PostStatus;
  createdAt: Date;
  updatedAt?: Date;
  publishedAt?: Date;
  views: number;
  likes: number;
  commentCount: number;
  isFeatured: boolean;
  isPinned: boolean;
}

export interface BlogPost extends BasePost {
  type: 'blog';
  readingTime: number;
  relatedProducts?: string[];
  seoDescription?: string;
  seoKeywords?: string[];
}

export interface ForumPost extends BasePost {
  type: 'forum';
  isQuestion: boolean;
  hasAcceptedAnswer: boolean;
  acceptedAnswerId?: string;
  lastActivityAt: Date;
}

export type Post = BlogPost | ForumPost;

export interface PostFilters {
  category?: PostCategory;
  tags?: string[];
  authorRole?: AuthorRole;
  searchQuery?: string;
  status?: PostStatus;
  type?: PostType;
  isFeatured?: boolean;
  isPinned?: boolean;
}

export type SortOption = 'newest' | 'oldest' | 'most-viewed' | 'most-liked' | 'trending';

export interface PaginationOptions {
  page: number;
  pageSize: number;
  totalItems?: number;
  totalPages?: number;
}

export interface PostListResponse {
  posts: Post[];
  pagination: PaginationOptions;
  filters: PostFilters;
  sortBy: SortOption;
}

export interface CategoryInfo {
  id: PostCategory;
  icon: string;
  colorClass: string;
  translationKey: string;
}

//Mock
export const POST_CATEGORIES: CategoryInfo[] = [
  {
    id: 'medicines',
    icon: 'ğŸ’Š',
    colorClass: 'category-medicines',
    translationKey: 'forum.category.medicines',
  },
  {
    id: 'natural-remedies',
    icon: 'ğŸŒ¿',
    colorClass: 'category-natural',
    translationKey: 'forum.category.natural_remedies',
  },
  {
    id: 'baby-mother',
    icon: 'ğŸ‘¶',
    colorClass: 'category-baby',
    translationKey: 'forum.category.baby_mother',
  },
  {
    id: 'healthy-lifestyle',
    icon: 'ğŸ’ª',
    colorClass: 'category-lifestyle',
    translationKey: 'forum.category.healthy_lifestyle',
  },
  {
    id: 'seasonal-health',
    icon: 'ğŸ¤§',
    colorClass: 'category-seasonal',
    translationKey: 'forum.category.seasonal_health',
  },
  {
    id: 'qa',
    icon: 'â“',
    colorClass: 'category-qa',
    translationKey: 'forum.category.qa',
  },
  {
    id: 'general',
    icon: 'ğŸ“',
    colorClass: 'category-general',
    translationKey: 'forum.category.general',
  },
];



================================================================================
FILE: src\app\core\models\product.model.ts
================================================================================

export interface Product {
  id: string;

  name: string;
  name_hu: string;
  name_en: string;
  name_de: string;

  description_hu: string;
  description_en: string;
  description_de: string;
  description_preview_hu: string;
  description_preview_en: string;
  description_preview_de: string;

  price_huf: string;
  price_usd: string;
  price_eur: string;

  sale_percentage: string;
  stock: string;
  times_ordered: string;

  // Backend sends category_id; older mock data may use category
  category_id?: string;
  category?: string;

  manufacturer: string;
  brand: string;
  rating: string;
  sku: string;
  active_ingredients: string;
  packaging: string;

  thumbnail_url: string;

  featured: string;

  created_at: string;
  updated_at: string;
}

// â”€â”€â”€ Raw backend shape â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Matches the product_categories table:
//   id, category_en, category_hu, category_de, emoji, color, number_of_products
export interface ProductCategory {
  id: string;
  category_en: string;
  category_hu: string;
  category_de: string;
  emoji: string;
  color: string;
  number_of_products: string;
}

// â”€â”€â”€ Frontend-friendly shape used by components â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export interface Category {
  id: string;
  name_hu: string;
  name_en: string;
  name_de: string;
  icon: string;
  color: string;
  count: number; // computed from actual products, NOT from number_of_products
}

/**
 * Maps a raw ProductCategory from the API to the frontend Category shape.
 * `count` is intentionally 0 here â€“ ProductService.categories computed
 * signal overrides it with the real product count derived from allProductsSignal.
 */
export function mapProductCategory(raw: ProductCategory): Category {
  return {
    id: raw.id,
    name_hu: raw.category_hu,
    name_en: raw.category_en,
    name_de: raw.category_de,
    icon: raw.emoji,
    color: raw.color,
    count: 0,
  };
}

export interface ProductImage {
  id: string;
  product_id: string;
  image_url: string;
  alt_text_hu: string;
  alt_text_en: string;
  alt_text_de: string;
  sort_id: string;
}

export interface ProductsApiResponse {
  statuscode: string;
  status: string;
  products: Product[];
}

export interface ProductCategoriesApiResponse {
  statuscode: string;
  status: string;
  product_categories: ProductCategory[];
}

export interface ProductImagesApiResponse {
  statuscode: string;
  status: string;
  images: ProductImage[];
}

export interface ProductWithHelpers extends Product {
  priceNumber: number;
  stockNumber: number;
  salePercentageNumber: number;
  ratingNumber: number;

  inStock: boolean;
  hasDiscount: boolean;
  requiresPrescription: boolean;
  isFeatured: boolean;

  price: number;
  discountPercentage: number;
  stockQuantity: number;
  reviewCount: number;

  category: string;

  nameHu: string;
  nameEn: string;
  nameDe: string;

  description: string;
  descriptionHu: string;
  descriptionEn: string;
  descriptionDe: string;
  activeIngredients: string;

  imageUrl: string;
  images: string[];

  dosage?: string;
}

export type SortOption =
  | 'popularity'
  | 'default'
  | 'price-asc'
  | 'price-desc'
  | 'name-asc'
  | 'name-desc'
  | 'newest'
  | 'rating'
  | 'rating-desc';

export interface ProductFilterOptions {
  categories?: string[];
  priceRange?: { min: number; max: number } | null;
  minPrice?: number;
  maxPrice?: number;
  inStockOnly?: boolean;
  hasDiscount?: boolean;
  sortBy?: SortOption;
  searchQuery?: string;
  manufacturers?: string[];
  brands?: string[];
}

export interface PaginationConfig {
  currentPage: number;
  itemsPerPage: number;
  totalItems: number;
  totalPages: number;
}

export function enrichProduct(
  product: Product,
  currentLang: 'hu' | 'en' | 'de' = 'hu',
  galleryImages: ProductImage[] = [],
): ProductWithHelpers {
  const priceNumber = parseFloat(product.price_huf) || 0;
  const stockNumber = parseInt(product.stock) || 0;
  const salePercentageNumber = parseFloat(product.sale_percentage) || 0;
  const ratingNumber = parseFloat(product.rating) || 0;

  const inStock = stockNumber > 0;
  const hasDiscount = salePercentageNumber > 0;
  const requiresPrescription = false;
  const isFeatured = product.featured === '1';

  const discountedPrice = hasDiscount
    ? priceNumber * (1 - salePercentageNumber / 100)
    : priceNumber;

  let name = product.name || '';
  let description = '';

  switch (currentLang) {
    case 'hu':
      name = product.name_hu || product.name;
      description = product.description_hu || '';
      break;
    case 'en':
      name = product.name_en || product.name;
      description = product.description_en || '';
      break;
    case 'de':
      name = product.name_de || product.name;
      description = product.description_de || '';
      break;
  }

  const imageUrl = product.thumbnail_url || '';
  const images =
    galleryImages.length > 0
      ? galleryImages
          .sort((a, b) => parseInt(a.sort_id) - parseInt(b.sort_id))
          .map((img) => img.image_url)
      : imageUrl
        ? [imageUrl]
        : [];

  const resolvedCategory = product.category_id ?? product.category ?? '';

  return {
    ...product,
    name,
    priceNumber,
    stockNumber,
    salePercentageNumber,
    ratingNumber,
    inStock,
    hasDiscount,
    requiresPrescription,
    isFeatured,
    price: discountedPrice,
    discountPercentage: salePercentageNumber,
    stockQuantity: stockNumber,
    reviewCount: 0,

    category: resolvedCategory,
    nameHu: product.name_hu,
    nameEn: product.name_en,
    nameDe: product.name_de,
    description,
    descriptionHu: product.description_hu,
    descriptionEn: product.description_en,
    descriptionDe: product.description_de,
    activeIngredients: product.active_ingredients,
    imageUrl,
    images,
    dosage: undefined,
  };
}



================================================================================
FILE: src\app\core\services\account.service.ts
================================================================================

import { Injectable, inject } from '@angular/core';
import { HttpClient, HttpErrorResponse } from '@angular/common/http';
import { Observable, throwError } from 'rxjs';
import { catchError, tap } from 'rxjs/operators';
import { AuthService } from './auth.service';
import { User } from '../models/auth.model';
import { environment } from '../../../environments/environment';

export interface UpdateProfileRequest {
  firstname?: string;
  lastname?: string;
  email?: string;
}

export interface DeleteAccountRequest {
  id: string;
  password: string;
}

export interface ApiResponse<T = any> {
  statuscode: string;
  status: string;
  message?: string;
  data?: T;
}

export interface OrderItem {
  productId: string;
  quantity: number;
}

export interface CreateOrderRequest {
  city: string;
  zipcode: string;
  address: string;
  houseNumber: number;
  apartmentNumber: number;
  phoneNumber: string;
  note: string;
  items: OrderItem[];
}

export interface AdminUser {
  id: string;
  email: string;
  created_at: string;
  first_name: string;
  last_name: string;
  /** unverified | verified | admin | banned | deleted */
  account_state: string;
}

export interface AdminUsersResponse {
  statuscode: string;
  status: string;
  users: AdminUser[];
}

export interface AdminOrder {
  id: string;
  user_id: string;
  created_at: string;
  price: string;
  city: string;
  apartment_number: string;
  note: string;
  house_number: string;
  phone_number: string;
}

export interface AdminOrdersResponse {
  statuscode: string;
  status: string;
  orders: AdminOrder[];
}

export interface AdminAuthBody {
  id: string;
  token: string;
}

@Injectable({
  providedIn: 'root',
})
export class AccountService {
  private readonly API_URL = environment.baseURL;
  private http = inject(HttpClient);
  private authService = inject(AuthService);

  getProfile(): Observable<User> {
    return this.http.get<User>(`${this.API_URL}/api/profile`).pipe(catchError(this.handleError));
  }

  updateProfile(updates: UpdateProfileRequest): Observable<ApiResponse<User>> {
    const encodedUpdates: Partial<UpdateProfileRequest> = {};

    if (updates.firstname) encodedUpdates.firstname = this.encodeBase64(updates.firstname);
    if (updates.lastname) encodedUpdates.lastname = this.encodeBase64(updates.lastname);
    if (updates.email) encodedUpdates.email = this.encodeBase64(updates.email);

    return this.http
      .put<ApiResponse<User>>(`${this.API_URL}/api/profile`, encodedUpdates)
      .pipe(catchError(this.handleError));
  }

  deleteAccountRequest(userId: string, password: string): Observable<ApiResponse> {
    const request: DeleteAccountRequest = {
      id: this.encodeBase64(userId),
      password: this.encodeBase64(password),
    };

    return this.http
      .post<ApiResponse>(`${this.API_URL}/api/delacc_request`, request)
      .pipe(catchError(this.handleError));
  }

  // encodedId and encodedToken comes from url, already b64
  confirmAccountDeletion(encodedId: string, encodedToken: string): Observable<ApiResponse> {
    const request = {
      id: encodedId,
      token: encodedToken,
    };

    return this.http.post<ApiResponse>(`${this.API_URL}/api/delacc_promise`, request).pipe(
      tap(() => this.authService.logout()),
      catchError(this.handleError),
    );
  }

  changePassword(
    userId: string,
    currentPassword: string,
    newPassword: string,
  ): Observable<ApiResponse> {
    const request = {
      id: this.encodeBase64(userId),
      currentPassword: this.encodeBase64(currentPassword),
      newPassword: this.encodeBase64(newPassword),
    };

    return this.http
      .post<ApiResponse>(`${this.API_URL}/api/change-password`, request)
      .pipe(catchError(this.handleError));
  }

  createOrder(order: CreateOrderRequest): Observable<ApiResponse> {
    return this.http
      .post<ApiResponse>(`${this.API_URL}/api/create_order`, order)
      .pipe(catchError(this.handleError));
  }

  getOrderHistory(): Observable<ApiResponse<any[]>> {
    return this.http
      .get<ApiResponse<any[]>>(`${this.API_URL}/api/orders`)
      .pipe(catchError(this.handleError));
  }

  getSavedAddresses(): Observable<ApiResponse<any[]>> {
    return this.http
      .get<ApiResponse<any[]>>(`${this.API_URL}/api/addresses`)
      .pipe(catchError(this.handleError));
  }

  getAllUsersAdmin(): Observable<AdminUsersResponse> {
    const body = this.buildAdminAuthBody();
    return this.http
      .post<AdminUsersResponse>(`${this.API_URL}/api/get_all_users`, body)
      .pipe(catchError(this.handleError));
  }

  getAllOrdersAdmin(): Observable<AdminOrdersResponse> {
    const body = this.buildAdminAuthBody();
    return this.http
      .post<AdminOrdersResponse>(`${this.API_URL}/api/get_all_orders`, body)
      .pipe(catchError(this.handleError));
  }

  private buildAdminAuthBody(): AdminAuthBody {
    const user = this.authService.currentUser();
    const sessionToken = this.authService.getSessionToken();
    const jwtToken = this.authService.getToken();

    const tokenToSend = sessionToken ?? jwtToken ?? '';
    const userId = user?.id ?? '';

    return {
      id: this.encodeBase64(userId),
      token: this.encodeBase64(tokenToSend),
    };
  }

  private encodeBase64(value: string): string {
    try {
      return btoa(unescape(encodeURIComponent(value)));
    } catch {
      return btoa(value);
    }
  }

  private handleError(error: HttpErrorResponse): Observable<never> {
    let errorMessage = 'An unknown error occurred';

    if (error.error instanceof ErrorEvent) {
      errorMessage = `Error: ${error.error.message}`;
    } else {
      switch (error.status) {
        case 400:
          errorMessage = 'account.errors.bad_request';
          break;
        case 401:
          errorMessage = 'account.errors.unauthorized';
          break;
        case 403:
          errorMessage = 'account.errors.forbidden';
          break;
        case 404:
          errorMessage = 'account.errors.not_found';
          break;
        case 500:
          errorMessage = 'account.errors.server_error';
          break;
        default:
          errorMessage = error.error?.message || error.message || errorMessage;
      }
    }

    return throwError(() => new Error(errorMessage));
  }
}



================================================================================
FILE: src\app\core\services\auth.service.ts
================================================================================

import { Injectable, signal, computed, inject } from '@angular/core';
import { HttpClient, HttpErrorResponse } from '@angular/common/http';
import { Router } from '@angular/router';
import { BehaviorSubject, Observable, throwError } from 'rxjs';
import { catchError, tap } from 'rxjs/operators';
import {
  User,
  LoginRequest,
  LoginRequestResponse,
  LoginPromiseRequest,
  LoginResponse,
  RegistrationRequest,
  RegistrationPromiseRequest,
  RegistrationResponse,
  PasswordChangeRequest,
  PasswordChangePromiseRequest,
  AuthState,
  ApiErrorResponse,
} from '../models/auth.model';
import { environment } from '../../../environments/environment';
import { ToastService } from './toast.service';

@Injectable({
  providedIn: 'root',
})
export class AuthService {
  private readonly API_URL = environment.baseURL;

  private readonly TOKEN_KEY = 'auth_token';
  private readonly USER_KEY = 'auth_user';
  private readonly EXPIRES_KEY = 'auth_expires';
  private readonly STORAGE_TYPE_KEY = 'auth_storage_type';
  private readonly SESSION_TOKEN_KEY = 'auth_session_token';

  private toastService = inject(ToastService);

  private authStateSignal = signal<AuthState>({
    isAuthenticated: false,
    user: null,
    token: null,
    sessionToken: null,
    expiresAt: null,
  });

  public authState = this.authStateSignal.asReadonly();
  public isAuthenticated = computed(() => this.authStateSignal().isAuthenticated);
  public currentUser = computed(() => this.authStateSignal().user);
  public token = computed(() => this.authStateSignal().token);
  public sessionToken = computed(() => this.authStateSignal().sessionToken);

  private authStateSubject = new BehaviorSubject<AuthState>({
    isAuthenticated: false,
    user: null,
    token: null,
    sessionToken: null,
    expiresAt: null,
  });
  public authState$ = this.authStateSubject.asObservable();

  constructor(
    private http: HttpClient,
    private router: Router,
  ) {
    this.initAuth();
    this.setupStorageListener();
  }

  private initAuth(): void {
    const token = this.getStoredToken();
    const user = this.getStoredUser();
    const expiresAt = this.getStoredExpiration();
    const sessionToken = this.getStoredSessionToken();

    if (token && user && expiresAt) {
      if (new Date() < expiresAt) {
        this.updateAuthState({
          isAuthenticated: true,
          user,
          token,
          sessionToken,
          expiresAt,
        });
      } else {
        this.clearStorage();
      }
    }
  }

  private setupStorageListener(): void {
    if (typeof window !== 'undefined') {
      window.addEventListener('storage', (event) => {
        if (event.key === this.TOKEN_KEY && event.newValue === null) {
          this.updateAuthState({
            isAuthenticated: false,
            user: null,
            token: null,
            sessionToken: null,
            expiresAt: null,
          });

          if (!this.router.url.includes('/login')) {
            this.router.navigate(['/login'], { queryParams: {} });
          }
        }

        if (event.key === this.TOKEN_KEY && event.newValue !== null) {
          this.initAuth();
        }
      });
    }
  }

  isTokenExpired(): boolean {
    const expiresAt = this.authStateSignal().expiresAt;
    if (!expiresAt) return true;

    const now = new Date();
    const expirationTime = new Date(expiresAt);
    const fiveMinutes = 5 * 60 * 1000;

    return now.getTime() >= expirationTime.getTime() - fiveMinutes;
  }

  // Stage 1: email + password -> email
  loginRequest(email: string, password: string) {
    const request: LoginRequest = {
      email: this.encodeBase64(email),
      password: this.encodeBase64(password),
    };

    return this.http
      .post<LoginRequestResponse>(`${this.API_URL}/api/login_request`, request)
      .pipe(catchError(this.handleError.bind(this)));
  }

  // Stage 2: id and confirmation_token b64 from url
  loginPromise(
    id: string,
    confirmationToken: string,
    stayLoggedIn: boolean,
  ): Observable<LoginResponse> {
    const request: LoginPromiseRequest = {
      id,
      confirmation_token: confirmationToken,
    };

    return this.http.post<LoginResponse>(`${this.API_URL}/api/login_promise`, request).pipe(
      tap((response) => {
        this.handleLoginSuccess(response, stayLoggedIn);
      }),
      catchError(this.handleError.bind(this)),
    );
  }

  // registration_request: b64 string
  register(email: string, password: string, firstname: string, lastname: string): Observable<void> {
    const request: RegistrationRequest = {
      email: this.encodeBase64(email),
      password: this.encodeBase64(password),
      firstname: this.encodeBase64(firstname),
      lastname: this.encodeBase64(lastname),
    };

    return this.http
      .post<void>(`${this.API_URL}/api/registration_request`, request)
      .pipe(catchError(this.handleError.bind(this)));
  }

  // id and token b64 from url
  completeRegistration(
    id: string,
    token: string,
    stayLoggedIn: boolean = true,
  ): Observable<RegistrationResponse> {
    const request: RegistrationPromiseRequest = {
      id,
      token,
    };

    return this.http
      .post<RegistrationResponse>(`${this.API_URL}/api/registration_promise`, request)
      .pipe(
        tap((response) => {
          this.handleLoginSuccess(
            response as unknown as LoginResponse,
            stayLoggedIn,
            response.user,
            true, // skipNavigation
          );
        }),
        catchError(this.handleError.bind(this)),
      );
  }

  // chpass_request: b64 string
  requestPasswordChange(email: string, newPassword: string) {
    const request: PasswordChangeRequest = {
      email: this.encodeBase64(email),
      password: this.encodeBase64(newPassword),
    };

    return this.http
      .post<void>(`${this.API_URL}/api/chpass_request`, request)
      .pipe(catchError(this.handleError.bind(this)));
  }

  completePasswordChange(id: string, token: string) {
    const request: PasswordChangePromiseRequest = {
      id, // b64 from url
      token, // b64 from url
    };

    return this.http
      .post<void>(`${this.API_URL}/api/chpass_promise`, request)
      .pipe(catchError(this.handleError.bind(this)));
  }

  logout(): void {
    this.clearStorage();
    this.updateAuthState({
      isAuthenticated: false,
      user: null,
      token: null,
      sessionToken: null,
      expiresAt: null,
    });
    this.router.navigate(['/login']);
  }

  getToken(): string | null {
    const token = this.authStateSignal().token;

    if (token && this.isTokenExpired()) {
      this.logout();
      return null;
    }

    return token;
  }

  getSessionToken(): string | null {
    return this.authStateSignal().sessionToken;
  }

  isUserAuthenticated(): boolean {
    const isAuth = this.authStateSignal().isAuthenticated;
    const hasValidToken = this.getToken() !== null;
    return isAuth && hasValidToken;
  }

  refreshAuthState(): void {
    this.initAuth();
  }

  hasStoredSession(): boolean {
    return this.getStoredToken() !== null;
  }

  private decodeJWT(token: string): any {
    try {
      const base64Url = token.split('.')[1];
      const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
      const jsonPayload = decodeURIComponent(
        atob(base64)
          .split('')
          .map((c) => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2))
          .join(''),
      );
      return JSON.parse(jsonPayload);
    } catch (error) {
      console.error('JWT decode error:', error);
      return null;
    }
  }

  private handleLoginSuccess(
    response: LoginResponse,
    stayLoggedIn: boolean,
    user?: User,
    skipNavigation = false,
  ): void {
    const jwtToken = response.jwt_token;
    const sessionToken = response.session_token ?? null;
    const expiresAt = response.jwt_token_expiration
      ? new Date(response.jwt_token_expiration)
      : new Date(Date.now() + 7 * 24 * 60 * 60 * 1000); // fallback: 7 days

    let userData = user;
    if (!userData && jwtToken) {
      const decoded = this.decodeJWT(jwtToken);
      if (decoded) {
        userData = {
          id: decoded.sub || decoded['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name'],
          email:
            decoded.email ||
            decoded['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress'],
          firstname: decoded.firstname || '',
          lastname: decoded.lastname || '',
        };
      }
    }

    this.clearStorage();
    this.storeToken(jwtToken, expiresAt, stayLoggedIn);
    this.storeSessionToken(sessionToken, stayLoggedIn);
    if (userData) {
      this.storeUser(userData, stayLoggedIn);
    }

    this.updateAuthState({
      isAuthenticated: true,
      user: userData || this.getStoredUser(),
      token: jwtToken,
      sessionToken,
      expiresAt,
    });

    if (!skipNavigation) {
      this.router.navigate(['/home'], { queryParams: {} });
      setTimeout(() => {
        this.toastService.success('auth.success.welcome_back');
      }, 300);
    }
  }

  private updateAuthState(state: AuthState): void {
    this.authStateSignal.set(state);
    this.authStateSubject.next(state);
  }

  private storeToken(token: string, expiresAt: Date, stayLoggedIn: boolean): void {
    const storage = stayLoggedIn ? localStorage : sessionStorage;
    storage.setItem(this.TOKEN_KEY, token);
    storage.setItem(this.EXPIRES_KEY, expiresAt.toISOString());
    storage.setItem(this.STORAGE_TYPE_KEY, stayLoggedIn ? 'local' : 'session');
  }

  private storeSessionToken(sessionToken: string | null, stayLoggedIn: boolean): void {
    if (!sessionToken) return;
    const storage = stayLoggedIn ? localStorage : sessionStorage;
    storage.setItem(this.SESSION_TOKEN_KEY, sessionToken);
  }

  private storeUser(user: User, stayLoggedIn: boolean): void {
    const storage = stayLoggedIn ? localStorage : sessionStorage;
    storage.setItem(this.USER_KEY, JSON.stringify(user));
  }

  private getStoredToken(): string | null {
    return localStorage.getItem(this.TOKEN_KEY) || sessionStorage.getItem(this.TOKEN_KEY);
  }

  private getStoredSessionToken(): string | null {
    return (
      localStorage.getItem(this.SESSION_TOKEN_KEY) || sessionStorage.getItem(this.SESSION_TOKEN_KEY)
    );
  }

  private getStoredUser(): User | null {
    const userJson = localStorage.getItem(this.USER_KEY) || sessionStorage.getItem(this.USER_KEY);
    if (!userJson) return null;

    try {
      return JSON.parse(userJson);
    } catch {
      return null;
    }
  }

  private getStoredExpiration(): Date | null {
    const expiresStr =
      localStorage.getItem(this.EXPIRES_KEY) || sessionStorage.getItem(this.EXPIRES_KEY);
    if (!expiresStr) return null;

    try {
      return new Date(expiresStr);
    } catch {
      return null;
    }
  }

  private clearStorage(): void {
    [localStorage, sessionStorage].forEach((storage) => {
      storage.removeItem(this.TOKEN_KEY);
      storage.removeItem(this.USER_KEY);
      storage.removeItem(this.EXPIRES_KEY);
      storage.removeItem(this.STORAGE_TYPE_KEY);
      storage.removeItem(this.SESSION_TOKEN_KEY);
    });
  }

  encodeBase64(value: string): string {
    try {
      return btoa(unescape(encodeURIComponent(value)));
    } catch {
      return btoa(value);
    }
  }

  private handleError(error: HttpErrorResponse): Observable<never> {
    let errorMessage = 'auth.errors.unknown_error';

    if (error.error instanceof ErrorEvent) {
      errorMessage = 'auth.errors.network_error';
    } else {
      const apiError = error.error as ApiErrorResponse;
      const backendStatus = apiError?.status; // backend "status" field , pl. "wrong_password"

      // backend status code
      switch (backendStatus) {
        case 'inexistent_user_or_incorrect_data':
          errorMessage = 'auth.errors.invalid_credentials_or_inexistent_user';
          break;
        case 'user_not_found':
          errorMessage = 'auth.errors.invalid_credentials';
          break;
        case 'user_already_exists':
          errorMessage = 'auth.errors.email_exists';
          break;
        case 'user_already_activated':
          errorMessage = 'auth.errors.already_activated';
          break;
        case 'wrong_token':
        case 'wrong_confirmation_token':
          errorMessage = 'auth.errors.invalid_token';
          break;
        case 'confirmation_expired':
          errorMessage = 'auth.errors.token_expired';
          break;
        case 'user_banned':
          errorMessage = 'auth.errors.account_banned';
          break;
        case 'malformed_request':
          errorMessage = 'auth.errors.bad_request';
          break;
        case 'internal_error':
          errorMessage = 'auth.errors.server_error';
          break;
        default:
          // Fallback: HTTP status
          switch (error.status) {
            case 0:
              errorMessage = 'auth.errors.network_error';
              break;
            case 400:
              errorMessage = 'auth.errors.bad_request';
              break;
            case 401:
              errorMessage = 'auth.errors.invalid_credentials';
              break;
            case 403:
              errorMessage = 'auth.errors.invalid_credentials__or_inexistent_user';
              break;
            case 404:
              errorMessage = 'auth.errors.not_found';
              break;
            case 409:
              errorMessage = 'auth.errors.email_exists';
              break;
            case 500:
              errorMessage = 'auth.errors.server_error';
              break;
          }
      }

      // wrong jwt = logout
      if (backendStatus === 'hianyzo_auth_header' || backendStatus === 'hibas_token') {
        this.logout();
      }
    }

    return throwError(() => new Error(errorMessage));
  }
}



================================================================================
FILE: src\app\core\services\cart.service.ts
================================================================================

import { Injectable, signal, computed, inject } from '@angular/core';
import { Product, ProductWithHelpers } from '../models/product.model';
import { TranslationService } from './translation.service';
import { CurrencyService } from './currency.service';

export interface CartItem {
  product: ProductWithHelpers;
  quantity: number;
}

@Injectable({
  providedIn: 'root',
})
export class CartService {
  private translationService = inject(TranslationService);
  private currencyService = inject(CurrencyService);

  private cartItems = signal<CartItem[]>([]);

  items = this.cartItems.asReadonly();

  itemCount = computed(() => this.cartItems().reduce((sum, item) => sum + item.quantity, 0));

  totalPrice = computed(() =>
    this.cartItems().reduce((sum, item) => {
      return sum + this.getItemTotal(item.product, item.quantity);
    }, 0),
  );

  constructor() {
    this.loadCartFromStorage();
  }

  getProductPrice(product: Product): number {
    return this.currencyService.getBasePrice(product);
  }

  getProductFinalPrice(product: Product): number {
    return this.currencyService.getDiscountedPrice(product);
  }

  getItemTotal(product: Product, quantity: number): number {
    return this.currencyService.getDiscountedPrice(product) * quantity;
  }

  /**
   * Formats a price using the current currency.
   * Use this in templates instead of showing product.price directly.
   */
  formatPrice(price: number): string {
    return this.currencyService.formatPrice(price);
  }

  /**
   * Returns the correctly converted unit price for a product,
   * formatted as a string with currency symbol.
   */
  getFormattedUnitPrice(product: Product): string {
    return this.currencyService.formatPrice(this.currencyService.getDiscountedPrice(product));
  }

  /**
   * Returns the formatted total price for a cart item (unit price Ã— quantity).
   */
  getFormattedItemTotal(product: Product, quantity: number): string {
    return this.currencyService.formatPrice(this.getItemTotal(product, quantity));
  }

  getProductName(product: Product): string {
    const currentLang = this.translationService.getCurrentLanguage();
    switch (currentLang) {
      case 'hu':
        return product.name_hu;
      case 'en':
        return product.name_en;
      case 'de':
        return product.name_de;
      default:
        return product.name_en;
    }
  }

  getProductDescription(product: Product, preview: boolean = false): string {
    const currentLang = this.translationService.getCurrentLanguage();
    if (preview) {
      switch (currentLang) {
        case 'hu':
          return product.description_preview_hu;
        case 'en':
          return product.description_preview_en;
        case 'de':
          return product.description_preview_de;
        default:
          return product.description_preview_en;
      }
    }
    switch (currentLang) {
      case 'hu':
        return product.description_hu;
      case 'en':
        return product.description_en;
      case 'de':
        return product.description_de;
      default:
        return product.description_en;
    }
  }

  /**
   * Adds a product to the cart.
   *
   * - If the product is already in the cart: instead of increasing the quantity,
   *   it overwrites it with the new value (setQuantity mode),
   *   unless explicitMode = false, in which case it adds to the existing quantity (addMode).
   * - If the product is not in the cart: it adds it as a new item with the specified quantity.
   *
   * @param product   The product to be added
   * @param quantity  Quantity (default: 1)
   * @param addMode   true = add to existing quantity | false = overwrite (default: true)
   */
  addToCart(product: ProductWithHelpers, quantity: number = 1, addMode: boolean = true): void {
    const existingItem = this.cartItems().find((item) => item.product.id === product.id);

    if (existingItem) {
      const newQuantity = addMode ? existingItem.quantity + quantity : quantity;
      this.updateQuantity(product.id, newQuantity);
    } else {
      this.cartItems.update((items) => [...items, { product, quantity }]);
      this.saveCartToStorage();
    }
  }

  removeFromCart(productId: string): void {
    this.cartItems.update((items) => items.filter((item) => item.product.id !== productId));
    this.saveCartToStorage();
  }

  updateQuantity(productId: string, quantity: number): void {
    if (quantity <= 0) {
      this.removeFromCart(productId);
      return;
    }
    this.cartItems.update((items) =>
      items.map((item) => {
        if (item.product.id === productId) {
          const maxStock = parseFloat(item.product.stock) || 0;
          return { ...item, quantity: Math.min(quantity, maxStock) };
        }
        return item;
      }),
    );
    this.saveCartToStorage();
  }

  clearCart(): void {
    this.cartItems.set([]);
    this.saveCartToStorage();
  }

  isInCart(productId: string): boolean {
    return this.cartItems().some((item) => item.product.id === productId);
  }

  getItemQuantity(productId: string): number {
    const item = this.cartItems().find((item) => item.product.id === productId);
    return item?.quantity ?? 0;
  }

  private saveCartToStorage(): void {
    try {
      localStorage.setItem('cart', JSON.stringify(this.cartItems()));
    } catch (error) {
      console.error('Failed to save cart to localStorage:', error);
    }
  }

  private loadCartFromStorage(): void {
    try {
      const savedCart = localStorage.getItem('cart');
      if (savedCart) {
        const parsedCart = JSON.parse(savedCart) as CartItem[];
        this.cartItems.set(parsedCart);
      }
    } catch (error) {
      console.error('Failed to load cart from localStorage:', error);
    }
  }
}



================================================================================
FILE: src\app\core\services\currency.service.ts
================================================================================

import { Injectable, inject, computed, signal } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { TranslationService, SupportedLanguage } from './translation.service';
import { toSignal } from '@angular/core/rxjs-interop';
import { firstValueFrom } from 'rxjs';

export interface CurrencyConfig {
  code: string;
  symbol: string;
  locale: string;
}

export interface HasPriceFields {
  price_huf: string;
  price_usd?: string;
  price_eur?: string;
  sale_percentage: string;
}

interface FrankfurterResponse {
  rates: Record<string, number>;
}

@Injectable({
  providedIn: 'root',
})
export class CurrencyService {
  private translationService = inject(TranslationService);
  private http = inject(HttpClient);

  private currentLang = toSignal(this.translationService.currentLang$, {
    initialValue: 'en' as SupportedLanguage,
  });

  // Fallback rates: 1 HUF in USD / EUR (approximate)
  private ratesSignal = signal<Record<string, number>>({
    USD: 0.0028,
    EUR: 0.0026,
  });

  private readonly currencyMap: Record<SupportedLanguage, CurrencyConfig> = {
    hu: { code: 'HUF', symbol: 'Ft', locale: 'hu-HU' },
    en: { code: 'USD', symbol: '$', locale: 'en-US' },
    de: { code: 'EUR', symbol: 'â‚¬', locale: 'de-DE' },
  };

  currentCurrency = computed(() => this.currencyMap[this.currentLang()]);

  constructor() {
    this.fetchExchangeRates();
  }

  private async fetchExchangeRates(): Promise<void> {
    try {
      const response = await firstValueFrom(
        this.http.get<FrankfurterResponse>(
          'https://api.frankfurter.app/latest?from=HUF&to=USD,EUR',
        ),
      );
      if (response?.rates) {
        this.ratesSignal.set(response.rates);
        console.log('Exchange rates updated:', response.rates);
      }
    } catch (err) {
      console.warn('Failed to fetch exchange rates, using fallback values:', err);
    }
  }

  private convertFromHuf(hufPrice: number, targetCurrency: string): number {
    if (targetCurrency === 'HUF') return hufPrice;
    const rate = this.ratesSignal()[targetCurrency];
    if (!rate) return hufPrice;
    return Math.round(hufPrice * rate * 100) / 100;
  }

  formatPrice(price: number): string {
    const currency = this.currentCurrency();
    const formatted = price.toLocaleString(currency.locale, {
      minimumFractionDigits: 0,
      maximumFractionDigits: 2,
    });
    return currency.code === 'HUF'
      ? `${formatted} ${currency.symbol}`
      : `${currency.symbol}${formatted}`;
  }

  getBasePrice(product: HasPriceFields): number {
    const code = this.currentCurrency().code;
    const hufPrice = parseFloat(product.price_huf) || 0;

    switch (code) {
      case 'USD':
        // Use explicit price_usd if available, otherwise convert from HUF
        if (product.price_usd && parseFloat(product.price_usd) > 0) {
          return parseFloat(product.price_usd);
        }
        return this.convertFromHuf(hufPrice, 'USD');

      case 'EUR':
        // Use explicit price_eur if available, otherwise convert from HUF
        if (product.price_eur && parseFloat(product.price_eur) > 0) {
          return parseFloat(product.price_eur);
        }
        return this.convertFromHuf(hufPrice, 'EUR');

      default:
        return hufPrice;
    }
  }

  getDiscountedPrice(product: HasPriceFields): number {
    const base = this.getBasePrice(product);
    const sale = parseFloat(product.sale_percentage) || 0;
    return sale > 0 ? Math.round(base * (1 - sale / 100) * 100) / 100 : base;
  }

  getCurrencyForLanguage(lang: SupportedLanguage): CurrencyConfig {
    return this.currencyMap[lang];
  }

  getCurrentCurrencyCode(): string {
    return this.currentCurrency().code;
  }

  getCurrentCurrencySymbol(): string {
    return this.currentCurrency().symbol;
  }
}



================================================================================
FILE: src\app\core\services\forum-blog.service.ts
================================================================================

import { Injectable, signal, computed } from '@angular/core';
import { Observable, of, delay } from 'rxjs';
import {
  Post,
  BlogPost,
  ForumPost,
  PostFilters,
  SortOption,
  Author,
} from '../models/forum-blog.model';
import { environment } from '../../../environments/environment';

@Injectable({
  providedIn: 'root',
})
export class ForumBlogService {
  private postsSignal = signal<Post[]>(this.getMockPosts());
  private filtersSignal = signal<PostFilters>({});
  private sortBySignal = signal<SortOption>('newest');
  private currentPageSignal = signal(1);
  private pageSizeSignal = signal(9);

  posts = this.postsSignal.asReadonly();
  filters = this.filtersSignal.asReadonly();
  sortBy = this.sortBySignal.asReadonly();

  currentPage = computed(() => this.currentPageSignal());

  filteredPosts = computed(() => {
    const posts = this.applyFilters(this.postsSignal(), this.filtersSignal());
    return this.applySorting(posts, this.sortBySignal());
  });

  paginatedPosts = computed(() => {
    const posts = this.filteredPosts();
    const page = this.currentPageSignal();
    const pageSize = this.pageSizeSignal();
    const startIndex = (page - 1) * pageSize;
    return posts.slice(startIndex, startIndex + pageSize);
  });

  totalPages = computed(() => {
    return Math.ceil(this.filteredPosts().length / this.pageSizeSignal());
  });

  getAllPosts(): Observable<Post[]> {
    return of(this.postsSignal()).pipe(delay(300));
  }

  getBlogPosts(): Observable<BlogPost[]> {
    const blogPosts = this.postsSignal().filter((post): post is BlogPost => post.type === 'blog');
    return of(blogPosts).pipe(delay(300));
  }

  getForumPosts(): Observable<ForumPost[]> {
    const forumPosts = this.postsSignal().filter(
      (post): post is ForumPost => post.type === 'forum',
    );
    return of(forumPosts).pipe(delay(300));
  }

  getPostById(idOrSlug: string): Observable<Post | null> {
    const post = this.postsSignal().find((p) => p.id === idOrSlug || p.slug === idOrSlug) || null;
    return of(post).pipe(delay(200));
  }

  getFeaturedBlogPosts(limit = 3): Observable<BlogPost[]> {
    const featured = this.postsSignal()
      .filter((post): post is BlogPost => post.type === 'blog' && post.isFeatured)
      .slice(0, limit);
    return of(featured).pipe(delay(200));
  }

  getRelatedPosts(postId: string, limit = 3): Observable<Post[]> {
    const currentPost = this.postsSignal().find((p) => p.id === postId);
    if (!currentPost) return of([]);
    const related = this.postsSignal()
      .filter((p) => p.id !== postId && p.category === currentPost.category)
      .slice(0, limit);
    return of(related).pipe(delay(200));
  }

  setFilters(filters: PostFilters): void {
    this.filtersSignal.set(filters);
    this.currentPageSignal.set(1);
  }

  setSorting(sortBy: SortOption): void {
    this.sortBySignal.set(sortBy);
    this.currentPageSignal.set(1);
  }

  setPage(page: number): void {
    if (page >= 1 && page <= this.totalPages()) {
      this.currentPageSignal.set(page);
    }
  }

  private applyFilters(posts: Post[], filters: PostFilters): Post[] {
    return posts.filter((post) => {
      if (filters.category && post.category !== filters.category) return false;
      if (filters.type && post.type !== filters.type) return false;
      if (filters.authorRole && post.author.role !== filters.authorRole) return false;
      if (filters.isFeatured !== undefined && post.isFeatured !== filters.isFeatured) return false;
      if (filters.isPinned !== undefined && post.isPinned !== filters.isPinned) return false;
      if (filters.searchQuery) {
        const query = filters.searchQuery.toLowerCase();
        const searchable = `${post.title} ${post.excerpt} ${post.content}`.toLowerCase();
        if (!searchable.includes(query)) return false;
      }
      if (filters.tags && filters.tags.length > 0) {
        const hasMatchingTag = filters.tags.some((tag) => post.tags.includes(tag));
        if (!hasMatchingTag) return false;
      }
      return true;
    });
  }

  private applySorting(posts: Post[], sortBy: SortOption): Post[] {
    const sorted = [...posts];
    switch (sortBy) {
      case 'newest':
        return sorted.sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime());
      case 'oldest':
        return sorted.sort((a, b) => a.createdAt.getTime() - b.createdAt.getTime());
      case 'most-viewed':
        return sorted.sort((a, b) => b.views - a.views);
      case 'most-liked':
        return sorted.sort((a, b) => b.likes - a.likes);
      case 'trending':
        return sorted.sort(
          (a, b) => this.calculateTrendingScore(b) - this.calculateTrendingScore(a),
        );
      default:
        return sorted;
    }
  }

  private calculateTrendingScore(post: Post): number {
    const daysSincePublished = post.publishedAt
      ? (Date.now() - post.publishedAt.getTime()) / (1000 * 60 * 60 * 24)
      : 999;
    const recencyScore = Math.max(0, 7 - daysSincePublished);
    const activityScore = post.views * 0.1 + post.likes * 2 + post.commentCount * 5;
    return recencyScore * 10 + activityScore;
  }

  private getMockPosts(): Post[] {
    const mockAuthors: Author[] = [
      { id: '1', name: 'Dr. Nagy Katalin', role: 'pharmacist', verified: true },
      { id: '2', name: 'Roy patika', role: 'admin', verified: true },
      { id: '3', name: 'KovÃ¡cs Anna', role: 'user', verified: false },
      { id: '4', name: 'Dr. SzabÃ³ PÃ©ter', role: 'pharmacist', verified: true },
    ];

    const blogPosts: BlogPost[] = [
      {
        id: 'blog-1',
        type: 'blog',
        title: 'TÃ©li influenza megelÅ‘zÃ©s: amit tudnod kell',
        slug: 'teli-influenza-megelozes',
        excerpt:
          'A tÃ©li hÃ³napok bekÃ¶szÃ¶ntÃ©vel kÃ¼lÃ¶nÃ¶sen fontos az influenza elleni vÃ©delem. Ebben a cikkben megmutatjuk, hogyan erÅ‘sÃ­theted immunrendszeredet.',
        content: 'A tÃ©li influenza minden Ã©vben milliÃ³k Ã©letÃ©t nehezÃ­ti meg vilÃ¡gszerte.',
        author: mockAuthors[0],
        category: 'seasonal-health',
        tags: ['influenza', 'megelÅ‘zÃ©s', 'tÃ©l', 'vitamin'],
        imageUrl: `${environment.assetsURL}/assets/images/blog/influenza-prevention.jpg`,
        status: 'published',
        createdAt: new Date('2024-11-15'),
        publishedAt: new Date('2024-11-15'),
        views: 1234,
        likes: 89,
        commentCount: 12,
        isFeatured: true,
        isPinned: true,
        readingTime: 5,
      },
      {
        id: 'blog-2',
        type: 'blog',
        title: 'AllergiÃ¡s tÃ¼netek enyhÃ­tÃ©se termÃ©szetes mÃ³don',
        slug: 'allergias-tunetek-termeszetes-enyhites',
        excerpt:
          'A tavaszi allergiaszezon kihÃ­vÃ¡st jelenthet sokak szÃ¡mÃ¡ra. Ismerd meg a termÃ©szetes mÃ³dszereket!',
        content: 'Az allergia egy tÃºlÃ©rzÃ©kenysÃ©gi reakciÃ³.',
        author: mockAuthors[1],
        category: 'natural-remedies',
        tags: ['allergia', 'termÃ©szetes gyÃ³gymÃ³d', 'tavasz'],
        imageUrl: `${environment.assetsURL}/assets/images/blog/allergy-natural-remedies.jpg`,
        status: 'published',
        createdAt: new Date('2024-03-10'),
        publishedAt: new Date('2024-03-10'),
        views: 856,
        likes: 67,
        commentCount: 8,
        isFeatured: true,
        isPinned: false,
        readingTime: 4,
      },
      {
        id: 'blog-3',
        type: 'blog',
        title: 'Baba bÅ‘rÃ¡polÃ¡s: alapvetÅ‘ tudnivalÃ³k',
        slug: 'baba-borapolas-alapok',
        excerpt:
          'Az ÃºjszÃ¼lÃ¶tt bÅ‘rÃ¡polÃ¡sa kÃ¼lÃ¶nleges figyelmet igÃ©nyel. Tippek a legkisebbek bÅ‘rÃ©nek vÃ©delmÃ©re.',
        content: 'A babÃ¡k bÅ‘re rendkÃ­vÃ¼l Ã©rzÃ©keny Ã©s vÃ©kony.',
        author: mockAuthors[0],
        category: 'baby-mother',
        tags: ['baba', 'bÅ‘rÃ¡polÃ¡s', 'ÃºjszÃ¼lÃ¶tt'],
        imageUrl: `${environment.assetsURL}/assets/images/blog/baby-skincare.jpg`,
        status: 'published',
        createdAt: new Date('2024-12-01'),
        publishedAt: new Date('2024-12-01'),
        views: 643,
        likes: 54,
        commentCount: 15,
        isFeatured: false,
        isPinned: false,
        readingTime: 6,
      },
    ];

    const forumPosts: ForumPost[] = [
      {
        id: 'forum-1',
        type: 'forum',
        title: 'Melyik fÃ¡jdalomcsillapÃ­tÃ³t vÃ¡lasszam?',
        slug: 'melyik-fajdalomcsillapito',
        excerpt:
          'Gyakran fejfÃ¡jÃ³s vagyok, de nem tudom, hogy paracetamol vagy ibuprofen lenne-e jobb nekem.',
        content: 'Sziasztok! Rendszeresen kÃ¼zdÃ¶k fejfÃ¡jÃ¡ssal...',
        author: mockAuthors[2],
        category: 'qa',
        tags: ['fÃ¡jdalomcsillapÃ­tÃ³', 'paracetamol', 'ibuprofen'],
        status: 'published',
        createdAt: new Date('2024-12-10'),
        publishedAt: new Date('2024-12-10'),
        views: 342,
        likes: 23,
        commentCount: 7,
        isFeatured: false,
        isPinned: false,
        isQuestion: true,
        hasAcceptedAnswer: true,
        acceptedAnswerId: 'comment-1',
        lastActivityAt: new Date('2024-12-12'),
      },
      {
        id: 'forum-2',
        type: 'forum',
        title: 'D-vitamin pÃ³tlÃ¡s tÃ©len - ki mennyit szed?',
        slug: 'd-vitamin-potlas-telen',
        excerpt: 'A tÃ©li hÃ³napokban sokan kÃ¼zdenek D-vitamin hiÃ¡nnyal. Ki milyen adagot szed?',
        content: 'Sziasztok! TÃ©len mindig fÃ¡radtabb vagyok...',
        author: mockAuthors[2],
        category: 'healthy-lifestyle',
        tags: ['D-vitamin', 'tÃ©l', 'vitamin pÃ³tlÃ¡s'],
        status: 'published',
        createdAt: new Date('2024-11-20'),
        publishedAt: new Date('2024-11-20'),
        views: 567,
        likes: 45,
        commentCount: 18,
        isFeatured: false,
        isPinned: false,
        isQuestion: true,
        hasAcceptedAnswer: false,
        lastActivityAt: new Date('2024-12-11'),
      },
      {
        id: 'forum-3',
        type: 'forum',
        title: 'Probiotikumok antibiotikum kÃºra utÃ¡n',
        slug: 'probiotikumok-antibiotikum-utan',
        excerpt:
          'Antibiotikum kÃºrÃ¡t kÃ¶vetÅ‘en Ã©rdemes probiotikumot szedni? Mikor kezdjem Ã©s meddig?',
        content: 'NemrÃ©g fejeztem be egy 10 napos antibiotikum kÃºrÃ¡t...',
        author: mockAuthors[2],
        category: 'medicines',
        tags: ['probiotikum', 'antibiotikum', 'bÃ©lflÃ³ra'],
        status: 'published',
        createdAt: new Date('2024-12-05'),
        publishedAt: new Date('2024-12-05'),
        views: 421,
        likes: 31,
        commentCount: 9,
        isFeatured: false,
        isPinned: false,
        isQuestion: true,
        hasAcceptedAnswer: true,
        acceptedAnswerId: 'comment-2',
        lastActivityAt: new Date('2024-12-09'),
      },
    ];

    return [...blogPosts, ...forumPosts];
  }
}



================================================================================
FILE: src\app\core\services\theme.service.ts
================================================================================

import { Injectable } from '@angular/core';
import { BehaviorSubject } from 'rxjs';

export type Theme = 'light' | 'dark';

@Injectable({
  providedIn: 'root',
})
export class ThemeService {
  private currentThemeSubject = new BehaviorSubject<Theme>('light');
  public currentTheme$ = this.currentThemeSubject.asObservable();

  constructor() {
    this.initTheme();
  }

  private initTheme(): void {
    const savedTheme = this.getSavedTheme();
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    const themeToUse = savedTheme || (prefersDark ? 'dark' : 'light');
    this.setTheme(themeToUse);
  }

  public setTheme(theme: Theme): void {
    this.currentThemeSubject.next(theme);
    this.applyTheme(theme);
    this.saveTheme(theme);
  }

  public toggleTheme(): void {
    const newTheme = this.currentThemeSubject.value === 'light' ? 'dark' : 'light';
    this.setTheme(newTheme);
  }

  public getCurrentTheme(): Theme {
    return this.currentThemeSubject.value;
  }

  private applyTheme(theme: Theme): void {
    const htmlElement = document.documentElement;
    htmlElement.setAttribute('data-theme', theme);
  }

  private saveTheme(theme: Theme): void {
    localStorage.setItem('preferredTheme', theme);
  }

  private getSavedTheme(): Theme | null {
    const saved = localStorage.getItem('preferredTheme');
    return saved as Theme | null;
  }
}



================================================================================
FILE: src\app\core\services\toast.service.ts
================================================================================

import { Injectable, signal } from '@angular/core';

export interface Toast {
  id: string;
  message: string;
  type: 'success' | 'error' | 'info' | 'warning';
  duration?: number;
}

@Injectable({
  providedIn: 'root',
})
export class ToastService {
  private toasts = signal<Toast[]>([]);
  public toasts$ = this.toasts.asReadonly();

  show(message: string, type: Toast['type'] = 'info', duration: number = 3000): void {
    const id = Math.random().toString(36).substring(7);
    const toast: Toast = { id, message, type, duration };

    this.toasts.update((current) => [...current, toast]);

    if (duration > 0) {
      setTimeout(() => {
        this.remove(id);
      }, duration);
    }
  }

  success(message: string, duration?: number): void {
    this.show(message, 'success', duration);
  }

  error(message: string, duration?: number): void {
    this.show(message, 'error', duration);
  }

  info(message: string, duration?: number): void {
    this.show(message, 'info', duration);
  }

  warning(message: string, duration?: number): void {
    this.show(message, 'warning', duration);
  }

  remove(id: string): void {
    this.toasts.update((current) => current.filter((toast) => toast.id !== id));
  }

  clear(): void {
    this.toasts.set([]);
  }
}



================================================================================
FILE: src\app\core\services\translation.service.ts
================================================================================

import { Injectable } from '@angular/core';
import { TranslateService } from '@ngx-translate/core';
import { BehaviorSubject } from 'rxjs';

export type SupportedLanguage = 'hu' | 'en' | 'de';

@Injectable({
  providedIn: 'root',
})
export class TranslationService {
  private currentLangSubject = new BehaviorSubject<SupportedLanguage>('en');
  public currentLang$ = this.currentLangSubject.asObservable();

  constructor(private translate: TranslateService) {
    this.initLanguage();
  }

  private initLanguage(): void {
    const defaultLang: SupportedLanguage = 'en';
    const supportedLangs: SupportedLanguage[] = ['hu', 'en', 'de'];

    this.translate.addLangs(supportedLangs);
    this.translate.setDefaultLang(defaultLang);

    const savedLang = this.getSavedLanguage();
    const langToUse = savedLang || defaultLang;

    this.setLanguage(langToUse);
  }

  public setLanguage(lang: SupportedLanguage): void {
    this.translate.use(lang);
    this.currentLangSubject.next(lang);
    this.saveLanguage(lang);
  }

  public getCurrentLanguage(): SupportedLanguage {
    return this.currentLangSubject.value;
  }

  private saveLanguage(lang: SupportedLanguage): void {
    localStorage.setItem('preferredLanguage', lang);
  }

  private getSavedLanguage(): SupportedLanguage | null {
    const saved = localStorage.getItem('preferredLanguage');
    return saved as SupportedLanguage | null;
  }

  public instant(key: string): string {
    return this.translate.instant(key);
  }
}



================================================================================
FILE: src\app\pages\admin\admin.css
================================================================================

.admin-page {
  display: flex;
  min-height: 100vh;
  background: var(--bg-secondary);
}

.admin-sidebar {
  width: 240px;
  background: var(--bg-primary);
  border-right: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  transition: width 0.25s ease;
  flex-shrink: 0;
  z-index: 10;
}

.admin-sidebar.collapsed {
  width: 64px;
}

.sidebar-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-4) var(--space-3);
  border-bottom: 1px solid var(--border-color);
  min-height: 64px;
}

.sidebar-logo {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  overflow: hidden;
}

.logo-icon {
  font-size: 24px;
  flex-shrink: 0;
}

.logo-text {
  font-weight: 700;
  font-size: var(--text-base, 1rem);
  color: var(--color-primary);
  white-space: nowrap;
}

.sidebar-toggle {
  background: transparent;
  border: 1px solid var(--border-color);
  border-radius: var(--radius-sm, 0.375rem);
  cursor: pointer;
  padding: var(--space-1) var(--space-2);
  color: var(--text-secondary);
  font-size: 12px;
  transition: all 0.15s;
  flex-shrink: 0;
}

.sidebar-toggle:hover {
  background: var(--bg-secondary);
  color: var(--text-primary);
}

.sidebar-nav {
  flex: 1;
  padding: var(--space-3) var(--space-2);
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.nav-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3);
  border: none;
  border-radius: var(--radius-lg, 0.75rem);
  background: transparent;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.15s;
  text-align: left;
  width: 100%;
  white-space: nowrap;
  overflow: hidden;
  min-height: 44px;
}

.nav-item:hover {
  background: var(--bg-secondary);
  color: var(--text-primary);
}

.nav-item.active {
  background: var(--color-primary);
  color: white;
}

.nav-icon {
  font-size: 18px;
  flex-shrink: 0;
}
.nav-label {
  font-size: var(--text-sm, 0.9rem);
  font-weight: 500;
}

.sidebar-footer {
  padding: var(--space-3) var(--space-2);
  border-top: 1px solid var(--border-color);
}

.logout-btn {
  color: #dc2626 !important;
}
.logout-btn:hover {
  background: rgba(220, 38, 38, 0.08) !important;
}

.admin-main {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0;
  overflow: hidden;
}

.admin-topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--space-6);
  height: 64px;
  background: var(--bg-primary);
  border-bottom: 1px solid var(--border-color);
  position: sticky;
  top: 0;
  z-index: 9;
  gap: var(--space-4);
}

.topbar-left {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}
.topbar-right {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.mobile-menu-btn {
  display: none;
  background: transparent;
  border: none;
  font-size: 22px;
  cursor: pointer;
  color: var(--text-primary);
  padding: var(--space-2);
  border-radius: var(--radius-md, 0.5rem);
}

.page-heading {
  font-size: var(--text-xl, 1.25rem);
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
}

.admin-badge {
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 3px var(--space-2);
  background: rgba(6, 122, 69, 0.12);
  color: var(--color-primary);
  border-radius: var(--radius-full, 9999px);
  border: 1px solid rgba(6, 122, 69, 0.2);
}

.admin-name {
  font-size: var(--text-sm, 0.9rem);
  font-weight: 600;
  color: var(--text-primary);
}

.section-content {
  padding: var(--space-6);
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

.dashboard-greeting h2 {
  font-size: clamp(1.2rem, 2.5vw, 1.5rem);
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-4);
}

.stat-card {
  background: var(--bg-primary);
  border-radius: var(--radius-xl, 1rem);
  padding: var(--space-5);
  display: flex;
  align-items: center;
  gap: var(--space-4);
  border: 1px solid var(--border-color);
  transition: all 0.2s;
}

.stat-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.stat-icon {
  font-size: 36px;
  flex-shrink: 0;
}

.stat-body {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}

.stat-value {
  font-size: clamp(1.1rem, 2vw, 1.5rem);
  font-weight: 700;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.stat-label {
  font-size: 0.75rem;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.4px;
}

.stat-change {
  font-size: 0.75rem;
  font-weight: 600;
}

.stat-change.positive {
  color: var(--color-primary);
}
.stat-change.negative {
  color: #dc2626;
}
.stat-change.neutral {
  color: #f59e0b;
}

.stat-card.primary {
  border-top: 3px solid var(--color-primary);
}
.stat-card.success {
  border-top: 3px solid #10b981;
}
.stat-card.info {
  border-top: 3px solid #3b82f6;
}
.stat-card.warning {
  border-top: 3px solid #f59e0b;
}

.admin-card {
  background: var(--bg-primary);
  border-radius: var(--radius-xl, 1rem);
  border: 1px solid var(--border-color);
  overflow: hidden;
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-5) var(--space-6);
  border-bottom: 1px solid var(--border-color);
}

.card-title {
  font-size: var(--text-lg, 1.1rem);
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.view-all-btn {
  background: transparent;
  border: none;
  color: var(--color-primary);
  font-size: var(--text-sm, 0.9rem);
  font-weight: 600;
  cursor: pointer;
  transition: opacity 0.15s;
}

.view-all-btn:hover {
  opacity: 0.7;
}

.table-wrapper {
  overflow-x: auto;
}

.admin-table {
  width: 100%;
  border-collapse: collapse;
  font-size: var(--text-sm, 0.9rem);
  min-width: 600px;
}

.admin-table th {
  text-align: left;
  padding: var(--space-3) var(--space-4);
  background: var(--bg-secondary);
  color: var(--text-secondary);
  font-weight: 600;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.4px;
  white-space: nowrap;
}

.admin-table td {
  padding: var(--space-3) var(--space-4);
  border-bottom: 1px solid var(--border-color);
  color: var(--text-primary);
  vertical-align: middle;
}

.admin-table tr:last-child td {
  border-bottom: none;
}

.admin-table tr:hover td {
  background: var(--bg-secondary);
}

.order-id {
  font-family: 'Inconsolata', monospace;
  font-weight: 600;
}
.muted {
  color: var(--text-secondary) !important;
}
.font-bold {
  font-weight: 600;
}

.status-badge {
  display: inline-block;
  padding: 2px var(--space-2);
  border-radius: var(--radius-full, 9999px);
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.4px;
  white-space: nowrap;
}

.status-pending {
  background: rgba(245, 158, 11, 0.12);
  color: #d97706;
  border: 1px solid rgba(245, 158, 11, 0.3);
}
.status-processing {
  background: rgba(59, 130, 246, 0.12);
  color: #2563eb;
  border: 1px solid rgba(59, 130, 246, 0.3);
}
.status-shipped {
  background: rgba(139, 92, 246, 0.12);
  color: #7c3aed;
  border: 1px solid rgba(139, 92, 246, 0.3);
}
.status-delivered {
  background: rgba(6, 122, 69, 0.12);
  color: #067a45;
  border: 1px solid rgba(6, 122, 69, 0.3);
}
.status-cancelled {
  background: rgba(220, 38, 38, 0.12);
  color: #dc2626;
  border: 1px solid rgba(220, 38, 38, 0.3);
}

.role-badge {
  display: inline-block;
  padding: 2px var(--space-2);
  border-radius: var(--radius-full, 9999px);
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
}

.role-admin {
  background: rgba(220, 38, 38, 0.1);
  color: #dc2626;
}
.role-pharmacist {
  background: rgba(6, 122, 69, 0.1);
  color: #067a45;
}
.role-user {
  background: var(--bg-secondary);
  color: var(--text-secondary);
}

.stock-ok {
  color: var(--color-primary);
  font-weight: 600;
}
.stock-low {
  color: #dc2626;
  font-weight: 700;
}

.action-btn {
  background: transparent;
  border: none;
  cursor: pointer;
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm, 0.375rem);
  font-size: 16px;
  transition: background 0.15s;
}

.action-btn:hover {
  background: var(--bg-secondary);
}

.user-cell {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.user-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--color-primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 14px;
  flex-shrink: 0;
}

.product-cell {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.product-thumb {
  width: 32px;
  height: 32px;
  border-radius: var(--radius-md, 0.5rem);
  background: var(--bg-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  flex-shrink: 0;
  border: 1px solid var(--border-color);
}

.section-toolbar {
  display: flex;
  gap: var(--space-3);
  align-items: center;
  flex-wrap: wrap;
}

.search-input-wrapper {
  position: relative;
  flex: 1;
  min-width: 200px;
}

.search-icon-small {
  position: absolute;
  left: var(--space-3);
  top: 50%;
  transform: translateY(-50%);
  pointer-events: none;
  font-size: 14px;
}

.admin-search {
  width: 100%;
  padding: var(--space-2) var(--space-10) var(--space-2) var(--space-8);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg, 0.75rem);
  background: var(--bg-primary);
  color: var(--text-primary);
  font-size: var(--text-sm, 0.9rem);
  min-height: 40px;
  transition:
    border-color 0.15s,
    box-shadow 0.15s;
}

.admin-search:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(6, 122, 69, 0.1);
}

.admin-select {
  padding: var(--space-2) var(--space-4);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg, 0.75rem);
  background: var(--bg-primary);
  color: var(--text-primary);
  font-size: var(--text-sm, 0.9rem);
  min-height: 40px;
  cursor: pointer;
}

.add-btn {
  padding: var(--space-2) var(--space-4);
  background: var(--color-primary);
  color: white;
  border: none;
  border-radius: var(--radius-lg, 0.75rem);
  font-size: var(--text-sm, 0.9rem);
  font-weight: 600;
  cursor: pointer;
  min-height: 40px;
  white-space: nowrap;
  transition:
    background 0.15s,
    transform 0.15s;
}

.add-btn:hover {
  background: var(--color-primary-dark);
  transform: translateY(-1px);
}

@media (max-width: 1024px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .admin-sidebar {
    position: fixed;
    left: 0;
    top: 0;
    height: 100vh;
    z-index: 100;
    transform: translateX(-100%);
    transition:
      transform 0.25s ease,
      width 0.25s ease;
    box-shadow: var(--shadow-xl);
  }

  .admin-sidebar.collapsed {
    width: 240px;
    transform: translateX(0);
  }

  .mobile-menu-btn {
    display: flex;
  }

  .sidebar-toggle {
    display: none;
  }

  .admin-topbar {
    padding: 0 var(--space-4);
  }

  .section-content {
    padding: var(--space-4);
    gap: var(--space-4);
  }

  .stats-grid {
    grid-template-columns: 1fr 1fr;
    gap: var(--space-3);
  }

  .stat-icon {
    font-size: 28px;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: 1fr;
  }

  .section-toolbar {
    flex-direction: column;
    align-items: stretch;
  }

  .search-input-wrapper {
    min-width: unset;
  }

  .admin-topbar {
    padding: 0 var(--space-3);
  }

  .page-heading {
    font-size: var(--text-base, 1rem);
  }

  .admin-name {
    display: none;
  }
}

[data-theme='dark'] .admin-table tr:hover td {
  background: var(--bg-tertiary);
}
[data-theme='dark'] .admin-table th {
  background: var(--bg-tertiary);
}


@media (prefers-reduced-motion: reduce) {
  .admin-sidebar,
  .stat-card,
  .nav-item,
  .add-btn {
    transition: none;
  }
}



================================================================================
FILE: src\app\pages\admin\admin.html
================================================================================

<div class="admin-page">
  <aside class="admin-sidebar" [class.collapsed]="sidebarCollapsed()">
    <div class="sidebar-header">
      <div class="sidebar-logo">
        <span class="logo-icon">ğŸ¥</span>
        @if (!sidebarCollapsed()) {
          <span class="logo-text">Roy's Admin</span>
        }
      </div>
      <button
        class="sidebar-toggle"
        (click)="toggleSidebar()"
        [attr.aria-label]="'admin.toggle_sidebar' | translate"
      >
        {{ sidebarCollapsed() ? 'â–¶' : 'â—€' }}
      </button>
    </div>

    <nav class="sidebar-nav">
      @for (item of navItems; track item.id) {
        <button
          [class]="'nav-item' + (activeSection() === item.id ? ' active' : '')"
          (click)="setSection(item.id)"
          [attr.title]="item.label | translate"
        >
          <span class="nav-icon">{{ item.icon }}</span>
          @if (!sidebarCollapsed()) {
            <span class="nav-label">{{ item.label | translate }}</span>
          }
        </button>
      }
    </nav>

    @if (!sidebarCollapsed()) {
      <div class="sidebar-footer">
        <button class="nav-item logout-btn" (click)="logout()">
          <span class="nav-icon">ğŸšª</span>
          <span class="nav-label">{{ 'profile.logout' | translate }}</span>
        </button>
      </div>
    }
  </aside>

  <main class="admin-main">
    <header class="admin-topbar">
      <div class="topbar-left">
        <button
          class="mobile-menu-btn"
          (click)="toggleSidebar()"
          [attr.aria-label]="'admin.toggle_sidebar' | translate"
        >
          â˜°
        </button>
        <h1 class="page-heading">{{ currentSectionLabel() | translate }}</h1>
      </div>
      <div class="topbar-right">
        <span class="admin-badge">{{ 'admin.role' | translate }}</span>
        <span class="admin-name">{{ adminName() }}</span>
      </div>
    </header>

    @if (activeSection() === 'dashboard') {
      <div class="section-content">
        <div class="dashboard-greeting">
          <h2>{{ 'admin.greeting' | translate: { name: adminName() } }}</h2>
        </div>

        <div class="stats-grid">
          <div class="stat-card primary">
            <div class="stat-icon">ğŸ“¦</div>
            <div class="stat-body">
              @if (ordersLoading()) {
                <span class="stat-value loading-pulse">â€”</span>
              } @else {
                <span class="stat-value">{{ stats().totalOrders }}</span>
              }
              <span class="stat-label">{{ 'admin.stats.total_orders' | translate }}</span>
            </div>
          </div>
          <div class="stat-card success">
            <div class="stat-icon">ğŸ’°</div>
            <div class="stat-body">
              @if (ordersLoading()) {
                <span class="stat-value loading-pulse">â€”</span>
              } @else {
                <span class="stat-value">{{ formatRevenue(stats().revenue) }}</span>
              }
              <span class="stat-label">{{ 'admin.stats.revenue' | translate }}</span>
            </div>
          </div>
          <div class="stat-card info">
            <div class="stat-icon">ğŸ‘¥</div>
            <div class="stat-body">
              @if (usersLoading()) {
                <span class="stat-value loading-pulse">â€”</span>
              } @else {
                <span class="stat-value">{{ stats().totalUsers }}</span>
              }
              <span class="stat-label">{{ 'admin.stats.total_users' | translate }}</span>
            </div>
          </div>
          <div class="stat-card warning">
            <div class="stat-icon">ğŸ·ï¸</div>
            <div class="stat-body">
              @if (productsLoading()) {
                <span class="stat-value loading-pulse">â€”</span>
              } @else {
                <span class="stat-value">{{ stats().totalProducts }}</span>
              }
              <span class="stat-label">{{ 'admin.stats.total_products' | translate }}</span>
              @if (!productsLoading() && stats().lowStock > 0) {
                <span class="stat-change warning-text">
                  {{ stats().lowStock }} {{ 'admin.stats.low_stock' | translate }}
                </span>
              }
            </div>
          </div>
        </div>

        <div class="admin-card">
          <div class="card-header">
            <h2 class="card-title">{{ 'admin.recent_orders' | translate }}</h2>
            <button class="view-all-btn" (click)="setSection('orders')">
              {{ 'admin.view_all' | translate }} â†’
            </button>
          </div>

          @if (ordersLoading()) {
            <div class="loading-state">
              <span class="spinner">â³</span>
              <span>{{ 'admin.loading' | translate }}</span>
            </div>
          } @else if (ordersError()) {
            <div class="error-state">
              <span>âš ï¸ {{ ordersError()! | translate }}</span>
              <button class="retry-btn" (click)="loadOrders()">
                {{ 'common.retry' | translate }}
              </button>
            </div>
          } @else if (recentOrders().length === 0) {
            <div class="empty-state">{{ 'admin.no_orders' | translate }}</div>
          } @else {
            <div class="table-wrapper">
              <table class="admin-table">
                <thead>
                  <tr>
                    <th>{{ 'admin.table.order_id' | translate }}</th>
                    <th>{{ 'admin.table.user_id' | translate }}</th>
                    <th>{{ 'admin.table.date' | translate }}</th>
                    <th>{{ 'admin.table.address' | translate }}</th>
                    <th>{{ 'admin.table.total' | translate }}</th>
                  </tr>
                </thead>
                <tbody>
                  @for (order of recentOrders(); track order.id) {
                    <tr>
                      <td class="order-id">#{{ order.id }}</td>
                      <td class="muted">{{ order.user_id }}</td>
                      <td class="muted">{{ formatDate(order.created_at) }}</td>
                      <td>{{ getOrderAddressSummary(order) }}</td>
                      <td class="font-bold">{{ formatRevenue(order.price) }}</td>
                    </tr>
                  }
                </tbody>
              </table>
            </div>
          }
        </div>
      </div>
    }

    @if (activeSection() === 'orders') {
      <div class="section-content">
        <div class="section-toolbar">
          <div class="search-input-wrapper">
            <span class="search-icon-small">ğŸ”</span>
            <input
              type="search"
              class="admin-search"
              [(ngModel)]="orderSearch"
              [placeholder]="'admin.search_orders' | translate"
            />
          </div>
          <button class="retry-btn" (click)="loadOrders()" [disabled]="ordersLoading()">
            ğŸ”„ {{ 'common.refresh' | translate }}
          </button>
        </div>

        @if (ordersLoading()) {
          <div class="loading-state">
            <span class="spinner">â³</span>
            <span>{{ 'admin.loading' | translate }}</span>
          </div>
        } @else if (ordersError()) {
          <div class="error-state">
            <span>âš ï¸ {{ ordersError()! | translate }}</span>
            <button class="retry-btn" (click)="loadOrders()">
              {{ 'common.retry' | translate }}
            </button>
          </div>
        } @else {
          <div class="admin-card">
            <div class="table-wrapper">
              @if (filteredOrders().length === 0) {
                <div class="empty-state">{{ 'admin.no_orders' | translate }}</div>
              } @else {
                <table class="admin-table">
                  <thead>
                    <tr>
                      <th>{{ 'admin.table.order_id' | translate }}</th>
                      <th>{{ 'admin.table.user_id' | translate }}</th>
                      <th>{{ 'admin.table.date' | translate }}</th>
                      <th>{{ 'admin.table.address' | translate }}</th>
                      <th>{{ 'admin.table.phone' | translate }}</th>
                      <th>{{ 'admin.table.total' | translate }}</th>
                      <th>{{ 'admin.table.note' | translate }}</th>
                    </tr>
                  </thead>
                  <tbody>
                    @for (order of filteredOrders(); track order.id) {
                      <tr>
                        <td class="order-id">#{{ order.id }}</td>
                        <td class="muted">{{ order.user_id }}</td>
                        <td class="muted">{{ formatDate(order.created_at) }}</td>
                        <td>
                          {{ order.city }}
                          @if (order.house_number) {
                            <span class="muted">, {{ order.house_number }}</span>
                          }
                          @if (order.apartment_number) {
                            <span class="muted">/{{ order.apartment_number }}</span>
                          }
                        </td>
                        <td class="muted">{{ order.phone_number || 'â€”' }}</td>
                        <td class="font-bold">{{ formatRevenue(order.price) }}</td>
                        <td class="muted note-cell">{{ order.note || 'â€”' }}</td>
                      </tr>
                    }
                  </tbody>
                </table>
              }
            </div>
          </div>
        }
      </div>
    }

    @if (activeSection() === 'users') {
      <div class="section-content">
        <div class="section-toolbar">
          <div class="search-input-wrapper">
            <span class="search-icon-small">ğŸ”</span>
            <input
              type="search"
              class="admin-search"
              [(ngModel)]="userSearch"
              [placeholder]="'admin.search_users' | translate"
            />
          </div>
          <button class="retry-btn" (click)="loadUsers()" [disabled]="usersLoading()">
            ğŸ”„ {{ 'common.refresh' | translate }}
          </button>
        </div>

        @if (usersLoading()) {
          <div class="loading-state">
            <span class="spinner">â³</span>
            <span>{{ 'admin.loading' | translate }}</span>
          </div>
        } @else if (usersError()) {
          <div class="error-state">
            <span>âš ï¸ {{ usersError()! | translate }}</span>
            <button class="retry-btn" (click)="loadUsers()">
              {{ 'common.retry' | translate }}
            </button>
          </div>
        } @else {
          <div class="admin-card">
            <div class="table-wrapper">
              @if (filteredUsers().length === 0) {
                <div class="empty-state">{{ 'admin.no_users' | translate }}</div>
              } @else {
                <table class="admin-table">
                  <thead>
                    <tr>
                      <th>{{ 'admin.table.user' | translate }}</th>
                      <th>{{ 'admin.table.email' | translate }}</th>
                      <th>{{ 'admin.table.role' | translate }}</th>
                      <th>{{ 'admin.table.registered' | translate }}</th>
                      <th>ID</th>
                    </tr>
                  </thead>
                  <tbody>
                    @for (user of filteredUsers(); track user.id) {
                      <tr>
                        <td>
                          <div class="user-cell">
                            <div class="user-avatar">{{ getUserInitial(user) }}</div>
                            <span>{{ getUserFullName(user) }}</span>
                          </div>
                        </td>
                        <td class="muted">{{ user.email }}</td>
                        <td>
                          <span [class]="'role-badge ' + getAccountStateClass(user.account_state)">
                            {{ user.account_state }}
                          </span>
                        </td>
                        <td class="muted">{{ formatDate(user.created_at) }}</td>
                        <td class="muted">#{{ user.id }}</td>
                      </tr>
                    }
                  </tbody>
                </table>
              }
            </div>
          </div>
        }
      </div>
    }

    @if (activeSection() === 'products') {
      <div class="section-content">
        <div class="section-toolbar">
          <div class="search-input-wrapper">
            <span class="search-icon-small">ğŸ”</span>
            <input
              type="search"
              class="admin-search"
              [(ngModel)]="productSearch"
              [placeholder]="'admin.search_products' | translate"
            />
          </div>
          <button class="retry-btn" (click)="loadProducts()" [disabled]="productsLoading()">
            ğŸ”„ {{ 'common.refresh' | translate }}
          </button>
        </div>

        @if (productsLoading()) {
          <div class="loading-state">
            <span class="spinner">â³</span>
            <span>{{ 'admin.loading' | translate }}</span>
          </div>
        } @else if (productsError()) {
          <div class="error-state">
            <span>âš ï¸ {{ productsError()! | translate }}</span>
            <button class="retry-btn" (click)="loadProducts()">
              {{ 'common.retry' | translate }}
            </button>
          </div>
        } @else {
          <div class="admin-card">
            <div class="table-wrapper">
              @if (filteredProducts().length === 0) {
                <div class="empty-state">{{ 'admin.no_products' | translate }}</div>
              } @else {
                <table class="admin-table">
                  <thead>
                    <tr>
                      <th>{{ 'admin.table.product' | translate }}</th>
                      <th>{{ 'admin.table.category' | translate }}</th>
                      <th>SKU</th>
                      <th>{{ 'admin.table.price' | translate }}</th>
                      <th>{{ 'admin.table.stock' | translate }}</th>
                      <th>{{ 'admin.table.rating' | translate }}</th>
                      <th>{{ 'admin.table.status' | translate }}</th>
                    </tr>
                  </thead>
                  <tbody>
                    @for (product of filteredProducts(); track product.id; let i = $index) {
                      <tr>
                        <td>
                          <div class="product-cell">
                            <div class="product-thumb">ğŸ’Š</div>
                            <div class="product-cell-info">
                              <span class="product-name">{{ product.name }}</span>
                              <span class="product-brand muted">{{ product.brand }}</span>
                            </div>
                          </div>
                        </td>
                        <td class="muted">{{ product.category }}</td>
                        <td class="muted">{{ product.sku }}</td>
                        <td class="font-bold">{{ formatRevenue(product.price) }}</td>
                        <td>
                          <span [class]="product.stockNumber < 10 ? 'stock-low' : 'stock-ok'">
                            {{ product.stockNumber }} {{ 'common.items_unit' | translate }}
                          </span>
                        </td>
                        <td class="muted">â­ {{ product.ratingNumber.toFixed(1) }}</td>
                        <td>
                          <span
                            [class]="
                              'status-badge status-' + (product.inStock ? 'delivered' : 'cancelled')
                            "
                          >
                            {{
                              product.inStock
                                ? ('admin.active' | translate)
                                : ('admin.inactive' | translate)
                            }}
                          </span>
                        </td>
                      </tr>
                    }
                  </tbody>
                </table>
              }
            </div>
          </div>
        }
      </div>
    }
  </main>
</div>



================================================================================
FILE: src\app\pages\admin\admin.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Admin } from './admin';

describe('Admin', () => {
  let component: Admin;
  let fixture: ComponentFixture<Admin>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Admin]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Admin);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\admin\admin.ts
================================================================================

import { Component, signal, computed, inject, OnInit } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterModule, Router } from '@angular/router';
import { FormsModule } from '@angular/forms';
import { TranslateModule } from '@ngx-translate/core';
import { AuthService } from '../../core/services/auth.service';
import { AccountService, AdminUser, AdminOrder } from '../../core/services/account.service';
import { ProductService } from '../../services/product.service';
import { ProductWithHelpers } from '../../core/models/product.model';

type AdminSection = 'dashboard' | 'orders' | 'users' | 'products';

interface NavItem {
  id: AdminSection;
  icon: string;
  label: string;
}

@Component({
  selector: 'app-admin',
  standalone: true,
  imports: [CommonModule, RouterModule, FormsModule, TranslateModule],
  templateUrl: './admin.html',
  styleUrl: './admin.css',
})
export class Admin implements OnInit {
  private authService = inject(AuthService);
  private accountService = inject(AccountService);
  private productService = inject(ProductService);
  private router = inject(Router);

  activeSection = signal<AdminSection>('dashboard');
  sidebarCollapsed = signal(false);

  orderSearch = '';
  orderStatusFilter = 'all';
  userSearch = '';
  productSearch = '';

  usersLoading = signal(false);
  usersError = signal<string | null>(null);
  ordersLoading = signal(false);
  ordersError = signal<string | null>(null);
  productsLoading = signal(false);
  productsError = signal<string | null>(null);

  apiUsers = signal<AdminUser[]>([]);
  apiOrders = signal<AdminOrder[]>([]);

  adminName = computed(() => {
    const user = this.authService.currentUser();
    return user ? `${user.firstname} ${user.lastname}`.trim() : 'Admin';
  });

  stats = computed(() => {
    const orders = this.apiOrders();
    const users = this.apiUsers();
    const products = this.productService.products();

    const totalRevenue = orders.reduce((sum, o) => sum + (parseFloat(o.price) || 0), 0);
    const lowStock = products.filter((p) => p.stockNumber > 0 && p.stockNumber < 10).length;

    return {
      totalOrders: orders.length,
      revenue: totalRevenue,
      totalUsers: users.length,
      totalProducts: products.length,
      lowStock,
    };
  });

  navItems: NavItem[] = [
    { id: 'dashboard', icon: 'ğŸ“Š', label: 'admin.nav.dashboard' },
    { id: 'orders', icon: 'ğŸ“¦', label: 'admin.nav.orders' },
    { id: 'users', icon: 'ğŸ‘¥', label: 'admin.nav.users' },
    { id: 'products', icon: 'ğŸ·ï¸', label: 'admin.nav.products' },
  ];

  filteredOrders = computed(() => {
    let orders = this.apiOrders();
    if (this.orderSearch) {
      const q = this.orderSearch.toLowerCase();
      orders = orders.filter(
        (o) =>
          o.id.includes(q) ||
          o.user_id.toLowerCase().includes(q) ||
          o.city.toLowerCase().includes(q),
      );
    }
    return orders;
  });

  filteredUsers = computed(() => {
    if (!this.userSearch) return this.apiUsers();
    const q = this.userSearch.toLowerCase();
    return this.apiUsers().filter(
      (u) =>
        u.email.toLowerCase().includes(q) ||
        u.first_name.toLowerCase().includes(q) ||
        u.last_name.toLowerCase().includes(q) ||
        u.id.includes(q),
    );
  });

  filteredProducts = computed(() => {
    const products = this.productService.products();
    if (!this.productSearch) return products;
    const q = this.productSearch.toLowerCase();
    return products.filter(
      (p) =>
        p.name.toLowerCase().includes(q) ||
        p.category.toLowerCase().includes(q) ||
        p.brand.toLowerCase().includes(q) ||
        p.sku.toLowerCase().includes(q),
    );
  });

  recentOrders = computed(() => this.apiOrders().slice(0, 5));

  currentSectionLabel = computed(() => {
    const item = this.navItems.find((n) => n.id === this.activeSection());
    return item?.label || 'admin.nav.dashboard';
  });

  ngOnInit(): void {
    if (!this.authService.isAuthenticated()) {
      this.router.navigate(['/login']);
      return;
    }

    this.loadUsers();
    this.loadOrders();
    this.loadProducts();
  }

  loadUsers(): void {
    this.usersLoading.set(true);
    this.usersError.set(null);

    this.accountService.getAllUsersAdmin().subscribe({
      next: (response) => {
        if (response.statuscode === '200' && Array.isArray(response.users)) {
          this.apiUsers.set(response.users);
        } else {
          this.usersError.set('admin.errors.users_load_failed');
        }
        this.usersLoading.set(false);
      },
      error: (err) => {
        console.error('Admin users load error:', err);
        this.usersError.set('admin.errors.users_load_failed');
        this.usersLoading.set(false);
      },
    });
  }

  loadOrders(): void {
    this.ordersLoading.set(true);
    this.ordersError.set(null);

    this.accountService.getAllOrdersAdmin().subscribe({
      next: (response) => {
        if (response.statuscode === '200' && Array.isArray(response.orders)) {
          this.apiOrders.set(response.orders);
        } else {
          this.ordersError.set('admin.errors.orders_load_failed');
        }
        this.ordersLoading.set(false);
      },
      error: (err) => {
        console.error('Admin orders load error:', err);
        this.ordersError.set('admin.errors.orders_load_failed');
        this.ordersLoading.set(false);
      },
    });
  }

  loadProducts(): void {
    this.productsLoading.set(true);
    this.productsError.set(null);

    this.productService
      .loadProducts()
      .then(() => {
        this.productsLoading.set(false);
      })
      .catch((err) => {
        console.error('Admin products load error:', err);
        this.productsError.set('admin.errors.products_load_failed');
        this.productsLoading.set(false);
      });
  }

  setSection(section: AdminSection): void {
    this.activeSection.set(section);
  }

  toggleSidebar(): void {
    this.sidebarCollapsed.update((v) => !v);
  }

  logout(): void {
    this.authService.logout();
    this.router.navigate(['/login']);
  }

  formatRevenue(amount: number | string): string {
    const num = typeof amount === 'string' ? parseFloat(amount) : amount;
    return new Intl.NumberFormat('hu-HU', {
      style: 'currency',
      currency: 'HUF',
      maximumFractionDigits: 0,
    }).format(num || 0);
  }

  formatDate(dateStr: string): string {
    if (!dateStr) return 'â€”';
    try {
      return new Date(dateStr).toLocaleDateString('hu-HU', {
        year: 'numeric',
        month: 'short',
        day: 'numeric',
      });
    } catch {
      return dateStr;
    }
  }

  getUserFullName(user: AdminUser): string {
    const full = `${user.last_name} ${user.first_name}`.trim();
    return full || user.email;
  }

  getUserInitial(user: AdminUser): string {
    return (user.last_name || user.first_name || user.email).charAt(0).toUpperCase();
  }

  getAccountStateClass(state: string): string {
    const map: Record<string, string> = {
      admin: 'role-admin',
      verified: 'role-pharmacist',
      unverified: 'role-user',
      banned: 'role-banned',
      deleted: 'role-deleted',
    };
    return map[state] ?? 'role-user';
  }

  getOrderAddressSummary(order: AdminOrder): string {
    const parts = [order.city, order.house_number].filter(Boolean);
    return parts.join(', ') || 'â€”';
  }

  trackById(_index: number, item: { id: string }): string {
    return item.id;
  }

  trackByProductId(_index: number, item: ProductWithHelpers): string {
    return item.id;
  }
}



================================================================================
FILE: src\app\pages\bracket\bracket.css
================================================================================




================================================================================
FILE: src\app\pages\bracket\bracket.html
================================================================================

<p>bracket works!</p>



================================================================================
FILE: src\app\pages\bracket\bracket.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Bracket } from './bracket';

describe('Bracket', () => {
  let component: Bracket;
  let fixture: ComponentFixture<Bracket>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Bracket]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Bracket);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\bracket\bracket.ts
================================================================================

import { Component } from '@angular/core';

@Component({
  selector: 'app-bracket',
  standalone: true,
  imports: [],
  templateUrl: './bracket.html',
  styleUrl: './bracket.css',
})
export class Bracket {}



================================================================================
FILE: src\app\pages\delacc-promise\delacc-promise.css
================================================================================

.auth-container {
  min-height: calc(100vh - 140px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-6) var(--space-4);
  background: var(--bg-secondary);
}

.auth-card {
  background: var(--bg-primary);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-lg);
  padding: var(--space-10) var(--space-8);
  width: 100%;
  max-width: 480px;
  animation: slideUp 0.4s ease-out;
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}

.verification-content {
  text-align: center;
}

.verification-content h1 {
  font-size: clamp(1.25rem, 3vw, 1.6rem);
  font-weight: 700;
  color: var(--text-primary);
  margin: var(--space-5) 0 var(--space-3);
}

.verification-text {
  color: var(--text-secondary);
  font-size: var(--text-base, 1rem);
  line-height: 1.6;
  margin-bottom: var(--space-4);
}

.error-text {
  color: #dc2626;
}

.redirect-notice {
  font-size: 0.85rem;
  color: var(--text-secondary);
  opacity: 0.7;
}

.icon-wrapper {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  margin: 0 auto var(--space-4);
  display: flex;
  align-items: center;
  justify-content: center;
}

.icon-wrapper svg {
  width: 40px;
  height: 40px;
}

.icon-wrapper.success {
  background: rgba(6, 122, 69, 0.12);
  color: #067a45;
}

.icon-wrapper.error {
  background: rgba(220, 38, 38, 0.1);
  color: #dc2626;
}

.spinner-large {
  width: 56px;
  height: 56px;
  border: 4px solid var(--border-color);
  border-top-color: var(--color-primary);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  margin: 0 auto var(--space-5);
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.submit-btn {
  width: 100%;
  padding: var(--space-3) var(--space-6);
  background: linear-gradient(135deg, #067a45 0%, #048a4f 100%);
  color: white;
  border: none;
  border-radius: var(--radius-lg);
  font-size: var(--text-base, 1rem);
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-fast, 0.15s);
  min-height: 48px;
  margin-top: var(--space-2);
}

.submit-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(6, 122, 69, 0.4);
}



================================================================================
FILE: src\app\pages\delacc-promise\delacc-promise.html
================================================================================

<div class="auth-container">
  <div class="auth-card">
    @if (isProcessing()) {
      <div class="verification-content">
        <div class="spinner-large"></div>
        <h1>{{ 'profile.delacc.processing' | translate }}</h1>
        <p class="verification-text">{{ 'profile.delacc.please_wait' | translate }}</p>
      </div>
    }

    @if (!isProcessing() && isSuccess()) {
      <div class="verification-content">
        <div class="icon-wrapper success">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
          </svg>
        </div>
        <h1>{{ 'profile.delacc.success_title' | translate }}</h1>
        <p class="verification-text">{{ 'profile.delacc.success_message' | translate }}</p>
        <p class="redirect-notice">{{ 'profile.delacc.redirecting' | translate }}</p>
      </div>
    }

    @if (!isProcessing() && errorMessage()) {
      <div class="verification-content">
        <div class="icon-wrapper error">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </div>
        <h1>{{ 'profile.delacc.error_title' | translate }}</h1>
        <p class="verification-text error-text">{{ errorMessage() | translate }}</p>
        <button class="submit-btn" (click)="goHome()">
          {{ 'common.go_home' | translate }}
        </button>
      </div>
    }
  </div>
</div>



================================================================================
FILE: src\app\pages\delacc-promise\delacc-promise.ts
================================================================================

import { Component, OnInit, signal, inject } from '@angular/core';
import { CommonModule, Location } from '@angular/common';
import { ActivatedRoute, Router, RouterModule } from '@angular/router';
import { TranslateModule } from '@ngx-translate/core';
import { AccountService } from '../../core/services/account.service';
import { AuthService } from '../../core/services/auth.service';

@Component({
  selector: 'app-delacc-promise',
  standalone: true,
  imports: [CommonModule, RouterModule, TranslateModule],
  templateUrl: './delacc-promise.html',
  styleUrl: './delacc-promise.css',
})
export class DelaccPromise implements OnInit {
  private location = inject(Location);
  private accountService = inject(AccountService);
  private authService = inject(AuthService);

  isProcessing = signal(false);
  isSuccess = signal(false);
  errorMessage = signal('');

  constructor(
    private route: ActivatedRoute,
    private router: Router,
  ) {}

  ngOnInit(): void {
    this.route.queryParams.subscribe((params) => {
      const accdel = params['accdel'];

      if (!accdel) {
        this.errorMessage.set('auth.errors.invalid_link');
        return;
      }

      const parts = accdel.split(';');

      if (parts.length !== 2) {
        this.errorMessage.set('auth.errors.invalid_link');
        return;
      }

      // The backend email link sends: B64(email);B64(confirmation_token)
      // confirmAccountDeletion() now expects already-B64 values â€” pass them as-is
      const encodedId = parts[0].trim();
      const encodedToken = parts[1].trim();

      if (!encodedId || !encodedToken) {
        this.errorMessage.set('auth.errors.invalid_link');
        return;
      }

      const cleanUrl = `/delacc-promise?accdel=${encodedId};${encodedToken}`;
      this.location.replaceState(cleanUrl);

      this.confirmDeletion(encodedId, encodedToken);
    });
  }

  confirmDeletion(encodedId: string, encodedToken: string): void {
    this.isProcessing.set(true);
    this.errorMessage.set('');

    // Pass the already-B64-encoded values â€” the service no longer re-encodes
    this.accountService.confirmAccountDeletion(encodedId, encodedToken).subscribe({
      next: () => {
        this.isProcessing.set(false);
        this.isSuccess.set(true);
        // authService.logout() is called inside confirmAccountDeletion
        setTimeout(() => {
          this.router.navigate(['/home']);
        }, 3000);
      },
      error: (error) => {
        this.isProcessing.set(false);
        this.errorMessage.set(error.message || 'profile.errors.delete_failed');
      },
    });
  }

  goHome(): void {
    this.router.navigate(['/home']);
  }
}



================================================================================
FILE: src\app\pages\email\email.css
================================================================================

:host {
  display: block;
  width: 100%;
  min-height: 100vh;
  background-color: #f5f5f5;
}



================================================================================
FILE: src\app\pages\email\email.html
================================================================================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Roy's Shack Email</title>
  </head>
  <body
    style="
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f5f5f5;
    "
  >
    <table
      role="presentation"
      cellpadding="0"
      cellspacing="0"
      width="100%"
      style="background-color: #f5f5f5; padding: 40px 20px"
    >
      <tr>
        <td align="center">
          <table
            role="presentation"
            cellpadding="0"
            cellspacing="0"
            width="100%"
            style="
              max-width: 600px;
              background-color: #ffffff;
              border-radius: 8px;
              overflow: hidden;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            "
          >
            <tr>
              <td
                style="
                  background: linear-gradient(135deg, #067a45 0%, #048a4f 100%);
                  padding: 40px 20px;
                  text-align: center;
                "
              >
                <div
                  style="
                    background-color: rgba(255, 255, 255, 0.2);
                    width: 60px;
                    height: 60px;
                    border-radius: 50%;
                    margin: 0 auto 16px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 3px solid rgba(255, 255, 255, 0.3);
                  "
                >
                  <span style="color: white; font-size: 24px; font-weight: bold">ğŸª</span>
                </div>
                <h1
                  style="
                    margin: 0;
                    color: white;
                    font-size: 28px;
                    font-weight: 700;
                    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                  "
                >
                  Roy's Shack
                </h1>
              </td>
            </tr>

            <tr>
              <td style="padding: 40px 30px; text-align: center">
                <h2 style="margin: 0 0 20px; color: #067a45; font-size: 24px; font-weight: 700">
                  Welcome Back!
                </h2>

                <p style="margin: 0 0 16px; color: #333333; font-size: 16px; line-height: 1.6">
                  Hello there,
                </p>

                <p style="margin: 0 0 30px; color: #666666; font-size: 15px; line-height: 1.6">
                  We received a request to log in to your Roy's Shack account.<br />
                  Click the button below to securely sign in:
                </p>

                <table role="presentation" cellpadding="0" cellspacing="0" style="margin: 0 auto">
                  <tr>
                    <td
                      style="
                        border-radius: 8px;
                        background: linear-gradient(135deg, #067a45 0%, #048a4f 100%);
                        box-shadow: 0 4px 12px rgba(6, 122, 69, 0.3);
                      "
                    >
                      <a
                        ngNonBindable
                        href="XXXX"
                        style="
                          display: inline-block;
                          padding: 16px 48px;
                          color: white;
                          text-decoration: none;
                          font-size: 16px;
                          font-weight: 600;
                          border-radius: 8px;
                        "
                      >
                        Log in
                      </a>
                    </td>
                  </tr>
                </table>

                <p style="margin: 30px 0 0; color: #999999; font-size: 14px; line-height: 1.6">
                  If you didn't request this login, you can safely ignore this email.
                </p>
              </td>
            </tr>

            <tr>
              <td style="padding: 30px; text-align: center; border-top: 1px solid #eeeeee">
                <p style="margin: 0 0 8px; color: #999999; font-size: 13px">
                  Â© 2025 Roy's Shack. All rights reserved.
                </p>
                <p style="margin: 0; color: #bbbbbb; font-size: 12px">
                  This is an automated message, please do not reply.
                </p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>



================================================================================
FILE: src\app\pages\email\email.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Email } from './email';

describe('Email', () => {
  let component: Email;
  let fixture: ComponentFixture<Email>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Email]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Email);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\email\email.ts
================================================================================

import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';

@Component({
  selector: 'app-email',
  standalone: true,
  imports: [CommonModule],
  templateUrl: './email.html',
  styleUrl: './email.css',
})
export class Email {}



================================================================================
FILE: src\app\pages\forum\forum.css
================================================================================

.forum-page {
  width: 100%;
  min-height: 100vh;
  background: var(--color-background);
}

.forum-hero {
  background:
    linear-gradient(135deg, #065f36 0%, #067a45 25%, #0b5f39 50%, #044d2c 75%, #023a21 100%);
  color: white;
  padding: var(--space-16) var(--space-4) var(--space-12);
  text-align: center;
  position: relative;
  overflow: hidden;
}

.forum-hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse at 20% 50%, rgba(255, 255, 255, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 20%, rgba(114, 228, 240, 0.06) 0%, transparent 40%),
    radial-gradient(ellipse at 60% 80%, rgba(255, 255, 255, 0.04) 0%, transparent 45%);
  pointer-events: none;
}

.forum-hero::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.2) 50%, transparent 100%);
  pointer-events: none;
}

.hero-content {
  max-width: 680px;
  margin: 0 auto;
  position: relative;
  z-index: 1;
}

.hero-title {
  font-size: clamp(1.75rem, 4vw, 2.5rem);
  font-weight: var(--font-bold);
  margin: 0 0 var(--space-3) 0;
  line-height: var(--leading-tight);
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.hero-description {
  font-size: clamp(1rem, 2vw, 1.125rem);
  margin: 0;
  opacity: 0.92;
  line-height: var(--leading-relaxed);
}

.forum-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-8) var(--space-4);
}

.search-filters {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  margin-bottom: var(--space-6);
}

.search-bar {
  display: flex;
  gap: var(--space-3);
  width: 100%;
}

.search-input-wrapper {
  position: relative;
  flex: 1;
  display: flex;
  align-items: center;
}

.search-icon {
  position: absolute;
  left: var(--space-3);
  font-size: 18px;
  pointer-events: none;
  color: var(--color-text-secondary);
  line-height: 1;
}

.search-input {
  width: 100%;
  padding: var(--space-3) var(--space-10) var(--space-3) var(--space-10);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-lg);
  font-size: var(--text-base);
  background: var(--color-surface);
  color: var(--color-text-primary);
  transition:
    border-color var(--transition-fast),
    box-shadow var(--transition-fast);
}

.search-input:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(6, 122, 69, 0.12);
}

.clear-search {
  position: absolute;
  right: var(--space-3);
  background: transparent;
  border: none;
  color: var(--color-text-secondary);
  cursor: pointer;
  font-size: 16px;
  padding: var(--space-2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  transition:
    background var(--transition-fast),
    color var(--transition-fast);
}

.clear-search:hover {
  background: var(--color-neutral-200);
  color: var(--color-text-primary);
}

.search-button {
  padding: var(--space-3) var(--space-6);
  background: var(--color-primary);
  color: white;
  border: none;
  border-radius: var(--radius-lg);
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  cursor: pointer;
  transition:
    background var(--transition-fast),
    transform var(--transition-fast),
    box-shadow var(--transition-fast);
  white-space: nowrap;
  min-height: 44px;
}

.search-button:hover {
  background: var(--color-primary-dark);
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.search-button:active {
  transform: translateY(0);
}

.toolbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-4);
}

.sort-controls {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.sort-label {
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-secondary);
  white-space: nowrap;
}

.sort-select {
  padding: var(--space-2) var(--space-4);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--color-surface);
  color: var(--color-text-primary);
  font-size: var(--text-sm);
  cursor: pointer;
  transition: border-color var(--transition-fast);
  min-height: 40px;
}

.sort-select:focus {
  outline: none;
  border-color: var(--color-primary);
}

.new-post-button {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  background: var(--color-secondary);
  color: white;
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: var(--font-semibold);
  cursor: pointer;
  transition:
    background var(--transition-fast),
    transform var(--transition-fast),
    box-shadow var(--transition-fast);
  min-height: 40px;
  white-space: nowrap;
}

.new-post-button:hover {
  background: var(--color-secondary-dark);
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
}

.category-filters {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin-bottom: var(--space-6);
  padding: var(--space-4);
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-border);
}

.category-chip {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--color-background);
  color: var(--color-text-primary);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
  min-height: 40px;
}

@media (hover: hover) {
  .category-chip:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
  }
}

.category-chip.active {
  background: var(--color-primary);
  color: white;
  border-color: var(--color-primary);
}

.category-chip.category-medicines.active {
  background: #dc2626;
  border-color: #dc2626;
}

.category-chip.category-natural.active {
  background: #16a34a;
  border-color: #16a34a;
}

.category-chip.category-baby.active {
  background: #d946ef;
  border-color: #d946ef;
}

.category-chip.category-lifestyle.active {
  background: #2563eb;
  border-color: #2563eb;
}

.category-chip.category-seasonal.active {
  background: #ea580c;
  border-color: #ea580c;
}

.category-chip.category-qa.active {
  background: #7c3aed;
  border-color: #7c3aed;
}

.category-chip.category-general.active {
  background: #6b7280;
  border-color: #6b7280;
}

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-16) var(--space-4);
  gap: var(--space-4);
  color: var(--color-text-secondary);
}

.spinner {
  width: 48px;
  height: 48px;
  border: 4px solid var(--color-border);
  border-top-color: var(--color-primary);
  border-radius: 50%;
  animation: spin 0.9s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.posts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: var(--space-6);
  margin-bottom: var(--space-8);
}

.no-results {
  text-align: center;
  padding: var(--space-16) var(--space-4);
}

.no-results-icon {
  font-size: 64px;
  margin-bottom: var(--space-4);
  opacity: 0.5;
  display: block;
}

.no-results-title {
  font-size: var(--text-2xl);
  font-weight: var(--font-semibold);
  color: var(--color-text-primary);
  margin: 0 0 var(--space-2) 0;
}

.no-results-description {
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  margin: 0 0 var(--space-6) 0;
}

.reset-filters-button {
  padding: var(--space-3) var(--space-6);
  background: var(--color-primary);
  color: white;
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  cursor: pointer;
  transition:
    background var(--transition-fast),
    transform var(--transition-fast);
  min-height: 44px;
}

.reset-filters-button:hover {
  background: var(--color-primary-dark);
  transform: translateY(-1px);
}

.pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-6) 0;
}

.pagination-button {
  padding: var(--space-2) var(--space-4);
  background: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
  cursor: pointer;
  transition: all var(--transition-fast);
  min-height: 40px;
}

.pagination-button:hover:not(:disabled) {
  background: var(--color-primary);
  color: white;
  border-color: var(--color-primary);
}

.pagination-button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.page-numbers {
  display: flex;
  gap: var(--space-2);
}

.page-number {
  min-width: 40px;
  height: 40px;
  padding: var(--space-2);
  background: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.page-number:hover {
  background: var(--color-neutral-100);
  border-color: var(--color-primary);
}

.page-number.active {
  background: var(--color-primary);
  color: white;
  border-color: var(--color-primary);
}

.pagination-ellipsis {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 40px;
  height: 40px;
  color: var(--color-text-secondary);
  font-weight: var(--font-semibold);
  pointer-events: none;
}

@media (max-width: 768px) {
  .forum-hero {
    padding: var(--space-10) var(--space-4) var(--space-8);
  }

  .forum-container {
    padding: var(--space-6) var(--space-3);
  }

  .search-bar {
    flex-direction: column;
  }

  .search-button {
    width: 100%;
  }

  .toolbar {
    flex-direction: column;
    align-items: stretch;
  }

  .sort-controls {
    justify-content: space-between;
  }

  .new-post-button {
    justify-content: center;
  }

  .category-filters {
    padding: var(--space-3);
  }

  .posts-grid {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }

  .pagination {
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .page-numbers {
    order: -1;
    width: 100%;
    justify-content: center;
    flex-wrap: wrap;
  }
}

@media (max-width: 480px) {
  .forum-hero {
    padding: var(--space-8) var(--space-3) var(--space-6);
  }

  .category-chip {
    font-size: 12px;
    padding: var(--space-1) var(--space-3);
    min-height: 36px;
    gap: var(--space-1);
  }

  .category-icon {
    font-size: 14px;
  }

  .page-number,
  .pagination-button {
    min-width: 36px;
    height: 36px;
    font-size: 13px;
  }
}

@media (max-width: 375px) {
  .forum-container {
    padding: var(--space-4) var(--space-3);
  }

  .search-input {
    font-size: var(--text-sm);
  }

  .no-results-icon {
    font-size: 48px;
  }

  .no-results-title {
    font-size: var(--text-xl);
  }
}

[data-theme='dark'] .forum-hero {
  background:
    linear-gradient(135deg, #044d2c 0%, #065f36 25%, #0b5f39 50%, #033d23 75%, #022b18 100%);
}

[data-theme='dark'] .category-filters {
  background: var(--color-neutral-800);
  border-color: var(--color-neutral-700);
}

[data-theme='dark'] .category-chip {
  background: var(--color-neutral-900);
  border-color: var(--color-neutral-600);
  color: var(--color-neutral-200);
}

[data-theme='dark'] .category-chip:hover {
  background: var(--color-neutral-800);
  border-color: var(--color-neutral-500);
}

[data-theme='dark'] .search-input {
  background: var(--color-neutral-800);
  border-color: var(--color-neutral-600);
  color: var(--color-neutral-100);
}

[data-theme='dark'] .search-input:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(6, 122, 69, 0.2);
}

[data-theme='dark'] .sort-select {
  background: var(--color-neutral-800);
  border-color: var(--color-neutral-600);
  color: var(--color-neutral-100);
}

[data-theme='dark'] .pagination-button,
[data-theme='dark'] .page-number {
  background: var(--color-neutral-800);
  border-color: var(--color-neutral-600);
  color: var(--color-neutral-200);
}

[data-theme='dark'] .page-number:hover {
  background: var(--color-neutral-700);
  border-color: var(--color-primary);
}

[data-theme='dark'] .clear-search:hover {
  background: var(--color-neutral-700);
  color: var(--color-neutral-100);
}

@media (prefers-reduced-motion: reduce) {
  .spinner {
    animation: none;
    border-top-color: var(--color-primary);
    opacity: 0.7;
  }

  .category-chip,
  .search-button,
  .new-post-button,
  .page-number,
  .pagination-button {
    transition: none;
  }
}

/* ========== Blog hero + featured (type='blog') ========== */

.blog-hero {
  background: linear-gradient(135deg, var(--color-secondary) 0%, var(--color-secondary-dark) 100%);
  color: white;
  padding: var(--space-16) var(--space-4) var(--space-8);
}

.blog-hero .hero-content {
  max-width: 800px;
  margin: 0 auto;
  text-align: center;
  margin-bottom: var(--space-10);
}

.featured-posts {
  max-width: 1200px;
  margin: 0 auto;
}

.featured-title {
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  margin: 0 0 var(--space-6) 0;
  text-align: center;
}

.featured-carousel {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: var(--space-6);
}

.featured-card {
  background: white;
  border-radius: var(--radius-lg);
  overflow: hidden;
  cursor: pointer;
  transition: all var(--transition-normal);
  box-shadow: var(--shadow-lg);
}

.featured-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
}

[data-theme='dark'] .featured-card {
  background: var(--color-neutral-800);
}

.featured-image {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9;
  overflow: hidden;
  background: var(--color-neutral-100);
}

.featured-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--transition-normal);
}

.featured-card:hover .featured-image img {
  transform: scale(1.1);
}

.featured-content {
  padding: var(--space-5);
}

.featured-category {
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
  margin-bottom: var(--space-2);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.featured-post-title {
  font-size: var(--text-xl);
  font-weight: var(--font-bold);
  color: var(--color-text-primary);
  margin: 0 0 var(--space-3) 0;
  line-height: var(--leading-tight);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

[data-theme='dark'] .featured-post-title {
  color: white;
}

.featured-excerpt {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  line-height: var(--leading-normal);
  margin: 0 0 var(--space-4) 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

[data-theme='dark'] .featured-excerpt {
  color: var(--color-neutral-400);
}

.featured-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: var(--text-xs);
  color: var(--color-text-secondary);
  padding-top: var(--space-3);
  border-top: 1px solid var(--color-border);
}

[data-theme='dark'] .featured-meta {
  color: var(--color-neutral-400);
  border-color: var(--color-neutral-700);
}

.author {
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
}

[data-theme='dark'] .author {
  color: white;
}

.reading-time {
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.results-count {
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-secondary);
}

[data-theme='dark'] .blog-hero {
  background: linear-gradient(135deg, var(--color-secondary) 0%, #065f46 100%);
}

@media (max-width: 768px) {
  .blog-hero {
    padding: var(--space-10) var(--space-4) var(--space-6);
  }

  .blog-hero .hero-content {
    margin-bottom: var(--space-6);
  }

  .featured-title {
    font-size: var(--text-xl);
  }

  .featured-carousel {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }
}



================================================================================
FILE: src\app\pages\forum\forum.html
================================================================================

<div class="forum-page">
  <section class="forum-hero">
    <div class="hero-content">
      <h1 class="hero-title">{{ 'forum.title' | translate }}</h1>
      <p class="hero-description">{{ 'forum.description' | translate }}</p>
    </div>
  </section>

  <div class="forum-container">
    <section class="search-filters">
      <div class="search-bar">
        <div class="search-input-wrapper">
          <span class="search-icon">ğŸ”</span>
          <input
            type="search"
            [(ngModel)]="searchQuery"
            (keyup.enter)="applySearch()"
            [placeholder]="'forum.search_placeholder' | translate"
            class="search-input"
          />
          @if (searchQuery()) {
            <button
              class="clear-search"
              (click)="clearSearch()"
              [attr.aria-label]="'common.clear' | translate"
            >
              âœ•
            </button>
          }
        </div>
        <button class="search-button" (click)="applySearch()">
          {{ 'common.search' | translate }}
        </button>
      </div>

      <div class="toolbar">
        <div class="sort-controls">
          <label for="sort-select" class="sort-label">{{ 'forum.sort_by' | translate }}:</label>
          <select
            id="sort-select"
            [(ngModel)]="selectedSort"
            (ngModelChange)="changeSort($event)"
            class="sort-select"
          >
            @for (option of sortOptions; track option.value) {
              <option [value]="option.value">{{ option.translateKey | translate }}</option>
            }
          </select>
        </div>

        @if (isAuthenticated()) {
          <button class="new-post-button">
            <span class="icon">âœï¸</span>
            {{ 'forum.new_post' | translate }}
          </button>
        }
      </div>
    </section>

    <section
      class="category-filters"
      role="group"
      [attr.aria-label]="'forum.filter_by_category' | translate"
    >
      <button
        [class]="'category-chip' + (selectedCategory() === 'all' ? ' active' : '')"
        (click)="selectCategory('all')"
      >
        <span class="category-icon">ğŸŒ</span>
        <span class="category-name">{{ 'forum.all_categories' | translate }}</span>
      </button>

      @for (category of categories; track category.id) {
        <button
          [class]="
            'category-chip ' +
            category.colorClass +
            (selectedCategory() === category.id ? ' active' : '')
          "
          (click)="selectCategory(category.id)"
        >
          <span class="category-icon">{{ category.icon }}</span>
          <span class="category-name">{{ category.translationKey | translate }}</span>
        </button>
      }
    </section>

    @if (isLoading()) {
      <div class="loading-container" role="status" [attr.aria-label]="'common.loading' | translate">
        <div class="spinner"></div>
        <p>{{ 'common.loading' | translate }}</p>
      </div>
    }

    @if (!isLoading()) {
      @if (posts().length > 0) {
        <section class="posts-grid">
          @for (post of posts(); track post.id) {
            <app-post-card
              [post]="post"
              [showExcerpt]="true"
              [showImage]="true"
              [showCategory]="true"
              [showAuthor]="true"
              [showStats]="true"
              (cardClick)="onPostClick($event)"
            />
          }
        </section>

        @if (totalPages() > 1) {
          <nav class="pagination" aria-label="Pagination">
            <button
              class="pagination-button"
              [disabled]="forumService.currentPage() === 1"
              (click)="previousPage()"
              [attr.aria-label]="'common.previous_page' | translate"
            >
              â€¹ {{ 'pagination.previous' | translate }}
            </button>

            <div class="page-numbers">
              @for (pageNum of getPageNumbers(); track pageNum) {
                @if (pageNum === -1) {
                  <span class="pagination-ellipsis">...</span>
                } @else {
                  <button
                    class="page-number"
                    [class.active]="forumService.currentPage() === pageNum"
                    (click)="goToPage(pageNum)"
                    [attr.aria-label]="getPageAriaLabel(pageNum)"
                    [attr.aria-current]="forumService.currentPage() === pageNum ? 'page' : null"
                  >
                    {{ pageNum }}
                  </button>
                }
              }
            </div>

            <button
              class="pagination-button"
              [disabled]="forumService.currentPage() === totalPages()"
              (click)="nextPage()"
              [attr.aria-label]="'common.next_page' | translate"
            >
              {{ 'pagination.next' | translate }} â€º
            </button>
          </nav>
        }
      } @else {
        <div class="no-results">
          <div class="no-results-icon">ğŸ”</div>
          <h3 class="no-results-title">{{ 'forum.no_results_title' | translate }}</h3>
          <p class="no-results-description">{{ 'forum.no_results_description' | translate }}</p>
          @if (searchQuery() || selectedCategory() !== 'all') {
            <button class="reset-filters-button" (click)="selectCategory('all'); clearSearch()">
              {{ 'forum.reset_filters' | translate }}
            </button>
          }
        </div>
      }
    }
  </div>
</div>



================================================================================
FILE: src\app\pages\forum\forum.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Forum } from './forum';

describe('Forum', () => {
  let component: Forum;
  let fixture: ComponentFixture<Forum>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Forum]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Forum);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\forum\forum.ts
================================================================================

import { Component, OnInit, signal, computed, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterModule } from '@angular/router';
import { FormsModule } from '@angular/forms';
import { TranslateModule, TranslateService } from '@ngx-translate/core';

import { ForumBlogService } from '../../core/services/forum-blog.service';
import { AuthService } from '../../core/services/auth.service';
import { PostCardComponent } from '../../shared/components/post-card/post-card';
import {
  Post,
  PostFilters,
  SortOption,
  PostCategory,
  POST_CATEGORIES,
} from '../../core/models/forum-blog.model';

@Component({
  selector: 'app-forum',
  standalone: true,
  imports: [CommonModule, RouterModule, FormsModule, TranslateModule, PostCardComponent],
  templateUrl: './forum.html',
  styleUrl: './forum.css',
})
export class Forum implements OnInit {
  isLoading = signal(false);
  searchQuery = signal('');
  selectedCategory = signal<PostCategory | 'all'>('all');
  selectedSort = signal<SortOption>('newest');

  private translate = inject(TranslateService);
  private authService = inject(AuthService);

  isAuthenticated = computed(() => this.authService.isAuthenticated());

  constructor(public forumService: ForumBlogService) {}

  posts = computed(() => this.forumService.paginatedPosts());
  totalPages = computed(() => this.forumService.totalPages());

  categories = POST_CATEGORIES;

  sortOptions: { value: SortOption; translateKey: string }[] = [
    { value: 'newest', translateKey: 'forum.sort.newest' },
    { value: 'oldest', translateKey: 'forum.sort.oldest' },
    { value: 'most-viewed', translateKey: 'forum.sort.most_viewed' },
    { value: 'most-liked', translateKey: 'forum.sort.most_liked' },
    { value: 'trending', translateKey: 'forum.sort.trending' },
  ];

  ngOnInit(): void {
    this.isLoading.set(true);
    this.forumService.setFilters({ type: 'forum' });
    setTimeout(() => {
      this.isLoading.set(false);
    }, 300);
  }

  applySearch(): void {
    const filters: PostFilters = {
      type: 'forum',
      searchQuery: this.searchQuery() || undefined,
      category:
        this.selectedCategory() !== 'all' ? (this.selectedCategory() as PostCategory) : undefined,
    };
    this.forumService.setFilters(filters);
  }

  selectCategory(category: PostCategory | 'all'): void {
    this.selectedCategory.set(category);
    this.applySearch();
  }

  changeSort(sortBy: SortOption): void {
    this.selectedSort.set(sortBy);
    this.forumService.setSorting(sortBy);
  }

  clearSearch(): void {
    this.searchQuery.set('');
    this.applySearch();
  }

  goToPage(page: number): void {
    this.forumService.setPage(page);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  previousPage(): void {
    const currentPage = this.forumService.currentPage();
    if (currentPage > 1) {
      this.goToPage(currentPage - 1);
    }
  }

  nextPage(): void {
    const currentPage = this.forumService.currentPage();
    const totalPages = this.totalPages();
    if (currentPage < totalPages) {
      this.goToPage(currentPage + 1);
    }
  }

  getPageNumbers(): number[] {
    const current = this.forumService.currentPage();
    const total = this.totalPages();
    const pages: number[] = [];

    pages.push(1);

    const start = Math.max(2, current - 1);
    const end = Math.min(total - 1, current + 1);

    if (start > 2) pages.push(-1);

    for (let i = start; i <= end; i++) {
      pages.push(i);
    }

    if (end < total - 1) pages.push(-1);

    if (total > 1) pages.push(total);

    return pages;
  }

  getPageAriaLabel(pageNum: number): string {
    return `${this.translate.instant('pagination.page')} ${pageNum}`;
  }

  onPostClick(post: Post): void {
    console.log('Post clicked:', post.title);
  }

  getCategoryChipClass(colorClass: string): string {
    return `category-chip ${colorClass}`;
  }
}



================================================================================
FILE: src\app\pages\forum-detail\forum-detail.css
================================================================================

.forum-detail-page {
  width: 100%;
  min-height: 100vh;
  background: var(--color-background);
}

/* Loading */
.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 60vh;
  gap: 1rem;
  color: var(--text-secondary);
}

.spinner {
  width: 40px;
  height: 40px;
  border: 3px solid var(--border-color);
  border-top-color: var(--color-primary);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Hero image */
.article-hero {
  position: relative;
  width: 100%;
  height: 360px;
  overflow: hidden;
}

.hero-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.hero-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(to bottom, transparent 40%, rgba(0, 0, 0, 0.4) 100%);
}

/* Article */
.article-container {
  max-width: 800px;
  margin: 0 auto;
  padding: var(--space-8) var(--space-6);
}

.article-header {
  margin-bottom: var(--space-8);
}

.article-category {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 14px;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 600;
  margin-bottom: var(--space-4);
  background: rgba(6, 122, 69, 0.1);
  color: var(--color-primary);
}

.article-title {
  font-size: clamp(1.5rem, 4vw, 2.25rem);
  font-weight: 700;
  color: var(--text-primary);
  line-height: 1.3;
  margin: 0 0 var(--space-5);
}

.article-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: var(--space-4);
  padding-bottom: var(--space-5);
  border-bottom: 1px solid var(--border-color);
}

.meta-author {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.author-avatar {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid var(--color-primary);
}

.author-avatar-placeholder {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: var(--color-primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 1.1rem;
  flex-shrink: 0;
}

.author-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.author-name {
  font-weight: 600;
  color: var(--text-primary);
  font-size: 0.95rem;
}

.verified-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--color-primary);
  color: white;
  font-size: 10px;
  margin-left: 4px;
}

.author-role {
  font-size: 0.8rem;
  color: var(--text-secondary);
}

.meta-details {
  display: flex;
  gap: var(--space-4);
  font-size: 0.85rem;
  color: var(--text-secondary);
}

/* Article body */
.article-body {
  position: relative;
}

.article-body.collapsed {
  max-height: 300px;
  overflow: hidden;
}

.article-body.collapsed::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 120px;
  background: linear-gradient(to bottom, transparent, var(--color-background));
  pointer-events: none;
}

.article-excerpt {
  font-size: 1.15rem;
  line-height: 1.7;
  color: var(--text-primary);
  font-weight: 500;
  margin-bottom: var(--space-5);
}

.article-content {
  font-size: 1rem;
  line-height: 1.8;
  color: var(--text-secondary);
}

.article-content p {
  margin-bottom: var(--space-4);
}

/* Read more */
.read-more-section {
  text-align: center;
  padding: var(--space-6) 0;
}

.read-more-btn {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  background: none;
  border: 1px solid var(--border-color);
  padding: var(--space-3) var(--space-6);
  border-radius: var(--radius-lg, 12px);
  cursor: pointer;
  color: var(--color-primary);
  font-weight: 600;
  font-size: 0.95rem;
  transition: all 0.2s ease;
}

.read-more-btn:hover {
  background: rgba(6, 122, 69, 0.06);
  border-color: var(--color-primary);
}

.read-more-btn .dots {
  font-size: 1.5rem;
  letter-spacing: 4px;
  line-height: 1;
}

/* Stats */
.article-stats {
  display: flex;
  gap: var(--space-6);
  padding: var(--space-5) 0;
  border-top: 1px solid var(--border-color);
  border-bottom: 1px solid var(--border-color);
  margin: var(--space-6) 0;
}

.stat {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 0.95rem;
  color: var(--text-secondary);
}

.stat-icon {
  font-size: 1.1rem;
}

/* Tags */
.article-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: var(--space-6);
}

.tag {
  padding: 4px 12px;
  background: var(--color-surface-elevated);
  border: 1px solid var(--border-color);
  border-radius: 20px;
  font-size: 0.8rem;
  color: var(--text-secondary);
  font-weight: 500;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   KOMMENTEK
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

.comments-section {
  border-top: 1px solid var(--border-color);
  background: var(--color-surface-elevated, var(--color-background));
  padding: var(--space-10) 0;
}

.comments-container {
  max-width: 800px;
  margin: 0 auto;
  padding: 0 var(--space-6);
}

.comments-title {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 var(--space-6);
}

.comments-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
  margin-bottom: var(--space-8);
}

.comment {
  display: flex;
  gap: var(--space-4);
}

.comment-avatar-placeholder {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--color-primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 1rem;
  flex-shrink: 0;
}

.comment-body {
  flex: 1;
  background: var(--color-surface);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg, 12px);
  padding: var(--space-4);
}

.comment-header {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-2);
  flex-wrap: wrap;
}

.comment-author {
  font-weight: 600;
  color: var(--text-primary);
  font-size: 0.9rem;
}

.comment-date {
  font-size: 0.78rem;
  color: var(--text-secondary);
  margin-left: auto;
}

.comment-content {
  font-size: 0.95rem;
  color: var(--text-primary);
  line-height: 1.6;
  margin: 0 0 var(--space-3);
}

.comment-footer {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  font-size: 0.8rem;
  color: var(--text-secondary);
}

.comment-likes {
  display: flex;
  align-items: center;
  gap: 4px;
}

.comment-edited {
  font-style: italic;
}

/* Ãšj komment */
.new-comment {
  border-top: 1px solid var(--border-color);
  padding-top: var(--space-6);
}

.new-comment-title {
  font-size: 1.05rem;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 var(--space-4);
}

.comment-input {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-lg, 12px);
  font-size: 0.95rem;
  background: var(--color-surface);
  color: var(--text-primary);
  resize: vertical;
  transition: border-color 0.2s ease;
  box-sizing: border-box;
  font-family: inherit;
}

.comment-input:focus {
  outline: none;
  border-color: var(--color-primary);
}

.submit-comment-btn {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  margin-top: var(--space-3);
  padding: var(--space-3) var(--space-6);
  background: var(--color-primary);
  color: white;
  border: none;
  border-radius: var(--radius-md, 8px);
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  min-height: 44px;
}

.submit-comment-btn:hover:not(:disabled) {
  background: var(--color-primary-dark);
  transform: translateY(-1px);
}

.submit-comment-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-spinner {
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255,255,255,0.4);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
}

.login-to-comment {
  border-top: 1px solid var(--border-color);
  padding-top: var(--space-6);
  display: flex;
  align-items: center;
  gap: var(--space-4);
  color: var(--text-secondary);
  font-size: 0.95rem;
}

.login-link {
  color: var(--color-primary);
  font-weight: 600;
  text-decoration: none;
}

.login-link:hover {
  text-decoration: underline;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TOVÃBBI BEJEGYZÃ‰SEK SLIDER
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

.related-section {
  background: var(--color-surface-elevated, var(--color-background));
  padding: var(--space-10) 0;
  border-top: 1px solid var(--border-color);
}

.related-container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 var(--space-6);
}

.related-title {
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: var(--space-6);
  text-align: center;
}

.slider-wrapper {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.slider-btn {
  flex-shrink: 0;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: 2px solid var(--color-border);
  background: var(--color-surface);
  color: var(--text-primary);
  font-size: 1.5rem;
  font-weight: 700;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  line-height: 1;
}

.slider-btn:hover:not(:disabled) {
  background: var(--color-primary);
  color: white;
  border-color: var(--color-primary);
}

.slider-btn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

.slider-track {
  flex: 1;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-4);
  overflow: hidden;
}

.related-card {
  background: var(--color-surface);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg, 12px);
  overflow: hidden;
  text-decoration: none;
  color: inherit;
  transition: all 0.25s ease;
  display: flex;
  flex-direction: column;
}

.related-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
  border-color: var(--color-primary);
}

.related-image {
  height: 140px;
  overflow: hidden;
}

.related-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.related-card:hover .related-image img {
  transform: scale(1.05);
}

.related-info {
  padding: var(--space-4);
  display: flex;
  flex-direction: column;
  gap: 8px;
  flex: 1;
}

.related-post-title {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--text-primary);
  line-height: 1.4;
  margin: 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.related-excerpt {
  font-size: 0.82rem;
  color: var(--text-secondary);
  line-height: 1.5;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  margin: 0;
}

.related-meta {
  display: flex;
  justify-content: space-between;
  font-size: 0.75rem;
  color: var(--text-tertiary);
  margin-top: auto;
  padding-top: 8px;
  border-top: 1px solid var(--border-color);
}

/* Back link */
.back-section {
  max-width: 800px;
  margin: 0 auto;
  padding: var(--space-6);
}

.back-link {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: var(--color-primary);
  text-decoration: none;
  font-weight: 600;
  font-size: 0.95rem;
  transition: opacity 0.2s;
}

.back-link:hover {
  opacity: 0.7;
}

/* Not found */
.not-found {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 60vh;
  gap: var(--space-4);
  color: var(--text-secondary);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESPONSIVE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

@media (max-width: 768px) {
  .article-hero {
    height: 240px;
  }

  .article-container {
    padding: var(--space-5) var(--space-4);
  }

  .article-meta {
    flex-direction: column;
    align-items: flex-start;
  }

  .meta-details {
    flex-wrap: wrap;
  }

  .article-stats {
    gap: var(--space-4);
  }

  .comments-container {
    padding: 0 var(--space-4);
  }

  .related-container {
    padding: 0 var(--space-3);
  }

  .slider-track {
    grid-template-columns: 1fr;
  }

  .slider-btn {
    display: none;
  }

  .slider-wrapper {
    gap: 0;
  }
}

@media (max-width: 480px) {
  .article-hero {
    height: 200px;
  }

  .article-title {
    font-size: 1.3rem;
  }

  .article-excerpt {
    font-size: 1rem;
  }

  .login-to-comment {
    flex-direction: column;
    align-items: flex-start;
  }
}

@media (prefers-reduced-motion: reduce) {
  .spinner,
  .btn-spinner {
    animation: none;
  }

  .related-card,
  .related-image img {
    transition: none;
  }
}



================================================================================
FILE: src\app\pages\forum-detail\forum-detail.html
================================================================================

<div class="forum-detail-page">
  @if (isLoading()) {
    <div class="loading-container">
      <div class="spinner"></div>
      <p>{{ 'common.loading' | translate }}</p>
    </div>
  }

  @if (!isLoading() && post()) {
    <article class="article">
      @if (post()!.imageUrl) {
        <div class="article-hero">
          <img [src]="post()!.imageUrl" [alt]="post()!.title" class="hero-image" />
          <div class="hero-overlay"></div>
        </div>
      }

      <div class="article-container">
        <header class="article-header">
          @if (getCategoryInfo(post()!.category); as cat) {
            <div class="article-category" [class]="cat.colorClass">
              <span>{{ cat.icon }}</span>
              <span>{{ cat.translationKey | translate }}</span>
            </div>
          }

          <h1 class="article-title">{{ post()!.title }}</h1>

          <div class="article-meta">
            <div class="meta-author">
              @if (post()!.author.avatar) {
                <img
                  [src]="post()!.author.avatar"
                  [alt]="post()!.author.name"
                  class="author-avatar"
                />
              } @else {
                <div class="author-avatar-placeholder">
                  {{ post()!.author.name.charAt(0).toUpperCase() }}
                </div>
              }
              <div class="author-info">
                <span class="author-name">{{ post()!.author.name }}</span>
                @if (post()!.author.verified) {
                  <span class="verified-badge">âœ“</span>
                }
                <span class="author-role">{{
                  'forum.role.' + post()!.author.role | translate
                }}</span>
              </div>
            </div>

            <div class="meta-details">
              <span class="meta-date">ğŸ“… {{ formatDate(post()!.createdAt) }}</span>
              @if (getReadingTime()) {
                <span class="meta-reading"
                  >ğŸ“– {{ getReadingTime() }} {{ 'common.minutes' | translate }}</span
                >
              }
            </div>
          </div>
        </header>

        <div class="article-body" [class.collapsed]="!contentExpanded()">
          <p class="article-excerpt">{{ post()!.excerpt }}</p>
          <div class="article-content">
            <p>{{ post()!.content }}</p>
          </div>
        </div>

        @if (!contentExpanded()) {
          <div class="read-more-section">
            <button class="read-more-btn" (click)="toggleContent()">
              <span class="dots">â€¢â€¢â€¢</span>
              <span>{{ 'forum.read_more' | translate }}</span>
            </button>
          </div>
        }

        <div class="article-stats">
          <div class="stat">
            <span class="stat-icon">ğŸ‘ï¸</span>
            <span>{{ post()!.views }}</span>
          </div>
          <div class="stat">
            <span class="stat-icon">â¤ï¸</span>
            <span>{{ post()!.likes }}</span>
          </div>
          <div class="stat">
            <span class="stat-icon">ğŸ’¬</span>
            <span>{{ comments().length }}</span>
          </div>
        </div>

        @if (post()!.tags.length > 0) {
          <div class="article-tags">
            @for (tag of post()!.tags; track tag) {
              <span class="tag">#{{ tag }}</span>
            }
          </div>
        }
      </div>
    </article>

    <section class="comments-section">
      <div class="comments-container">
        <h2 class="comments-title">
          ğŸ’¬ {{ 'forum.comments' | translate }} ({{ comments().length }})
        </h2>

        @if (comments().length > 0) {
          <div class="comments-list">
            @for (comment of comments(); track comment.id) {
              <div class="comment">
                <div class="comment-avatar-placeholder">
                  {{ comment.author.name.charAt(0).toUpperCase() }}
                </div>
                <div class="comment-body">
                  <div class="comment-header">
                    <span class="comment-author">{{ comment.author.name }}</span>
                    @if (comment.author.verified) {
                      <span class="verified-badge">âœ“</span>
                    }
                    <span class="comment-date">{{ formatDate(comment.createdAt) }}</span>
                  </div>
                  <p class="comment-content">{{ comment.content }}</p>
                  <div class="comment-footer">
                    <span class="comment-likes">â¤ï¸ {{ comment.likes }}</span>
                    @if (comment.isEdited) {
                      <span class="comment-edited">{{ 'forum.comment_edited' | translate }}</span>
                    }
                  </div>
                </div>
              </div>
            }
          </div>
        }

        @if (isAuthenticated()) {
          <div class="new-comment">
            <h3 class="new-comment-title">{{ 'forum.write_comment' | translate }}</h3>
            <textarea
              class="comment-input"
              [(ngModel)]="newComment"
              [placeholder]="'forum.comment_placeholder' | translate"
              rows="4"
            ></textarea>
            <button
              class="submit-comment-btn"
              (click)="submitComment()"
              [disabled]="!newComment().trim() || isSubmittingComment()"
            >
              @if (isSubmittingComment()) {
                <span class="btn-spinner"></span>
              }
              {{ 'forum.submit_comment' | translate }}
            </button>
          </div>
        } @else {
          <div class="login-to-comment">
            <p>{{ 'forum.login_to_comment' | translate }}</p>
            <a routerLink="/login" class="login-link">{{ 'header.login' | translate }}</a>
          </div>
        }
      </div>
    </section>

    @if (relatedPosts().length > 0) {
      <section class="related-section">
        <div class="related-container">
          <h2 class="related-title">{{ 'forum.related_posts' | translate }}</h2>
          <div class="slider-wrapper">
            <button
              class="slider-btn slider-btn-prev"
              (click)="sliderPrev()"
              [disabled]="!canSliderPrev"
              [attr.aria-label]="'common.previous' | translate"
            >
              â€¹
            </button>

            <div class="slider-track">
              @for (related of sliderVisible; track related.id) {
                <a class="related-card" [routerLink]="['/forum', related.slug]">
                  @if (related.imageUrl) {
                    <div class="related-image">
                      <img [src]="related.imageUrl" [alt]="related.title" loading="lazy" />
                    </div>
                  }
                  <div class="related-info">
                    <h3 class="related-post-title">{{ related.title }}</h3>
                    <p class="related-excerpt">{{ related.excerpt }}</p>
                    <div class="related-meta">
                      <span>{{ related.author.name }}</span>
                      <span>{{ formatDate(related.createdAt) }}</span>
                    </div>
                  </div>
                </a>
              }
            </div>

            <button
              class="slider-btn slider-btn-next"
              (click)="sliderNext()"
              [disabled]="!canSliderNext"
              [attr.aria-label]="'common.next' | translate"
            >
              â€º
            </button>
          </div>
        </div>
      </section>
    }

    <div class="back-section">
      <a routerLink="/forum" class="back-link"> â† {{ 'forum.back_to_forum' | translate }} </a>
    </div>
  }

  @if (!isLoading() && !post()) {
    <div class="not-found">
      <h2>{{ 'forum.post_not_found' | translate }}</h2>
      <a routerLink="/forum" class="back-link">â† {{ 'forum.back_to_forum' | translate }}</a>
    </div>
  }
</div>



================================================================================
FILE: src\app\pages\forum-detail\forum-detail.ts
================================================================================

import { Component, OnInit, inject, signal } from '@angular/core';
import { CommonModule } from '@angular/common';
import { ActivatedRoute, RouterModule } from '@angular/router';
import { FormsModule } from '@angular/forms';
import { TranslateModule, TranslateService } from '@ngx-translate/core';

import { ForumBlogService } from '../../core/services/forum-blog.service';
import { AuthService } from '../../core/services/auth.service';
import {
  Post,
  BlogPost,
  Comment,
  POST_CATEGORIES,
  CategoryInfo,
} from '../../core/models/forum-blog.model';

@Component({
  selector: 'app-forum-detail',
  standalone: true,
  imports: [CommonModule, RouterModule, FormsModule, TranslateModule],
  templateUrl: './forum-detail.html',
  styleUrl: './forum-detail.css',
})
export class ForumDetail implements OnInit {
  private route = inject(ActivatedRoute);
  private forumBlogService = inject(ForumBlogService);
  private authService = inject(AuthService);
  private translate = inject(TranslateService);

  post = signal<Post | null>(null);
  relatedPosts = signal<Post[]>([]);
  comments = signal<Comment[]>([]);
  isLoading = signal(true);
  contentExpanded = signal(false);
  newComment = signal('');
  isSubmittingComment = signal(false);
  sliderIndex = signal(0);

  isAuthenticated = this.authService.isAuthenticated;
  currentUser = this.authService.currentUser;

  categories = POST_CATEGORIES;

  ngOnInit(): void {
    this.route.paramMap.subscribe((params) => {
      const slug = params.get('slug');
      if (slug) {
        this.loadPost(slug);
      }
    });
  }

  private loadPost(slug: string): void {
    this.isLoading.set(true);
    this.contentExpanded.set(false);
    this.sliderIndex.set(0);

    this.forumBlogService.getPostById(slug).subscribe((post) => {
      this.post.set(post);
      this.isLoading.set(false);

      if (post) {
        this.forumBlogService.getRelatedPosts(post.id, 6).subscribe((related) => {
          this.relatedPosts.set(related);
        });
        this.loadMockComments(post.id);
      }
    });
  }

  private loadMockComments(postId: string): void {
    const mock: Comment[] = [
      {
        id: 'c1',
        postId,
        author: { id: 'u1', name: 'KovÃ¡cs Anna', role: 'user', verified: false },
        content: 'Nagyon hasznos bejegyzÃ©s, kÃ¶szÃ¶nÃ¶m!',
        createdAt: new Date(Date.now() - 1000 * 60 * 60 * 3),
        likes: 4,
        isEdited: false,
      },
      {
        id: 'c2',
        postId,
        author: { id: 'u2', name: 'Dr. Nagy PÃ©ter', role: 'pharmacist', verified: true },
        content: 'Fontos kiegÃ©szÃ­tÃ©s: mindig konzultÃ¡lj gyÃ³gyszerÃ©sszel, mielÅ‘tt bÃ¡rmilyen szert szednÃ©l.',
        createdAt: new Date(Date.now() - 1000 * 60 * 60 * 1),
        likes: 11,
        isEdited: false,
      },
    ];
    this.comments.set(mock);
  }

  getCategoryInfo(categoryId: string): CategoryInfo | undefined {
    return this.categories.find((c) => c.id === categoryId);
  }

  getReadingTime(): number {
    const p = this.post();
    if (p && 'readingTime' in p) {
      return (p as BlogPost).readingTime;
    }
    return 0;
  }

  formatDate(date: Date): string {
    if (!date) return '';
    return new Intl.DateTimeFormat(this.translate.currentLang || 'hu', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
    }).format(new Date(date));
  }

  toggleContent(): void {
    this.contentExpanded.update((v) => !v);
  }

  submitComment(): void {
    const text = this.newComment().trim();
    if (!text || !this.isAuthenticated()) return;

    this.isSubmittingComment.set(true);
    const user = this.currentUser();

    const comment: Comment = {
      id: 'c' + Date.now(),
      postId: this.post()?.id || '',
      author: {
        id: user?.id || 'me',
        name: `${user?.firstname || ''} ${user?.lastname || ''}`.trim() || user?.email || 'Te',
        role: 'user',
        verified: false,
      },
      content: text,
      createdAt: new Date(),
      likes: 0,
      isEdited: false,
    };

    setTimeout(() => {
      this.comments.update((c) => [...c, comment]);
      this.newComment.set('');
      this.isSubmittingComment.set(false);
    }, 400);
  }

  // Slider
  get sliderVisible(): Post[] {
    return this.relatedPosts().slice(this.sliderIndex(), this.sliderIndex() + 3);
  }

  sliderPrev(): void {
    this.sliderIndex.update((i) => Math.max(0, i - 1));
  }

  sliderNext(): void {
    this.sliderIndex.update((i) =>
      Math.min(this.relatedPosts().length - 3, i + 1),
    );
  }

  get canSliderPrev(): boolean {
    return this.sliderIndex() > 0;
  }

  get canSliderNext(): boolean {
    return this.sliderIndex() + 3 < this.relatedPosts().length;
  }
}



================================================================================
FILE: src\app\pages\home\home.css
================================================================================

.home {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.hero {
  background-color: var(--color-primary);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
  position: relative;
  width: 100%;
  min-height: 680px;
  height: auto;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 60px 24px 80px;
}

.hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    160deg,
    rgba(3, 50, 26, 0.78) 0%,
    rgba(6, 90, 50, 0.62) 50%,
    rgba(4, 60, 35, 0.8) 100%
  );
  z-index: 1;
}

.hero::after {
  content: '';
  position: absolute;
  inset: -50%;
  background-image:
    radial-gradient(circle at 20% 80%, rgba(114, 228, 240, 0.08) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(6, 122, 69, 0.12) 0%, transparent 50%);
  animation: heroFloat 12s ease-in-out infinite alternate;
  z-index: 1;
  pointer-events: none;
}

.hero app-slide {
  width: 100%;
  display: block;
}

@keyframes heroFloat {
  0% {
    transform: translate(0, 0) scale(1);
  }
  100% {
    transform: translate(2%, 3%) scale(1.05);
  }
}

.hero > * {
  position: relative;
  z-index: 2;
}

.hero h1 {
  text-align: center;
  color: white;
  margin-bottom: 12px;
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: 800;
  line-height: 1.1;
  letter-spacing: -0.02em;
  text-shadow: 0 2px 20px rgba(0, 0, 0, 0.4);
  /* Subtle green tint on text */
  background: linear-gradient(135deg, #ffffff 60%, #a8f0c8 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hero h2 {
  text-align: center;
  color: rgba(255, 255, 255, 0.88);
  margin-bottom: 16px;
  font-size: clamp(1.1rem, 2.5vw, 1.6rem);
  font-weight: 500;
  line-height: 1.4;
  letter-spacing: 0.01em;
  text-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);
}

.hero p {
  text-align: center;
  margin: 0 auto 24px;
  max-width: 760px;
  padding: 0 20px;
  color: rgba(255, 255, 255, 0.78);
  line-height: 1.8;
  font-size: clamp(0.9rem, 1.5vw, 1.05rem);
}

.hero-scroll-indicator {
  position: absolute;
  bottom: 28px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  z-index: 2;
  animation: scrollBounce 2s ease-in-out infinite;
  opacity: 0.6;
  color: white;
  font-size: 0.7rem;
  font-weight: 500;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.hero-scroll-indicator::after {
  content: 'â†“';
  font-size: 1.2rem;
  animation: scrollBounce 1.5s ease-in-out infinite;
}

@keyframes scrollBounce {
  0%,
  100% {
    transform: translateX(-50%) translateY(0);
  }
  50% {
    transform: translateX(-50%) translateY(6px);
  }
}

@media (max-width: 1024px) {
  .hero {
    background-attachment: scroll;
  }

  .hero p {
    max-width: 600px;
  }
}

@media (max-width: 768px) {
  .hero {
    min-height: 520px;
    padding: 40px 20px 64px;
    align-items: flex-start;
    background-attachment: scroll;
  }

  .hero h1 {
    text-align: left;
    font-size: clamp(1.7rem, 6vw, 2.4rem);
    letter-spacing: -0.01em;
  }

  .hero h2 {
    text-align: left;
    font-size: 1.1rem;
  }

  .hero p {
    text-align: left;
    font-size: 0.95rem;
    padding: 0;
    margin: 0 0 16px;
    max-width: 100%;
  }

  .hero-scroll-indicator {
    bottom: 16px;
  }
}

@media (max-width: 480px) {
  .hero {
    min-height: 440px;
    padding: 28px 16px 56px;
  }

  .hero h1 {
    font-size: 1.7rem;
  }
}

@media (max-width: 375px) {
  .hero {
    min-height: 380px;
    padding: 24px 14px 48px;
  }

  .hero h1 {
    font-size: 1.4rem;
  }

  .hero h2 {
    font-size: 1rem;
  }

  .hero p {
    font-size: 0.85rem;
  }
}

@media (prefers-reduced-motion: reduce) {
  .hero::after {
    animation: none;
  }

  .hero-scroll-indicator {
    animation: none;
  }

  .hero {
    background-attachment: scroll;
  }
}



================================================================================
FILE: src\app\pages\home\home.html
================================================================================

<div class="home">
  <div class="hero" [style.background-image]="'url(' + IMAGES.heroBg + ')'">
    <h1 appScrollReveal [animationType]="'fade-scale'" [animationDuration]="800" [autoPlay]="true">
      {{ 'home.hero.title' | translate }}
    </h1>

    <h2
      appScrollReveal
      [animationType]="'slide-up'"
      [animationDelay]="200"
      [animationDuration]="800"
      [autoPlay]="true"
    >
      {{ 'home.hero.subtitle' | translate }}
    </h2>

    <p
      appScrollReveal
      [animationType]="'fade'"
      [animationDelay]="400"
      [animationDuration]="800"
      [autoPlay]="true"
    >
      {{ 'home.hero.description' | translate }}
    </p>
  </div>

  <app-slide></app-slide>

  <app-featured>
    <app-featured-product-card
      *ngFor="let product of featuredProducts(); let i = index"
      [product]="product"
      (cardClick)="onProductClick(product.id)"
      appScrollReveal
      [animationType]="'slide-up'"
      [animationDelay]="i * 150"
      [threshold]="0.1"
    >
    </app-featured-product-card>
  </app-featured>
</div>



================================================================================
FILE: src\app\pages\home\home.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Home } from './home';

describe('Home', () => {
  let component: Home;
  let fixture: ComponentFixture<Home>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Home]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Home);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\home\home.ts
================================================================================

import { Component, inject, computed, OnInit } from '@angular/core';
import { CommonModule } from '@angular/common';
import { TranslateModule } from '@ngx-translate/core';
import { ActivatedRoute, Router } from '@angular/router';
import { AuthService } from '../../core/services/auth.service';

import { Slide } from '../../shared/components/slide/slide';
import { Featured } from '../../shared/components/featured/featured';
import { FeaturedProductCard } from '../../shared/components/featured-product-card/featured-product-card';
import { ScrollRevealDirective } from '../../shared/directives/scroll-reveal.directive';
import { ICONS, IMAGES } from '../../core/constants/visuals';
import { ProductService } from '../../services/product.service';

@Component({
  selector: 'app-home',
  standalone: true,
  imports: [
    CommonModule,
    Slide,
    Featured,
    FeaturedProductCard,
    ScrollRevealDirective,
    TranslateModule,
  ],
  templateUrl: './home.html',
  styleUrl: './home.css',
})
export class Home implements OnInit {
  private router = inject(Router);
  private productService = inject(ProductService);
  private route = inject(ActivatedRoute);
  private authService = inject(AuthService);

  IMAGES = IMAGES;
  ICONS = ICONS;

  featuredProducts = computed(() => this.productService.featuredProducts());

  ngOnInit(): void {
    this.route.queryParams.subscribe((params) => {
      if (params['activate']) {
        const parts = params['activate'].split(';');
        if (parts.length === 2) {
          const id = parts[0].trim();
          const token = parts[1].trim();
          this.authService.completeRegistration(id, token, true).subscribe({
            next: () => {
              // successful activation
              this.router.navigate(['/home'], { replaceUrl: true });
            },
            error: () => {
              this.router.navigate(['/home'], { replaceUrl: true });
            },
          });
        }
      }
    });

    this.productService.loadFeaturedProducts();
  }

  onProductClick(productId: string): void {
    this.router.navigate(['/products', productId]);
  }
}



================================================================================
FILE: src\app\pages\legal\legal.css
================================================================================

.legal-page {
  width: 100%;
  min-height: 100vh;
  background: var(--bg-secondary);
}

.legal-hero {
  background:
    linear-gradient(135deg, #065f36 0%, #067a45 25%, #0b5f39 50%, #044d2c 75%, #023a21 100%);
  color: white;
  padding: var(--space-16) var(--space-4) var(--space-12);
  text-align: center;
  position: relative;
  overflow: hidden;
}

.legal-hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse at 20% 50%, rgba(255, 255, 255, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 20%, rgba(114, 228, 240, 0.06) 0%, transparent 40%),
    radial-gradient(ellipse at 60% 80%, rgba(255, 255, 255, 0.04) 0%, transparent 45%);
  pointer-events: none;
}

.legal-hero::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.2) 50%, transparent 100%);
  pointer-events: none;
}

.hero-content {
  max-width: 680px;
  margin: 0 auto;
  position: relative;
  z-index: 1;
}

.hero-title {
  font-size: clamp(1.75rem, 4vw, 2.5rem);
  font-weight: var(--font-bold);
  margin: 0 0 var(--space-3) 0;
  line-height: var(--leading-tight);
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.hero-description {
  font-size: clamp(1rem, 2vw, 1.125rem);
  margin: 0;
  opacity: 0.92;
  line-height: var(--leading-relaxed);
}

.legal-container {
  max-width: 860px;
  margin: 0 auto;
  padding: var(--space-8) var(--space-4) var(--space-16);
}

.legal-tabs {
  display: flex;
  gap: var(--space-2);
  margin-bottom: var(--space-6);
  background: var(--bg-primary);
  padding: var(--space-2);
  border-radius: var(--radius-xl, 1rem);
  border: 1px solid var(--border-color);
  flex-wrap: wrap;
}

.tab-btn {
  flex: 1;
  min-width: 120px;
  padding: var(--space-3) var(--space-4);
  border: none;
  border-radius: var(--radius-lg, 0.75rem);
  background: transparent;
  color: var(--text-secondary);
  font-size: var(--text-sm, 0.9rem);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  min-height: 44px;
  white-space: nowrap;
}

.tab-btn:hover {
  background: var(--bg-secondary);
  color: var(--text-primary);
}

.tab-btn.active {
  background: var(--color-primary);
  color: white;
  box-shadow: 0 2px 8px rgba(6, 122, 69, 0.3);
}

.legal-content {
  background: var(--bg-primary);
  border-radius: var(--radius-xl, 1rem);
  border: 1px solid var(--border-color);
  overflow: hidden;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.legal-header {
  padding: var(--space-6) var(--space-8);
  border-bottom: 2px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--space-4);
  flex-wrap: wrap;
}

.legal-section-title {
  font-size: clamp(1.25rem, 3vw, 1.75rem);
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
}

.legal-updated {
  font-size: 0.8rem;
  color: var(--text-secondary);
  margin: 0;
  white-space: nowrap;
}

.legal-body {
  padding: var(--space-6) var(--space-8);
  display: flex;
  flex-direction: column;
  gap: var(--space-8);
}

.legal-block h3 {
  font-size: var(--text-lg, 1.1rem);
  font-weight: 600;
  color: var(--color-primary);
  margin: 0 0 var(--space-3) 0;
  padding-bottom: var(--space-2);
  border-bottom: 1px solid var(--border-color);
}

.legal-block p {
  color: var(--text-secondary);
  line-height: 1.7;
  margin: 0 0 var(--space-3) 0;
}

.legal-block p:last-child {
  margin-bottom: 0;
}

.legal-block ul {
  margin: var(--space-3) 0 0 var(--space-5);
  color: var(--text-secondary);
  line-height: 1.8;
}

.legal-block ul li {
  margin-bottom: var(--space-1);
}

.info-grid {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.info-item {
  display: flex;
  gap: var(--space-3);
  padding: var(--space-2) var(--space-3);
  background: var(--bg-secondary);
  border-radius: var(--radius-md, 0.5rem);
  font-size: var(--text-sm, 0.9rem);
}

.info-label {
  font-weight: 600;
  color: var(--text-primary);
  min-width: 100px;
}
.info-item span:last-child {
  color: var(--text-secondary);
}

.data-table {
  border: 1px solid var(--border-color);
  border-radius: var(--radius-md, 0.5rem);
  overflow: hidden;
}

.data-row {
  display: grid;
  grid-template-columns: 2fr 2fr 1fr;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  border-bottom: 1px solid var(--border-color);
  font-size: var(--text-sm, 0.9rem);
  color: var(--text-secondary);
}

.data-row:last-child {
  border-bottom: none;
}

.data-row.header {
  background: var(--bg-secondary);
  font-weight: 600;
  color: var(--text-primary);
}

.cookie-card {
  padding: var(--space-5);
  border-radius: var(--radius-lg, 0.75rem);
  border: 1px solid var(--border-color);
  margin-bottom: var(--space-4);
}

.cookie-card:last-child {
  margin-bottom: 0;
}

.cookie-card.essential {
  border-left: 4px solid var(--color-primary);
}
.cookie-card.analytics {
  border-left: 4px solid #2563eb;
}
.cookie-card.preferences {
  border-left: 4px solid #7c3aed;
}

.cookie-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-2);
}

.cookie-type-badge {
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 2px var(--space-2);
  border-radius: var(--radius-full, 9999px);
}

.cookie-type-badge.essential {
  background: rgba(6, 122, 69, 0.12);
  color: var(--color-primary);
}
.cookie-type-badge.analytics {
  background: rgba(37, 99, 235, 0.12);
  color: #2563eb;
}
.cookie-type-badge.preferences {
  background: rgba(124, 58, 237, 0.12);
  color: #7c3aed;
}

.cookie-required {
  font-size: 0.75rem;
  color: var(--text-secondary);
}

.cookie-card h4 {
  font-size: var(--text-base, 1rem);
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 var(--space-2) 0;
}

.cookie-card p {
  font-size: var(--text-sm, 0.9rem);
  color: var(--text-secondary);
  line-height: 1.6;
  margin: 0 0 var(--space-3) 0;
}

.cookie-examples {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.cookie-examples code {
  font-size: 0.75rem;
  padding: 2px var(--space-2);
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-sm, 0.375rem);
  color: var(--text-primary);
  font-family: 'Inconsolata', monospace;
}

@media (max-width: 768px) {
  .legal-hero {
    padding: var(--space-10) var(--space-4) var(--space-8);
  }
  .legal-container {
    padding: var(--space-6) var(--space-3) var(--space-10);
  }
  .legal-header {
    padding: var(--space-5) var(--space-4);
  }
  .legal-body {
    padding: var(--space-5) var(--space-4);
    gap: var(--space-6);
  }
  .data-row {
    grid-template-columns: 1fr;
    gap: var(--space-1);
  }
  .data-row.header span:not(:first-child) {
    display: none;
  }
  .legal-tabs {
    gap: var(--space-1);
  }
  .tab-btn {
    min-width: unset;
    font-size: 0.8rem;
    padding: var(--space-2) var(--space-3);
  }
}

@media (max-width: 480px) {
  .legal-header {
    flex-direction: column;
  }
  .legal-updated {
    font-size: 0.75rem;
  }
  .info-item {
    flex-direction: column;
    gap: var(--space-1);
  }
  .info-label {
    min-width: unset;
  }
}

[data-theme='dark'] .legal-hero {
  background:
    linear-gradient(135deg, #044d2c 0%, #065f36 25%, #0b5f39 50%, #033d23 75%, #022b18 100%);
}
[data-theme='dark'] .cookie-examples code {
  background: var(--bg-tertiary);
}

@media (prefers-reduced-motion: reduce) {
  .legal-content {
    animation: none;
  }
}



================================================================================
FILE: src\app\pages\legal\legal.html
================================================================================

<div class="legal-page">
  <div class="legal-hero">
    <div class="hero-content">
      <h1 class="hero-title">{{ 'legal.title' | translate }}</h1>
      <p class="hero-description">{{ 'legal.description' | translate }}</p>
    </div>
  </div>

  <div class="legal-container">
    <nav class="legal-tabs" role="tablist">
      <button
        role="tab"
        [class]="'tab-btn' + (activeTab() === 'terms' ? ' active' : '')"
        [attr.aria-selected]="activeTab() === 'terms'"
        (click)="setTab('terms')"
      >
        ğŸ“„ {{ 'legal.tabs.terms' | translate }}
      </button>
      <button
        role="tab"
        [class]="'tab-btn' + (activeTab() === 'privacy' ? ' active' : '')"
        [attr.aria-selected]="activeTab() === 'privacy'"
        (click)="setTab('privacy')"
      >
        ğŸ”’ {{ 'legal.tabs.privacy' | translate }}
      </button>
      <button
        role="tab"
        [class]="'tab-btn' + (activeTab() === 'cookies' ? ' active' : '')"
        [attr.aria-selected]="activeTab() === 'cookies'"
        (click)="setTab('cookies')"
      >
        ğŸª {{ 'legal.tabs.cookies' | translate }}
      </button>
    </nav>

    @if (activeTab() === 'terms') {
      <article class="legal-content" role="tabpanel">
        <div class="legal-header">
          <h2 class="legal-section-title">{{ 'legal.terms.title' | translate }}</h2>
          <p class="legal-updated">{{ 'legal.last_updated' | translate }}: 2025-01-01</p>
        </div>

        <div class="legal-body">
          <section class="legal-block">
            <h3>{{ 'legal.terms.section1_title' | translate }}</h3>
            <p>{{ 'legal.terms.section1_text' | translate }}</p>
          </section>

          <section class="legal-block">
            <h3>{{ 'legal.terms.section2_title' | translate }}</h3>
            <div class="info-grid">
              <div class="info-item">
                <span class="info-label">{{ 'legal.terms.info_name' | translate }}</span>
                <span>{{ 'legal.terms.info_name_value' | translate }}</span>
              </div>
              <div class="info-item">
                <span class="info-label">{{ 'legal.terms.info_address' | translate }}</span>
                <span>{{ 'legal.terms.info_address_value' | translate }}</span>
              </div>
              <div class="info-item">
                <span class="info-label">{{ 'legal.terms.info_email' | translate }}</span>
                <span>{{ 'legal.terms.info_email_value' | translate }}</span>
              </div>
              <div class="info-item">
                <span class="info-label">{{ 'legal.terms.info_phone' | translate }}</span>
                <span>{{ 'legal.terms.info_phone_value' | translate }}</span>
              </div>
            </div>
          </section>

          <section class="legal-block">
            <h3>{{ 'legal.terms.section3_title' | translate }}</h3>
            <p>{{ 'legal.terms.section3_text' | translate }}</p>
            <ul>
              <li>{{ 'legal.terms.section3_step1' | translate }}</li>
              <li>{{ 'legal.terms.section3_step2' | translate }}</li>
              <li>{{ 'legal.terms.section3_step3' | translate }}</li>
              <li>{{ 'legal.terms.section3_step4' | translate }}</li>
            </ul>
          </section>

          <section class="legal-block">
            <h3>{{ 'legal.terms.section4_title' | translate }}</h3>
            <p>{{ 'legal.terms.section4_text' | translate }}</p>
          </section>

          <section class="legal-block">
            <h3>{{ 'legal.terms.section5_title' | translate }}</h3>
            <p>{{ 'legal.terms.section5_text' | translate }}</p>
          </section>

          <section class="legal-block">
            <h3>{{ 'legal.terms.section6_title' | translate }}</h3>
            <p>{{ 'legal.terms.section6_text' | translate }}</p>
          </section>
        </div>
      </article>
    }

    @if (activeTab() === 'privacy') {
      <article class="legal-content" role="tabpanel">
        <div class="legal-header">
          <h2 class="legal-section-title">{{ 'legal.privacy.title' | translate }}</h2>
          <p class="legal-updated">{{ 'legal.last_updated' | translate }}: 2025-01-01</p>
        </div>

        <div class="legal-body">
          <section class="legal-block">
            <h3>{{ 'legal.privacy.section1_title' | translate }}</h3>
            <p>{{ 'legal.privacy.section1_text' | translate }}</p>
          </section>

          <section class="legal-block">
            <h3>{{ 'legal.privacy.section2_title' | translate }}</h3>
            <div class="data-table">
              <div class="data-row header">
                <span>{{ 'legal.privacy.table_header_category' | translate }}</span>
                <span>{{ 'legal.privacy.table_header_purpose' | translate }}</span>
                <span>{{ 'legal.privacy.table_header_retention' | translate }}</span>
              </div>
              <div class="data-row">
                <span>{{ 'legal.privacy.table_row1_category' | translate }}</span>
                <span>{{ 'legal.privacy.table_row1_purpose' | translate }}</span>
                <span>{{ 'legal.privacy.table_row1_retention' | translate }}</span>
              </div>
              <div class="data-row">
                <span>{{ 'legal.privacy.table_row2_category' | translate }}</span>
                <span>{{ 'legal.privacy.table_row2_purpose' | translate }}</span>
                <span>{{ 'legal.privacy.table_row2_retention' | translate }}</span>
              </div>
              <div class="data-row">
                <span>{{ 'legal.privacy.table_row3_category' | translate }}</span>
                <span>{{ 'legal.privacy.table_row3_purpose' | translate }}</span>
                <span>{{ 'legal.privacy.table_row3_retention' | translate }}</span>
              </div>
            </div>
          </section>

          <section class="legal-block">
            <h3>{{ 'legal.privacy.section3_title' | translate }}</h3>
            <p>{{ 'legal.privacy.section3_text' | translate }}</p>
            <ul>
              <li><strong>{{ 'legal.privacy.right_access' | translate }}</strong> â€“ {{ 'legal.privacy.right_access_desc' | translate }}</li>
              <li><strong>{{ 'legal.privacy.right_rectification' | translate }}</strong> â€“ {{ 'legal.privacy.right_rectification_desc' | translate }}</li>
              <li><strong>{{ 'legal.privacy.right_erasure' | translate }}</strong> â€“ {{ 'legal.privacy.right_erasure_desc' | translate }}</li>
              <li><strong>{{ 'legal.privacy.right_portability' | translate }}</strong> â€“ {{ 'legal.privacy.right_portability_desc' | translate }}</li>
              <li><strong>{{ 'legal.privacy.right_objection' | translate }}</strong> â€“ {{ 'legal.privacy.right_objection_desc' | translate }}</li>
            </ul>
          </section>

          <section class="legal-block">
            <h3>{{ 'legal.privacy.section4_title' | translate }}</h3>
            <p>{{ 'legal.privacy.section4_text' | translate }}</p>
          </section>
        </div>
      </article>
    }

    @if (activeTab() === 'cookies') {
      <article class="legal-content" role="tabpanel">
        <div class="legal-header">
          <h2 class="legal-section-title">{{ 'legal.cookies.title' | translate }}</h2>
          <p class="legal-updated">{{ 'legal.last_updated' | translate }}: 2025-01-01</p>
        </div>

        <div class="legal-body">
          <section class="legal-block">
            <h3>{{ 'legal.cookies.what_title' | translate }}</h3>
            <p>{{ 'legal.cookies.what_text' | translate }}</p>
          </section>

          <section class="legal-block">
            <h3>{{ 'legal.cookies.types_title' | translate }}</h3>

            <div class="cookie-card essential">
              <div class="cookie-card-header">
                <span class="cookie-type-badge essential">{{ 'legal.cookies.essential_badge' | translate }}</span>
                <span class="cookie-required">{{ 'legal.cookies.essential_always_active' | translate }}</span>
              </div>
              <h4>{{ 'legal.cookies.essential_title' | translate }}</h4>
              <p>{{ 'legal.cookies.essential_text' | translate }}</p>
              <div class="cookie-examples">
                <code>session_id</code>
                <code>auth_token</code>
                <code>csrf_token</code>
              </div>
            </div>

            <div class="cookie-card analytics">
              <div class="cookie-card-header">
                <span class="cookie-type-badge analytics">{{ 'legal.cookies.analytics_badge' | translate }}</span>
              </div>
              <h4>{{ 'legal.cookies.analytics_title' | translate }}</h4>
              <p>{{ 'legal.cookies.analytics_text' | translate }}</p>
              <div class="cookie-examples">
                <code>_ga</code>
                <code>_gid</code>
              </div>
            </div>

            <div class="cookie-card preferences">
              <div class="cookie-card-header">
                <span class="cookie-type-badge preferences">{{ 'legal.cookies.preferences_badge' | translate }}</span>
              </div>
              <h4>{{ 'legal.cookies.preferences_title' | translate }}</h4>
              <p>{{ 'legal.cookies.preferences_text' | translate }}</p>
              <div class="cookie-examples">
                <code>preferredLanguage</code>
                <code>preferredTheme</code>
              </div>
            </div>
          </section>

          <section class="legal-block">
            <h3>{{ 'legal.cookies.manage_title' | translate }}</h3>
            <p>{{ 'legal.cookies.manage_text' | translate }}</p>
          </section>
        </div>
      </article>
    }
  </div>
</div>



================================================================================
FILE: src\app\pages\legal\legal.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Legal } from './legal';

describe('Legal', () => {
  let component: Legal;
  let fixture: ComponentFixture<Legal>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Legal]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Legal);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\legal\legal.ts
================================================================================

import { Component, signal } from '@angular/core';
import { CommonModule } from '@angular/common';
import { TranslateModule } from '@ngx-translate/core';

type LegalTab = 'terms' | 'privacy' | 'cookies';

@Component({
  selector: 'app-legal',
  standalone: true,
  imports: [CommonModule, TranslateModule],
  templateUrl: './legal.html',
  styleUrl: './legal.css',
})
export class Legal {
  activeTab = signal<LegalTab>('terms');

  setTab(tab: LegalTab): void {
    this.activeTab.set(tab);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
}



================================================================================
FILE: src\app\pages\login\login.css
================================================================================

.auth-container {
  min-height: calc(100vh - 55px - 200px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-8) var(--space-4);
  background-color: var(--bg-secondary);
}

.auth-card {
  background-color: var(--bg-primary);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  padding: var(--space-10);
  width: 100%;
  max-width: 440px;
  transition: all var(--transition-normal);
}

.auth-header {
  text-align: center;
  margin-bottom: var(--space-8);
}

.auth-header h1 {
  font-size: var(--text-3xl);
  font-weight: var(--font-bold);
  color: var(--text-primary);
  margin-bottom: var(--space-2);
}

.auth-subtitle {
  font-size: var(--text-base);
  color: var(--text-secondary);
  margin: 0;
}

.auth-form {
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.form-label {
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--text-primary);
}

.form-input {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  font-size: 1rem;
  font-family: var(--font-primary);
  color: var(--input-text);
  background-color: var(--input-bg);
  border: 2px solid var(--input-border);
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);
  outline: none;
  min-height: 48px;
  box-sizing: border-box;
}

.form-input:focus {
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 3px rgba(6, 122, 69, 0.1);
}

.form-input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.form-input::placeholder {
  color: var(--input-placeholder);
}

.password-input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.password-input-wrapper .form-input {
  padding-right: var(--space-12);
}

.password-toggle {
  position: absolute;
  right: 0;
  width: 44px;
  height: 44px;
  background: none;
  border: none;
  cursor: pointer;
  font-size: var(--text-xl);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-secondary);
  transition: color var(--transition-fast);
  border-radius: 0 var(--radius-md) var(--radius-md) 0;
}

@media (hover: hover) and (pointer: fine) {
  .password-toggle:hover {
    color: var(--text-primary);
  }
}

.password-toggle:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.checkbox-group {
  flex-direction: row;
  align-items: center;
  gap: var(--space-2);
}

.checkbox-label {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  cursor: pointer;
  font-size: var(--text-sm);
  color: var(--text-primary);
  user-select: none;
  min-height: 44px;
}

.checkbox-label input[type='checkbox'] {
  width: 20px;
  height: 20px;
  cursor: pointer;
  accent-color: var(--color-primary);
  flex-shrink: 0;
}

.checkbox-label input[type='checkbox']:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.error-message {
  padding: var(--space-3) var(--space-4);
  background-color: rgba(220, 38, 38, 0.1);
  color: var(--color-error);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  border-left: 4px solid var(--color-error);
}

.submit-btn {
  width: 100%;
  padding: var(--space-3) var(--space-6);
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  font-family: var(--font-primary);
  color: var(--btn-primary-text);
  background-color: var(--btn-primary-bg);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-normal);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  min-height: 48px;
}

@media (hover: hover) and (pointer: fine) {
  .submit-btn:hover:not(:disabled) {
    background-color: var(--btn-primary-hover);
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }
}

.submit-btn:active:not(:disabled) {
  transform: translateY(0);
}

.submit-btn:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

.spinner {
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  flex-shrink: 0;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.auth-links {
  display: flex;
  justify-content: center;
  margin-top: var(--space-2);
}

.link {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  text-decoration: none;
  transition: color var(--transition-fast);
  padding: var(--space-2) 0;
  display: inline-block;
}

@media (hover: hover) and (pointer: fine) {
  .link:hover {
    color: var(--color-primary);
    text-decoration: underline;
  }
}

.auth-divider {
  display: flex;
  align-items: center;
  text-align: center;
  margin: var(--space-6) 0 var(--space-4);
  color: var(--text-secondary);
  font-size: var(--text-sm);
}

.auth-divider::before,
.auth-divider::after {
  content: '';
  flex: 1;
  border-bottom: 1px solid var(--border-color);
}

.auth-divider span {
  padding: 0 var(--space-3);
}

.auth-footer {
  text-align: center;
  margin-top: var(--space-2);
}

.auth-footer p {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  margin: 0;
}

.link-primary {
  color: var(--color-primary);
  text-decoration: none;
  font-weight: var(--font-semibold);
  transition: color var(--transition-fast);
  padding: var(--space-1) 0;
  display: inline-block;
}

@media (hover: hover) and (pointer: fine) {
  .link-primary:hover {
    color: var(--color-primary-hover);
    text-decoration: underline;
  }
}

.verification-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: var(--space-4);
  padding: var(--space-4) 0;
}

.icon-wrapper {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background-color: rgba(6, 122, 69, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.icon-wrapper.success {
  background-color: rgba(6, 122, 69, 0.15);
}

.mail-icon,
.check-icon {
  width: 40px;
  height: 40px;
  color: var(--color-primary);
  stroke: var(--color-primary);
}

.verification-content h1 {
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  color: var(--text-primary);
  margin: 0;
}

.verification-text {
  font-size: var(--text-base);
  color: var(--text-secondary);
  margin: 0;
  max-width: 340px;
  line-height: 1.6;
}

.verification-steps {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  width: 100%;
  text-align: left;
}

.step {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
}

.step-number {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background-color: var(--color-primary);
  color: white;
  font-size: var(--text-sm);
  font-weight: var(--font-bold);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.step p {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  margin: 0;
  padding-top: var(--space-1);
  line-height: 1.5;
}

.redirect-info {
  padding: var(--space-3) var(--space-4);
  background-color: rgba(6, 122, 69, 0.08);
  border-radius: var(--radius-md);
  width: 100%;
}

.redirect-info p {
  font-size: var(--text-sm);
  color: var(--color-primary);
  margin: 0;
  font-weight: var(--font-medium);
}

.form-hint {
  font-size: var(--text-xs);
  color: var(--text-secondary);
  margin-top: var(--space-1);
  margin-bottom: 0;
}

@media (max-width: 768px) {
  .auth-container {
    padding: var(--space-4) var(--space-3);
    align-items: flex-start;
    padding-top: var(--space-8);
  }

  .auth-card {
    padding: var(--space-8) var(--space-6);
  }

  .auth-header h1 {
    font-size: var(--text-2xl);
  }

  .auth-header {
    margin-bottom: var(--space-6);
  }
}

@media (max-width: 480px) {
  .auth-container {
    padding: var(--space-3) var(--space-3);
    padding-top: var(--space-6);
    align-items: flex-start;
  }

  .auth-card {
    padding: var(--space-6) var(--space-4);
    border-radius: var(--radius-md);
  }

  .auth-header h1 {
    font-size: var(--text-xl);
  }

  .auth-subtitle {
    font-size: var(--text-sm);
  }

  .auth-form {
    gap: var(--space-4);
  }

  .auth-divider {
    margin: var(--space-4) 0 var(--space-3);
  }

  .verification-content h1 {
    font-size: var(--text-xl);
  }

  .icon-wrapper {
    width: 64px;
    height: 64px;
  }

  .mail-icon,
  .check-icon {
    width: 32px;
    height: 32px;
  }
}

@media (max-width: 375px) {
  .auth-container {
    padding: var(--space-2) var(--space-2);
    padding-top: var(--space-4);
  }

  .auth-card {
    padding: var(--space-5) var(--space-3);
  }

  .auth-header h1 {
    font-size: var(--text-lg);
  }

  .auth-form {
    gap: var(--space-3);
  }

  .step-number {
    width: 24px;
    height: 24px;
    font-size: var(--text-xs);
  }
}

@media (prefers-reduced-motion: reduce) {
  .spinner {
    animation: none;
    border-top-color: white;
    opacity: 0.7;
  }

  .submit-btn,
  .link,
  .link-primary,
  .password-toggle {
    transition: none;
  }
}



================================================================================
FILE: src\app\pages\login\login.html
================================================================================

<div class="auth-container">
  <div class="auth-card">
    @if (isEmailSent()) {
      <div class="verification-content">
        <div class="icon-wrapper">
          <svg class="mail-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
            />
          </svg>
        </div>
        <h1>{{ 'auth.login.email_sent_title' | translate }}</h1>
        <p class="verification-text">{{ 'auth.login.email_sent_message' | translate }}</p>
        <div class="verification-steps">
          <div class="step">
            <span class="step-number">1</span>
            <p>{{ 'auth.login.step_1' | translate }}</p>
          </div>
          <div class="step">
            <span class="step-number">2</span>
            <p>{{ 'auth.login.step_2' | translate }}</p>
          </div>
        </div>
      </div>
    }

    @if (!isEmailSent()) {
      <div class="auth-header">
        <h1>{{ 'auth.login.title' | translate }}</h1>
        <p class="auth-subtitle">{{ 'auth.login.subtitle' | translate }}</p>
      </div>

      <form class="auth-form" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="email" class="form-label">
            {{ 'auth.fields.email' | translate }}
          </label>
          <input
            type="email"
            id="email"
            class="form-input"
            [placeholder]="'auth.placeholders.email' | translate"
            [(ngModel)]="email"
            name="email"
            [disabled]="isLoading()"
            required
            autocomplete="email"
          />
        </div>

        <div class="form-group">
          <label for="password" class="form-label">
            {{ 'auth.fields.password' | translate }}
          </label>
          <div class="password-input-wrapper">
            <input
              [type]="showPassword() ? 'text' : 'password'"
              id="password"
              class="form-input"
              [placeholder]="'auth.placeholders.password' | translate"
              [(ngModel)]="password"
              name="password"
              [disabled]="isLoading()"
              required
              autocomplete="current-password"
            />
            <button
              type="button"
              class="password-toggle"
              (click)="togglePasswordVisibility()"
              [attr.aria-label]="'auth.show_password' | translate"
            >
              {{ showPassword() ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
            </button>
          </div>
        </div>

        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input
              type="checkbox"
              [(ngModel)]="stayLoggedIn"
              name="stayLoggedIn"
              [disabled]="isLoading()"
            />
            <span>{{ 'auth.login.stay_logged_in' | translate }}</span>
          </label>
        </div>

        @if (errorMessage()) {
          <div class="error-message">
            {{ errorMessage() | translate }}
          </div>
        }

        <button type="submit" class="submit-btn" [disabled]="isLoading()">
          @if (isLoading()) {
            <span class="spinner"></span>
            {{ 'auth.login.logging_in' | translate }}
          } @else {
            {{ 'auth.login.button' | translate }}
          }
        </button>

        <div class="auth-links">
          <a routerLink="/password-reset-request" class="link">
            {{ 'auth.login.forgot_password' | translate }}
          </a>
        </div>

        <div class="auth-divider">
          <span>{{ 'auth.or' | translate }}</span>
        </div>

        <div class="auth-footer">
          <p>
            {{ 'auth.login.no_account' | translate }}
            <a routerLink="/register" class="link-primary">
              {{ 'auth.login.sign_up' | translate }}
            </a>
          </p>
        </div>
      </form>
    }
  </div>
</div>



================================================================================
FILE: src\app\pages\login\login.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Login } from './login';

describe('Login', () => {
  let component: Login;
  let fixture: ComponentFixture<Login>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Login]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Login);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\login\login.ts
================================================================================

import { Component, signal } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { Router, RouterModule } from '@angular/router';
import { TranslateModule } from '@ngx-translate/core';
import { AuthService } from '../../core/services/auth.service';

@Component({
  selector: 'app-login',
  standalone: true,
  imports: [CommonModule, FormsModule, RouterModule, TranslateModule],
  templateUrl: './login.html',
  styleUrl: './login.css',
})
export class Login {
  email = signal('');
  password = signal('');
  stayLoggedIn = signal(false);
  isLoading = signal(false);
  errorMessage = signal('');
  showPassword = signal(false);
  isEmailSent = signal(false);

  constructor(
    private authService: AuthService,
    private router: Router,
  ) {}

  onSubmit(): void {
    this.errorMessage.set('');

    if (!this.email() || !this.password()) {
      this.errorMessage.set('auth.errors.empty_fields');
      return;
    }

    if (!this.isValidEmail(this.email())) {
      this.errorMessage.set('auth.errors.invalid_email');
      return;
    }

    this.isLoading.set(true);

    this.authService.loginRequest(this.email(), this.password()).subscribe({
      next: () => {
        this.isLoading.set(false);
        this.isEmailSent.set(true);
        // Store stayLoggedIn preference so login-promise page can use it
        sessionStorage.setItem('login_stay', this.stayLoggedIn() ? '1' : '0');
      },
      error: (error) => {
        this.isLoading.set(false);
        this.errorMessage.set(error.message || 'auth.errors.login_failed');
      },
    });
  }

  togglePasswordVisibility(): void {
    this.showPassword.set(!this.showPassword());
  }

  private isValidEmail(email: string): boolean {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  }
}



================================================================================
FILE: src\app\pages\login-promise\login-promise.css
================================================================================

.auth-container {
  min-height: calc(100vh - 140px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-6) var(--space-4);
  background: var(--bg-secondary);
}

.auth-card {
  background: var(--bg-primary);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-lg);
  padding: var(--space-10) var(--space-8);
  width: 100%;
  max-width: 480px;
  animation: slideUp 0.4s ease-out;
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}

.verification-content {
  text-align: center;
}

.verification-content h1 {
  font-size: clamp(1.25rem, 3vw, 1.6rem);
  font-weight: 700;
  color: var(--text-primary);
  margin: var(--space-5) 0 var(--space-3);
}

.verification-text {
  color: var(--text-secondary);
  font-size: var(--text-base, 1rem);
  line-height: 1.6;
  margin-bottom: var(--space-6);
}

.error-text {
  color: #dc2626;
}

.icon-wrapper {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  margin: 0 auto var(--space-4);
  display: flex;
  align-items: center;
  justify-content: center;
}

.icon-wrapper svg {
  width: 40px;
  height: 40px;
}

.icon-wrapper.success {
  background: rgba(6, 122, 69, 0.12);
  color: #067a45;
}

.icon-wrapper.error {
  background: rgba(220, 38, 38, 0.1);
  color: #dc2626;
}

.spinner-large {
  width: 56px;
  height: 56px;
  border: 4px solid var(--border-color);
  border-top-color: var(--color-primary);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  margin: 0 auto var(--space-5);
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.submit-btn {
  width: 100%;
  padding: var(--space-3) var(--space-6);
  background: linear-gradient(135deg, #067a45 0%, #048a4f 100%);
  color: white;
  border: none;
  border-radius: var(--radius-lg);
  font-size: var(--text-base, 1rem);
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-fast, 0.15s);
  min-height: 48px;
  margin-top: var(--space-2);
}

.submit-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(6, 122, 69, 0.4);
}



================================================================================
FILE: src\app\pages\login-promise\login-promise.html
================================================================================

<div class="auth-container">
  <div class="auth-card">
    @if (isVerifying()) {
      <div class="verification-content">
        <div class="spinner-large"></div>
        <h1>{{ 'auth.login_promise.verifying' | translate }}</h1>
        <p class="verification-text">{{ 'auth.login_promise.please_wait' | translate }}</p>
      </div>
    }

    @if (!isVerifying() && isSuccess()) {
      <div class="verification-content">
        <div class="icon-wrapper success">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
          </svg>
        </div>
        <h1>{{ 'auth.login_promise.success_title' | translate }}</h1>
        <p class="verification-text">{{ 'auth.login_promise.success_message' | translate }}</p>
      </div>
    }

    @if (!isVerifying() && errorMessage()) {
      <div class="verification-content">
        <div class="icon-wrapper error">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </div>
        <h1>{{ 'auth.login_promise.error_title' | translate }}</h1>
        <p class="verification-text error-text">{{ errorMessage() | translate }}</p>
        <button class="submit-btn" (click)="backToLogin()">
          {{ 'auth.login_promise.back_to_login' | translate }}
        </button>
      </div>
    }
  </div>
</div>



================================================================================
FILE: src\app\pages\login-promise\login-promise.ts
================================================================================

import { Component, OnInit, signal, inject } from '@angular/core';
import { CommonModule, Location } from '@angular/common';
import { ActivatedRoute, Router, RouterModule } from '@angular/router';
import { TranslateModule } from '@ngx-translate/core';
import { AuthService } from '../../core/services/auth.service';

@Component({
  selector: 'app-login-promise',
  standalone: true,
  imports: [CommonModule, RouterModule, TranslateModule],
  templateUrl: './login-promise.html',
  styleUrl: './login-promise.css',
})
export class LoginPromise implements OnInit {
  private location = inject(Location);

  isVerifying = signal(false);
  isSuccess = signal(false);
  errorMessage = signal('');

  constructor(
    private route: ActivatedRoute,
    private router: Router,
    private authService: AuthService,
  ) {}

  ngOnInit(): void {
    const raw = new URLSearchParams(window.location.search).get('login_promise') || '';
    const parts = raw.split(';');

    if (parts.length !== 2) {
      this.errorMessage.set('auth.errors.invalid_login_link');
      return;
    }

    const id = parts[0].trim();
    const confirmationToken = parts[1].trim();

    if (!id || !confirmationToken) {
      this.errorMessage.set('auth.errors.invalid_login_link');
      return;
    }

    const cleanUrl = `/login-promise?login_promise=${id};${confirmationToken}`;
    this.location.replaceState(cleanUrl);

    const stayLoggedIn = sessionStorage.getItem('login_stay') === '1';
    sessionStorage.removeItem('login_stay');

    this.completeLogin(id, confirmationToken, stayLoggedIn);
  }

  completeLogin(id: string, confirmationToken: string, stayLoggedIn: boolean): void {
    this.isVerifying.set(true);
    this.errorMessage.set('');

    this.authService.loginPromise(id, confirmationToken, stayLoggedIn).subscribe({
      next: () => {
        this.isVerifying.set(false);
        this.isSuccess.set(true);
        // Navigation is handled by loginPromise â†’ handleLoginSuccess â†’ router.navigate(['/home'])
      },
      error: (error) => {
        this.isVerifying.set(false);
        this.errorMessage.set(error.message || 'auth.errors.login_failed');
      },
    });
  }

  backToLogin(): void {
    this.router.navigate(['/login']);
  }
}



================================================================================
FILE: src\app\pages\not-found\not-found.css
================================================================================




================================================================================
FILE: src\app\pages\not-found\not-found.html
================================================================================

<p>not-found works!</p>



================================================================================
FILE: src\app\pages\not-found\not-found.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { NotFound } from './not-found';

describe('NotFound', () => {
  let component: NotFound;
  let fixture: ComponentFixture<NotFound>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [NotFound]
    })
    .compileComponents();

    fixture = TestBed.createComponent(NotFound);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\not-found\not-found.ts
================================================================================

import { Component } from '@angular/core';

@Component({
  selector: 'app-not-found',
  standalone: true,
  imports: [],
  templateUrl: './not-found.html',
  styleUrl: './not-found.css',
})
export class NotFound {}



================================================================================
FILE: src\app\pages\password-reset\password-reset.css
================================================================================

@import '../login-promise/login-promise.css';



================================================================================
FILE: src\app\pages\password-reset\password-reset.html
================================================================================

<div class="auth-container">
  <div class="auth-card">
    @if (isProcessing()) {
      <div class="verification-content">
        <div class="spinner-large"></div>
        <h1>{{ 'auth.password_change.processing' | translate }}</h1>
        <p class="verification-text">{{ 'auth.password_change.please_wait' | translate }}</p>
      </div>
    }

    @if (!isProcessing() && isSuccess()) {
      <div class="verification-content">
        <div class="icon-wrapper success">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
          </svg>
        </div>
        <h1>{{ 'auth.password_change.success' | translate }}</h1>
        <p class="verification-text">{{ 'auth.password_change.success_message' | translate }}</p>
        <div class="redirect-info">
          <p>{{ 'auth.password_change.redirecting' | translate }}</p>
        </div>
      </div>
    }

    @if (!isProcessing() && errorMessage()) {
      <div class="verification-content">
        <div class="icon-wrapper error">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </div>
        <h1>{{ 'auth.password_change.error_title' | translate }}</h1>
        <p class="verification-text error-text">{{ errorMessage() | translate }}</p>
        <button class="submit-btn" (click)="backToLogin()">
          {{ 'auth.password_change.back_to_login' | translate }}
        </button>
      </div>
    }
  </div>
</div>



================================================================================
FILE: src\app\pages\password-reset\password-reset.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { PasswordReset } from './password-reset';

describe('PasswordReset', () => {
  let component: PasswordReset;
  let fixture: ComponentFixture<PasswordReset>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [PasswordReset]
    })
    .compileComponents();

    fixture = TestBed.createComponent(PasswordReset);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\password-reset\password-reset.ts
================================================================================

import { Component, OnInit, signal, inject } from '@angular/core';
import { CommonModule, Location } from '@angular/common';
import { Router, RouterModule } from '@angular/router';
import { TranslateModule } from '@ngx-translate/core';
import { AuthService } from '../../core/services/auth.service';
/*
 * Backend response note (bug in backend service):
 *   On success the service returns (200, "success") instead of the JSON body,
 *   so no JWT token is returned â†’ the user must log in again after the reset.
 */
@Component({
  selector: 'app-password-reset',
  standalone: true,
  imports: [CommonModule, RouterModule, TranslateModule],
  templateUrl: './password-reset.html',
  styleUrl: './password-reset.css',
})
export class PasswordReset implements OnInit {
  private location = inject(Location);
  private authService = inject(AuthService);

  isProcessing = signal(false);
  isSuccess = signal(false);
  errorMessage = signal('');

  constructor(private router: Router) {}

  ngOnInit(): void {
    // Read the ?chpass=B64(id);B64(token) param from the URL
    const raw = new URLSearchParams(window.location.search).get('chpass') || '';
    const parts = raw.split(';');

    if (parts.length !== 2) {
      this.errorMessage.set('auth.errors.invalid_reset_link');
      return;
    }

    const encodedId = parts[0].trim();
    const encodedToken = parts[1].trim();

    if (!encodedId || !encodedToken) {
      this.errorMessage.set('auth.errors.invalid_reset_link');
      return;
    }

    const cleanUrl = `/password-reset?chpass=${encodedId};${encodedToken}`;
    this.location.replaceState(cleanUrl);

    this.completePasswordReset(encodedId, encodedToken);
  }

  /** Calls chpass_promise endpoint with the B64 values from the email link */
  completePasswordReset(encodedId: string, encodedToken: string): void {
    this.isProcessing.set(true);
    this.errorMessage.set('');

    this.authService.completePasswordChange(encodedId, encodedToken).subscribe({
      next: () => {
        this.isProcessing.set(false);
        this.isSuccess.set(true);
        // Backend does not return a new JWT token (known backend bug),
        // so we log the user out and redirect to login after success.
        this.authService.logout();
        setTimeout(() => {
          this.router.navigate(['/login']);
        }, 2500);
      },
      error: (error) => {
        this.isProcessing.set(false);
        this.errorMessage.set(error.message || 'auth.errors.password_reset_failed');
      },
    });
  }

  backToLogin(): void {
    this.router.navigate(['/login']);
  }
}



================================================================================
FILE: src\app\pages\password-reset-request\password-reset-request.css
================================================================================

@import '../login/login.css';
@import '../email/email.css';



================================================================================
FILE: src\app\pages\password-reset-request\password-reset-request.html
================================================================================

<div class="auth-container">
  <div class="auth-card">
    @if (!isEmailSent()) {
      <div class="auth-header">
        <h1>{{ 'auth.password_reset.title' | translate }}</h1>
        <p class="auth-subtitle">{{ 'auth.password_reset.subtitle' | translate }}</p>
      </div>

      <form class="auth-form" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="email" class="form-label">
            {{ 'auth.fields.email' | translate }}
          </label>
          <input
            type="email"
            id="email"
            class="form-input"
            [placeholder]="'auth.placeholders.email' | translate"
            [(ngModel)]="email"
            name="email"
            [disabled]="isLoading()"
            required
            autocomplete="email"
            autofocus
          />
        </div>

        <div class="form-group">
          <label for="newPassword" class="form-label">
            {{ 'auth.password_reset.new_password' | translate }}
          </label>
          <div class="password-input-wrapper">
            <input
              [type]="showPassword() ? 'text' : 'password'"
              id="newPassword"
              class="form-input"
              [placeholder]="'auth.placeholders.new_password' | translate"
              [(ngModel)]="newPassword"
              name="newPassword"
              [disabled]="isLoading()"
              required
              autocomplete="new-password"
            />
            <button
              type="button"
              class="password-toggle"
              (click)="togglePasswordVisibility()"
              [attr.aria-label]="'auth.show_password' | translate"
            >
              {{ showPassword() ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
            </button>
          </div>
        </div>

        <div class="form-group">
          <label for="confirmPassword" class="form-label">
            {{ 'auth.password_reset.confirm_password' | translate }}
          </label>
          <input
            [type]="showPassword() ? 'text' : 'password'"
            id="confirmPassword"
            class="form-input"
            [placeholder]="'auth.placeholders.confirm_password' | translate"
            [(ngModel)]="confirmPassword"
            name="confirmPassword"
            [disabled]="isLoading()"
            required
            autocomplete="new-password"
          />
        </div>

        @if (errorMessage()) {
          <div class="error-message">
            {{ errorMessage() | translate }}
          </div>
        }

        <button type="submit" class="submit-btn" [disabled]="isLoading()">
          @if (isLoading()) {
            <span class="spinner"></span>
            {{ 'auth.password_reset.sending' | translate }}
          } @else {
            {{ 'auth.password_reset.button' | translate }}
          }
        </button>

        <div class="auth-divider">
          <span>{{ 'auth.or' | translate }}</span>
        </div>

        <div class="auth-footer">
          <a routerLink="/login" class="link-primary">
            {{ 'auth.password_reset.back_to_login' | translate }}
          </a>
        </div>
      </form>
    }

    @if (isEmailSent()) {
      <div class="verification-content">
        <div class="icon-wrapper">
          <svg class="mail-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
            />
          </svg>
        </div>

        <h1>{{ 'auth.password_reset.email_sent' | translate }}</h1>
        <p class="verification-text">{{ 'auth.password_reset.email_sent_message' | translate }}</p>

        <div class="verification-steps">
          <div class="step">
            <span class="step-number">1</span>
            <p>{{ 'auth.password_reset.step_1' | translate }}</p>
          </div>
          <div class="step">
            <span class="step-number">2</span>
            <p>{{ 'auth.password_reset.step_2' | translate }}</p>
          </div>
          <div class="step">
            <span class="step-number">3</span>
            <p>{{ 'auth.password_reset.step_3' | translate }}</p>
          </div>
        </div>

        <button class="submit-btn" (click)="backToLogin()">
          {{ 'auth.password_reset.back_to_login' | translate }}
        </button>
      </div>
    }
  </div>
</div>



================================================================================
FILE: src\app\pages\password-reset-request\password-reset-request.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { PasswordResetRequest } from './password-reset-request';

describe('PasswordResetRequest', () => {
  let component: PasswordResetRequest;
  let fixture: ComponentFixture<PasswordResetRequest>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [PasswordResetRequest]
    })
    .compileComponents();

    fixture = TestBed.createComponent(PasswordResetRequest);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\password-reset-request\password-reset-request.ts
================================================================================

import { Component, signal } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { Router, RouterModule } from '@angular/router';
import { TranslateModule } from '@ngx-translate/core';
import { AuthService } from '../../core/services/auth.service';

@Component({
  selector: 'app-password-reset-request',
  standalone: true,
  imports: [CommonModule, FormsModule, RouterModule, TranslateModule],
  templateUrl: './password-reset-request.html',
  styleUrl: './password-reset-request.css',
})
export class PasswordResetRequest {
  email = signal('');
  newPassword = signal('');
  confirmPassword = signal('');
  showPassword = signal(false);
  isLoading = signal(false);
  errorMessage = signal('');
  isEmailSent = signal(false);

  constructor(
    private authService: AuthService,
    private router: Router,
  ) {}

  togglePasswordVisibility(): void {
    this.showPassword.set(!this.showPassword());
  }

  onSubmit(): void {
    this.errorMessage.set('');

    if (!this.email()) {
      this.errorMessage.set('auth.errors.email_required');
      return;
    }

    if (!this.isValidEmail(this.email())) {
      this.errorMessage.set('auth.errors.invalid_email');
      return;
    }

    if (!this.newPassword()) {
      this.errorMessage.set('auth.errors.empty_fields');
      return;
    }

    if (this.newPassword().length < 8) {
      this.errorMessage.set('auth.errors.password_too_short');
      return;
    }

    if (this.newPassword() !== this.confirmPassword()) {
      this.errorMessage.set('auth.errors.passwords_dont_match');
      return;
    }

    this.isLoading.set(true);

    this.authService.requestPasswordChange(this.email(), this.newPassword()).subscribe({
      next: () => {
        this.isLoading.set(false);
        this.isEmailSent.set(true);
      },
      error: (error) => {
        this.isLoading.set(false);
        this.errorMessage.set(error.message || 'auth.errors.request_failed');
      },
    });
  }

  backToLogin(): void {
    this.router.navigate(['/login']);
  }

  private isValidEmail(email: string): boolean {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  }
}



================================================================================
FILE: src\app\pages\product-detail\product-detail.css
================================================================================

.product-detail-page {
  min-height: 100vh;
  background: var(--color-background);
}

.loading-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-4);
  padding: var(--space-16) var(--space-6);
  min-height: 60vh;
}

.spinner {
  width: 52px;
  height: 52px;
  border: 3px solid var(--color-border);
  border-top-color: var(--color-primary);
  border-radius: 50%;
  animation: spin 0.75s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.loading-text {
  color: var(--color-text-secondary);
  font-size: var(--text-base);
}

.not-found-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-4);
  padding: var(--space-16) var(--space-6);
  min-height: 60vh;
  text-align: center;
}

.not-found-icon {
  font-size: 5rem;
  opacity: 0.4;
}

.not-found-title {
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  color: var(--color-text-primary);
  margin: 0;
}

.not-found-desc {
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  margin: 0;
  max-width: 400px;
}

.back-btn {
  padding: var(--space-3) var(--space-8);
  background: var(--gradient-primary);
  color: var(--color-text-on-primary);
  border: none;
  border-radius: var(--radius-full);
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  cursor: pointer;
  transition: all var(--transition-fast);
  font-family: var(--font-primary);
  min-height: 48px;
  box-shadow: var(--shadow-primary);
}

@media (hover: hover) and (pointer: fine) {
  .back-btn:hover {
    background: var(--gradient-primary-hover);
    box-shadow: var(--shadow-primary-lg);
    transform: translateY(-2px);
  }
}

.detail-container {
  max-width: 1240px;
  margin: 0 auto;
  padding: var(--space-8) var(--space-6);
}

.breadcrumb {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin-bottom: var(--space-8);
  font-size: var(--text-sm);
}

.breadcrumb-link {
  color: var(--color-text-secondary);
  text-decoration: none;
  transition: color var(--transition-fast);
  font-weight: var(--font-medium);
}

@media (hover: hover) and (pointer: fine) {
  .breadcrumb-link:hover {
    color: var(--color-primary);
  }
}

.breadcrumb-sep {
  color: var(--color-text-tertiary);
}

.breadcrumb-current {
  color: var(--color-text-primary);
  font-weight: var(--font-semibold);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 220px;
}

.detail-layout {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-8);
}

@media (min-width: 768px) {
  .detail-layout {
    grid-template-columns: 1fr 1fr;
    align-items: start;
  }
}

@media (min-width: 1024px) {
  .detail-layout {
    grid-template-columns: 5fr 6fr;
    gap: var(--space-16);
  }
}

.image-section {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  position: sticky;
  top: var(--space-6);
}

@media (max-width: 767px) {
  .image-section {
    position: static;
  }
}

.main-image-wrapper {
  position: relative;
  width: 100%;
  aspect-ratio: 1;
  background: var(--gradient-image-bg);
  border-radius: var(--radius-2xl);
  overflow: hidden;
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow-xl);
}

.main-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
  padding: 12px;
  filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.15));
  transition: transform var(--transition-slow);
}

.image-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 48px;
  height: 48px;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(8px);
  color: white;
  border: 2px solid rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  font-size: 26px;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--transition-fast);
  z-index: 5;
  font-family: var(--font-primary);
  line-height: 1;
  user-select: none;
}

.image-nav.prev {
  left: 12px;
}
.image-nav.next {
  right: 12px;
}

@media (hover: hover) and (pointer: fine) {
  .image-nav:hover:not(:disabled) {
    background: rgba(6, 122, 69, 0.8);
    border-color: rgba(255, 255, 255, 0.4);
    transform: translateY(-50%) scale(1.08);
  }
}

.image-nav:disabled,
.image-nav.disabled {
  opacity: 0.25;
  cursor: not-allowed;
}

.image-counter {
  position: absolute;
  bottom: 14px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(8px);
  color: white;
  padding: 5px 16px;
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  font-weight: var(--font-semibold);
  user-select: none;
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.rx-badge {
  position: absolute;
  top: 14px;
  left: 14px;
  background: var(--gradient-primary);
  color: white;
  width: 46px;
  height: 46px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  font-weight: var(--font-bold);
  box-shadow: var(--shadow-primary);
  z-index: 2;
}

.discount-badge {
  position: absolute;
  top: 14px;
  right: 14px;
  background: linear-gradient(135deg, #dc2626, #ef4444);
  color: white;
  padding: 4px 12px;
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  font-weight: var(--font-bold);
  box-shadow: 0 4px 12px rgba(220, 38, 38, 0.45);
  z-index: 2;
}

.thumbnail-strip {
  display: flex;
  gap: var(--space-2);
  overflow-x: auto;
  padding: var(--space-1);
  scrollbar-width: thin;
  scrollbar-color: var(--color-primary) var(--color-surface-elevated);
}

.thumbnail-strip::-webkit-scrollbar {
  height: 4px;
}

.thumbnail-strip::-webkit-scrollbar-thumb {
  background: var(--color-primary);
  border-radius: 2px;
}

.thumb {
  flex-shrink: 0;
  width: 76px;
  height: 76px;
  border: 2px solid var(--color-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
  cursor: pointer;
  background: var(--gradient-image-bg);
  padding: 4px;
  transition: all var(--transition-fast);
}

@media (hover: hover) and (pointer: fine) {
  .thumb:hover {
    border-color: var(--color-primary);
    transform: scale(1.06);
    box-shadow: var(--shadow-primary);
  }
}

.thumb.active {
  border-color: var(--color-primary);
  border-width: 3px;
  box-shadow: var(--shadow-primary);
}

.thumb img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.info-section {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

.info-header {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.category-badge {
  display: inline-block;
  width: fit-content;
  padding: 5px 14px;
  background: var(--color-primary-light);
  color: var(--color-text-on-primary);
  border: 1px solid rgba(6, 122, 69, 0.2);
  border-radius: var(--radius-full);
  font-size: 0.7rem;
  font-weight: var(--font-bold);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.product-title {
  font-size: clamp(1.5rem, 4vw, 2.2rem);
  font-weight: var(--font-extrabold);
  color: var(--color-text-primary);
  margin: 0;
  line-height: 1.2;
  letter-spacing: -0.01em;
}

.rating-row {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.rating-stars {
  color: var(--color-warning);
  font-size: var(--text-lg);
  letter-spacing: -1px;
}

.rating-value {
  font-weight: var(--font-bold);
  color: var(--color-text-primary);
}

.rating-count {
  color: var(--color-text-secondary);
  font-size: var(--text-sm);
}

.price-block {
  padding: var(--space-5) 0;
  border-top: 1px solid var(--color-border);
  border-bottom: 1px solid var(--color-border);
}

.price {
  font-size: clamp(1.75rem, 4vw, 2.5rem);
  font-weight: 800;
  color: var(--color-primary);
  line-height: 1;
}

.price-with-discount {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.original-price {
  font-size: var(--text-base);
  color: var(--color-text-tertiary);
  text-decoration: line-through;
}

.discounted-price {
  font-size: clamp(1.75rem, 4vw, 2.5rem);
  font-weight: 800;
  color: var(--color-error);
  line-height: 1;
}

.meta-grid {
  display: flex;
  flex-direction: column;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  overflow: hidden;
  box-shadow: var(--shadow-xs);
}

.meta-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-3) var(--space-5);
  font-size: var(--text-sm);
  border-bottom: 1px solid var(--color-border);
  transition: background var(--transition-fast);
}

.meta-row:last-child {
  border-bottom: none;
}

.meta-row:nth-child(even) {
  background: var(--color-surface-elevated);
}

@media (hover: hover) and (pointer: fine) {
  .meta-row:hover {
    background: var(--color-primary-light);
  }
}

.meta-label {
  color: var(--color-text-secondary);
  font-weight: var(--font-medium);
  flex-shrink: 0;
  margin-right: var(--space-4);
}

.meta-value {
  color: var(--color-text-primary);
  font-weight: var(--font-semibold);
  text-align: right;
}

.meta-value.sku {
  font-family: monospace;
  font-size: var(--text-xs);
  letter-spacing: 0.05em;
  background: var(--color-surface-elevated);
  padding: 2px 8px;
  border-radius: var(--radius-sm);
}

.meta-value.in-stock {
  color: var(--color-success);
}
.meta-value.out-of-stock {
  color: var(--color-error);
}

.cart-section {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  padding: var(--space-6);
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-2xl);
  box-shadow: var(--shadow-lg);
  position: relative;
  overflow: hidden;
}

.cart-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--gradient-primary);
}

.quantity-controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-5);
  padding: var(--space-3);
  background: var(--color-surface-elevated);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-border);
}

.quantity-controls.disabled {
  opacity: 0.5;
}

.qty-btn {
  width: 48px;
  height: 48px;
  border-radius: var(--radius-lg);
  background: var(--gradient-primary);
  color: var(--color-text-on-primary);
  border: none;
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--transition-bounce);
  font-family: var(--font-primary);
  line-height: 1;
  box-shadow: var(--shadow-primary);
}

@media (hover: hover) and (pointer: fine) {
  .qty-btn:hover:not(:disabled) {
    background: var(--gradient-primary-hover);
    box-shadow: var(--shadow-primary-lg);
    transform: scale(1.1);
  }
}

.qty-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  background: var(--color-text-tertiary);
  box-shadow: none;
}

.qty-value {
  min-width: 60px;
  text-align: center;
  font-size: var(--text-2xl);
  font-weight: var(--font-extrabold);
  color: var(--color-text-primary);
}

.total-display {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-4) var(--space-5);
  background: var(--color-primary-light);
  border-radius: var(--radius-xl);
  border: 1px solid rgba(6, 122, 69, 0.15);
}

.total-label {
  font-size: var(--text-base);
  font-weight: var(--font-medium);
  color: var(--color-text-secondary);
}

.total-value {
  font-size: var(--text-2xl);
  font-weight: 800;
  color: var(--color-primary);
}

.add-to-cart-btn {
  width: 100%;
  padding: var(--space-5) var(--space-6);
  background: var(--gradient-primary);
  color: var(--color-text-on-primary);
  border: none;
  border-radius: var(--radius-xl);
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
  cursor: pointer;
  transition: all var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-3);
  font-family: var(--font-primary);
  min-height: 56px;
  box-shadow: var(--shadow-primary);
  letter-spacing: 0.02em;
}

@media (hover: hover) and (pointer: fine) {
  .add-to-cart-btn:hover:not(:disabled) {
    background: var(--gradient-primary-hover);
    box-shadow: var(--shadow-primary-lg);
    transform: translateY(-2px);
  }
}

.add-to-cart-btn.added {
  background: linear-gradient(135deg, #15803d, #16a34a);
  box-shadow: 0 8px 24px rgba(22, 163, 74, 0.4);
}

.add-to-cart-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
  background: var(--color-text-secondary);
}

.btn-icon {
  font-size: var(--text-xl);
}

.prescription-notice {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  background: rgba(17, 185, 252, 0.1);
  border: 1px solid rgba(17, 185, 252, 0.3);
  color: var(--color-info);
  border-radius: var(--radius-lg);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
}

.description-block,
.pharma-block {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.section-heading {
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
  color: var(--color-text-primary);
  margin: 0;
  padding-bottom: var(--space-2);
  display: flex;
  align-items: center;
  gap: var(--space-2);
  letter-spacing: -0.01em;
}

.section-heading::after {
  content: '';
  flex: 1;
  height: 2px;
  background: var(--gradient-primary);
  border-radius: 2px;
  margin-left: var(--space-2);
  opacity: 0.5;
}

.description-text {
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);
  color: var(--color-text-secondary);
  margin: 0;
}

.pharma-item {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  padding: var(--space-4);
  background: var(--color-surface-elevated);
  border-radius: var(--radius-lg);
  font-size: var(--text-sm);
  border-left: 4px solid var(--color-primary);
  box-shadow: var(--shadow-xs);
  transition: all var(--transition-fast);
}

@media (hover: hover) and (pointer: fine) {
  .pharma-item:hover {
    transform: translateX(4px);
    box-shadow: var(--shadow-sm);
  }
}

.pharma-item strong {
  color: var(--color-text-primary);
  font-weight: var(--font-semibold);
}

.pharma-item span {
  color: var(--color-text-secondary);
  line-height: var(--leading-normal);
}

@media (max-width: 480px) {
  .detail-container {
    padding: var(--space-4) var(--space-3);
  }

  .breadcrumb {
    font-size: var(--text-xs);
    margin-bottom: var(--space-5);
  }

  .breadcrumb-current {
    max-width: 150px;
  }

  .thumb {
    width: 64px;
    height: 64px;
  }

  .cart-section {
    padding: var(--space-4) var(--space-4);
  }

  .qty-value {
    min-width: 48px;
    font-size: var(--text-xl);
  }

  .total-value {
    font-size: var(--text-xl);
  }

  .add-to-cart-btn {
    font-size: var(--text-base);
    min-height: 50px;
  }
}

@media (max-width: 375px) {
  .detail-container {
    padding: var(--space-3) var(--space-2);
  }

  .qty-btn {
    width: 44px;
    height: 44px;
  }

  .total-display {
    flex-direction: column;
    gap: var(--space-1);
    text-align: center;
  }
}

@media (prefers-reduced-motion: reduce) {
  .spinner {
    animation: none;
  }

  .add-to-cart-btn,
  .qty-btn,
  .thumb,
  .image-nav,
  .pharma-item {
    transition: none;
  }
}



================================================================================
FILE: src\app\pages\product-detail\product-detail.html
================================================================================

<div class="product-detail-page">
  @if (isLoading()) {
    <div class="loading-state">
      <div class="spinner"></div>
      <p class="loading-text">{{ 'common.loading' | translate }}</p>
    </div>
  }

  @if (!isLoading() && notFound()) {
    <div class="not-found-state">
      <div class="not-found-icon">ğŸ”</div>
      <h2 class="not-found-title">{{ 'product.not_found' | translate }}</h2>
      <p class="not-found-desc">{{ 'product.not_found_desc' | translate }}</p>
      <button class="back-btn" (click)="goBack()">
        â† {{ 'product.back_to_products' | translate }}
      </button>
    </div>
  }

  @if (!isLoading() && product()) {
    <div class="detail-container">
      <nav class="breadcrumb" aria-label="breadcrumb">
        <a [routerLink]="['/home']" class="breadcrumb-link">{{ 'header.home' | translate }}</a>
        <span class="breadcrumb-sep">â€º</span>
        <a [routerLink]="['/products']" class="breadcrumb-link">{{
          'header.products' | translate
        }}</a>
        <span class="breadcrumb-sep">â€º</span>
        <span class="breadcrumb-current">{{ product()!.name }}</span>
      </nav>

      <div class="detail-layout">
        <div class="image-section">
          <div class="main-image-wrapper">
            @if (images.length > 1) {
              <button
                class="image-nav prev"
                [class.disabled]="!canGoPrevious()"
                [disabled]="!canGoPrevious()"
                (click)="previousImage()"
                [attr.aria-label]="'product.previous_image' | translate"
              >
                â€¹
              </button>
            }

            <img [src]="selectedImage" [alt]="product()!.name" class="main-image" loading="eager" />

            @if (product()!.requiresPrescription) {
              <span class="rx-badge" [title]="'product.requires_prescription' | translate">â„</span>
            }

            @if (hasDiscount) {
              <span class="discount-badge">-{{ product()!.discountPercentage }}%</span>
            }

            @if (images.length > 1) {
              <button
                class="image-nav next"
                [class.disabled]="!canGoNext()"
                [disabled]="!canGoNext()"
                (click)="nextImage()"
                [attr.aria-label]="'product.next_image' | translate"
              >
                â€º
              </button>

              <div class="image-counter">{{ selectedImageIndex() + 1 }} / {{ images.length }}</div>
            }
          </div>

          @if (images.length > 0) {
            <div class="thumbnail-strip">
              @for (img of images; track $index) {
                <button
                  class="thumb"
                  [class.active]="selectedImageIndex() === $index"
                  (click)="selectImage($index)"
                  [attr.aria-label]="('product.view_image' | translate) + ' ' + ($index + 1)"
                >
                  <img [src]="img" [alt]="product()!.name" loading="lazy" />
                </button>
              }
            </div>
          }
        </div>

        <div class="info-section">
          <div class="info-header">
            <span class="category-badge">
              <span>{{ categoryName }}</span>
            </span>

            <h1 class="product-title">{{ product()!.name }}</h1>

            @if (product()!.rating) {
              <div class="rating-row">
                <span class="rating-stars">{{ getRatingStars() }}</span>
                <span class="rating-value">{{ product()!.rating }}</span>
                <span class="rating-count"
                  >({{ product()!.reviewCount }} {{ 'product.reviews' | translate }})</span
                >
              </div>
            }
          </div>

          <div class="price-block">
            @if (hasDiscount) {
              <div class="price-with-discount">
                <span class="original-price">{{ formattedPrice }}</span>
                <span class="discounted-price">{{ formattedDiscountedPrice }}</span>
              </div>
            } @else {
              <span class="price">{{ formattedPrice }}</span>
            }
          </div>

          <div class="meta-grid">
            @if (product()!.manufacturer) {
              <div class="meta-row">
                <span class="meta-label">{{ 'product.manufacturer' | translate }}</span>
                <span class="meta-value">{{ product()!.manufacturer }}</span>
              </div>
            }
            @if (product()!.brand) {
              <div class="meta-row">
                <span class="meta-label">{{ 'product.brand' | translate }}</span>
                <span class="meta-value">{{ product()!.brand }}</span>
              </div>
            }
            @if (product()!.sku) {
              <div class="meta-row">
                <span class="meta-label">{{ 'product.sku' | translate }}</span>
                <span class="meta-value sku">{{ product()!.sku }}</span>
              </div>
            }
            <div class="meta-row">
              <span class="meta-label">{{ 'product.availability' | translate }}</span>
              <span
                class="meta-value availability"
                [class.in-stock]="product()!.inStock"
                [class.out-of-stock]="!product()!.inStock"
              >
                {{
                  product()!.inStock
                    ? ('product.in_stock' | translate)
                    : ('product.out_of_stock' | translate)
                }}
                @if (product()!.inStock && product()!.stockQuantity) {
                  ({{ product()!.stockQuantity }} {{ 'product.pieces' | translate }})
                }
              </span>
            </div>
          </div>

          <div class="cart-section">
            <div class="quantity-controls" [class.disabled]="!product()!.inStock">
              <button
                class="qty-btn"
                (click)="decreaseQuantity()"
                [disabled]="quantity() <= 1 || !product()!.inStock"
                [attr.aria-label]="'product.decrease_quantity' | translate"
              >
                âˆ’
              </button>
              <span class="qty-value">{{ quantity() }}</span>
              <button
                class="qty-btn"
                (click)="increaseQuantity()"
                [disabled]="quantity() >= product()!.stockQuantity || !product()!.inStock"
                [attr.aria-label]="'product.increase_quantity' | translate"
              >
                +
              </button>
            </div>

            <div class="total-display">
              <span class="total-label">{{ 'product.total' | translate }}:</span>
              <span class="total-value">{{ formattedTotalPrice }}</span>
            </div>

            <button
              class="add-to-cart-btn"
              [class.added]="addedToCart()"
              [disabled]="!canAddToCart"
              (click)="handleAddToCart()"
            >
              @if (addedToCart()) {
                <span class="btn-icon">âœ“</span>
                {{ 'common.added_to_cart' | translate }}
              } @else {
                <span class="btn-icon">ğŸ›’</span>
                {{ 'common.add_to_cart' | translate }}
              }
            </button>

            @if (product()!.requiresPrescription) {
              <div class="prescription-notice">
                <span>â„¹ï¸</span>
                <span>{{ 'product.prescription_required_notice' | translate }}</span>
              </div>
            }
          </div>

          <div class="description-block">
            <h2 class="section-heading">{{ 'product.description' | translate }}</h2>
            <p class="description-text">{{ product()!.description }}</p>
          </div>

          @if (product()!.activeIngredients || product()!.dosage || product()!.packaging) {
            <div class="pharma-block">
              <h2 class="section-heading">{{ 'product.pharmaceutical_details' | translate }}</h2>

              @if (product()!.activeIngredients) {
                <div class="pharma-item">
                  <strong>{{ 'product.active_ingredients' | translate }}:</strong>
                  <span>{{ product()!.activeIngredients }}</span>
                </div>
              }
              @if (product()!.dosage) {
                <div class="pharma-item">
                  <strong>{{ 'product.dosage' | translate }}:</strong>
                  <span>{{ product()!.dosage }}</span>
                </div>
              }
              @if (product()!.packaging) {
                <div class="pharma-item">
                  <strong>{{ 'product.packaging' | translate }}:</strong>
                  <span>{{ product()!.packaging }}</span>
                </div>
              }
            </div>
          }
        </div>
      </div>
    </div>
  }
</div>



================================================================================
FILE: src\app\pages\product-detail\product-detail.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { ProductDetail } from './product-detail';

describe('ProductDetail', () => {
  let component: ProductDetail;
  let fixture: ComponentFixture<ProductDetail>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [ProductDetail]
    })
    .compileComponents();

    fixture = TestBed.createComponent(ProductDetail);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\product-detail\product-detail.ts
================================================================================

import { Component, inject, signal, computed, OnInit, OnDestroy } from '@angular/core';
import { ActivatedRoute, Router, RouterLink } from '@angular/router';
import { CommonModule } from '@angular/common';
import { TranslateModule, TranslateService } from '@ngx-translate/core';
import { ProductWithHelpers } from '../../core/models/product.model';
import { ProductService } from '../../services/product.service';
import { CartService } from '../../core/services/cart.service';
import { CurrencyService } from '../../core/services/currency.service';

@Component({
  selector: 'app-product-detail',
  standalone: true,
  imports: [CommonModule, TranslateModule, RouterLink],
  templateUrl: './product-detail.html',
  styleUrl: './product-detail.css',
})
export class ProductDetail implements OnInit, OnDestroy {
  private route = inject(ActivatedRoute);
  private router = inject(Router);
  private productService = inject(ProductService);
  private cartService = inject(CartService);
  private currencyService = inject(CurrencyService);
  private translateService = inject(TranslateService);

  product = signal<ProductWithHelpers | null>(null);
  isLoading = signal(true);
  notFound = signal(false);
  quantity = signal(1);
  selectedImageIndex = signal(0);
  addedToCart = signal(false);

  canGoPrevious = computed(() => this.selectedImageIndex() > 0);
  canGoNext = computed(
    () => this.product() !== null && this.selectedImageIndex() < this.product()!.images.length - 1,
  );

  get images(): string[] {
    return this.product()?.images ?? [];
  }

  get selectedImage(): string {
    return this.images[this.selectedImageIndex()] ?? '';
  }

  get hasDiscount(): boolean {
    return this.product()?.hasDiscount ?? false;
  }

  get formattedPrice(): string {
    const p = this.product();
    if (!p) return '';
    // getBasePrice converts
    return this.currencyService.formatPrice(this.currencyService.getBasePrice(p));
  }

  get formattedDiscountedPrice(): string {
    const p = this.product();
    if (!p) return '';
    // getDiscountedPrice = converted price + sale
    return this.currencyService.formatPrice(this.currencyService.getDiscountedPrice(p));
  }

  get formattedTotalPrice(): string {
    const p = this.product();
    if (!p) return '';
    const unitPrice = this.currencyService.getDiscountedPrice(p);
    return this.currencyService.formatPrice(unitPrice * this.quantity());
  }

  get canAddToCart(): boolean {
    const p = this.product();
    return !!(p?.inStock && !p?.requiresPrescription && this.quantity() <= p.stockQuantity);
  }

  get categoryName(): string {
    const cat = this.productService.getCategoryById(this.product()?.category ?? '');
    const lang = this.translateService.currentLang || 'hu';
    if (!cat) return '';
    return lang === 'hu' ? cat.name_hu : lang === 'de' ? cat.name_de : cat.name_en;
  }

  async ngOnInit(): Promise<void> {
    const id = this.route.snapshot.paramMap.get('id');
    if (!id) {
      this.router.navigate(['/products']);
      return;
    }

    await Promise.all([this.productService.loadProducts(), this.productService.loadCategories()]);

    const all = this.productService.products();
    const found = all.find((p) => p.id === id);

    if (found) {
      this.product.set(found);
    } else {
      this.notFound.set(true);
    }

    this.isLoading.set(false);
  }

  ngOnDestroy(): void {
    document.body.style.overflow = '';
  }

  selectImage(index: number): void {
    this.selectedImageIndex.set(index);
  }

  nextImage(): void {
    if (this.canGoNext()) {
      this.selectedImageIndex.update((i) => i + 1);
    }
  }

  previousImage(): void {
    if (this.canGoPrevious()) {
      this.selectedImageIndex.update((i) => i - 1);
    }
  }

  increaseQuantity(): void {
    const p = this.product();
    if (p && this.quantity() < p.stockQuantity) {
      this.quantity.update((q) => q + 1);
    }
  }

  decreaseQuantity(): void {
    if (this.quantity() > 1) {
      this.quantity.update((q) => q - 1);
    }
  }

  handleAddToCart(): void {
    const p = this.product();
    if (this.canAddToCart && p) {
      this.cartService.addToCart(p, this.quantity());
      this.addedToCart.set(true);
      setTimeout(() => this.addedToCart.set(false), 2500);
    }
  }

  getRatingStars(): string {
    const p = this.product();
    if (!p?.ratingNumber) return '';
    const full = Math.floor(p.ratingNumber);
    const half = p.ratingNumber % 1 >= 0.5;
    const empty = 5 - full - (half ? 1 : 0);
    return 'â˜…'.repeat(full) + (half ? 'â¯¨' : '') + 'â˜†'.repeat(empty);
  }

  goBack(): void {
    this.router.navigate(['/products']);
  }
}



================================================================================
FILE: src\app\pages\products\products.css
================================================================================

.products-page {
  min-height: 100vh;
  background: var(--color-background);
}



================================================================================
FILE: src\app\pages\products\products.html
================================================================================

<app-product-list></app-product-list>



================================================================================
FILE: src\app\pages\products\products.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Products } from './products';

describe('Products', () => {
  let component: Products;
  let fixture: ComponentFixture<Products>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Products]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Products);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\products\products.ts
================================================================================

import { Component } from '@angular/core';
import { ProductList } from '../../shared/components/product-list/product-list';

@Component({
  selector: 'app-products',
  standalone: true,
  imports: [ProductList],
  templateUrl: './products.html',
  styleUrl: './products.css',
})
export class Products {}



================================================================================
FILE: src\app\pages\profile\profile.css
================================================================================

.profile-page {
  min-height: calc(100vh - 140px);
  background: var(--bg-secondary);
}

.auth-gate {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-5);
  min-height: 60vh;
  padding: var(--space-8);
  text-align: center;
}

.auth-gate__icon {
  width: 80px;
  height: 80px;
  background: var(--bg-primary);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: var(--shadow-lg);
}

.auth-gate__icon svg {
  width: 40px;
  height: 40px;
  color: var(--text-secondary);
}

.auth-gate h2 {
  font-size: var(--text-xl);
  color: var(--text-primary);
  margin: 0;
}

.profile-layout {
  display: grid;
  grid-template-columns: 280px 1fr;
  grid-template-rows: auto 1fr;
  min-height: calc(100vh - 140px);
  max-width: 1200px;
  margin: 0 auto;
  gap: 0;
}

.mobile-bar {
  display: none;
  grid-column: 1 / -1;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  background: var(--bg-primary);
  border-bottom: 1px solid var(--border-color);
  position: sticky;
  top: 0;
  z-index: 30;
}

.mobile-menu-btn {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-md);
  color: var(--text-primary);
  font-size: 0.875rem;
  font-weight: 600;
  cursor: pointer;
  transition: background var(--transition-fast);
  white-space: nowrap;
}

.mobile-menu-btn svg {
  width: 18px;
  height: 18px;
  flex-shrink: 0;
}

.mobile-menu-btn:hover {
  background: var(--bg-tertiary);
}

.mobile-section-label {
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.sidebar {
  grid-row: 1 / -1;
  background: var(--bg-primary);
  border-right: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
}

.sidebar-overlay {
  display: none;
}

.sidebar-profile {
  padding: var(--space-6) var(--space-5) var(--space-5);
  border-bottom: 1px solid var(--border-color);
  display: flex;
  align-items: center;
  gap: var(--space-3);
  background: linear-gradient(135deg, #067a45 0%, #048a4f 100%);
}

.sidebar-avatar {
  position: relative;
  flex-shrink: 0;
}

.avatar-initials {
  width: 52px;
  height: 52px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.25);
  border: 2px solid rgba(255, 255, 255, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.1rem;
  font-weight: 700;
  color: white;
  letter-spacing: 0.5px;
  display: flex;
}

.sidebar-avatar {
  width: 52px;
  height: 52px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.25);
  border: 2px solid rgba(255, 255, 255, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.1rem;
  font-weight: 700;
  color: white;
  letter-spacing: 0.5px;
  flex-shrink: 0;
}

.avatar-status {
  position: absolute;
  bottom: 2px;
  right: 2px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #22c55e;
  border: 2px solid var(--bg-primary);
}

.avatar-status--admin {
  background: #f59e0b;
}

.sidebar-user-info {
  min-width: 0;
  flex: 1;
}

.sidebar-name {
  font-size: 0.9rem;
  font-weight: 700;
  color: white;
  margin: 0 0 2px 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.sidebar-email {
  font-size: 0.75rem;
  color: rgba(255, 255, 255, 0.8);
  margin: 0 0 var(--space-1) 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.badge {
  display: inline-flex;
  align-items: center;
  padding: 2px var(--space-2);
  border-radius: var(--radius-full, 9999px);
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.4px;
}

.badge--admin {
  background: rgba(245, 158, 11, 0.2);
  color: #f59e0b;
  border: 1px solid rgba(245, 158, 11, 0.4);
}

.badge--verified {
  background: rgba(34, 197, 94, 0.15);
  color: var(--text-secondary);
  border: 1px solid rgba(34, 197, 94, 0.3);
}

.badge--unverified {
  background: rgba(156, 163, 175, 0.15);
  color: var(--text-secondary);
  border: 1px solid var(--border-color);
}

.sidebar-nav {
  flex: 1;
  padding: var(--space-3) var(--space-3);
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.nav-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-3);
  border-radius: var(--radius-lg);
  border: none;
  background: transparent;
  color: var(--text-secondary);
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-fast);
  text-align: left;
  width: 100%;
  text-decoration: none;
}

.nav-item:hover {
  background: var(--bg-secondary);
  color: var(--text-primary);
}

.nav-item--active {
  background: rgba(6, 122, 69, 0.1);
  color: #067a45;
  font-weight: 600;
}

.nav-item--active .nav-icon {
  color: #067a45;
}

.nav-item--danger {
  color: var(--text-secondary);
}

.nav-item--danger:hover {
  background: rgba(220, 38, 38, 0.08);
  color: #dc2626;
}

.nav-item--danger.nav-item--active {
  background: rgba(220, 38, 38, 0.1);
  color: #dc2626;
}

.nav-icon {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
  color: inherit;
}

.nav-icon svg {
  width: 20px;
  height: 20px;
}

.nav-label {
  flex: 1;
}

.nav-divider {
  height: 1px;
  background: var(--border-color);
  margin: var(--space-2) 0;
}

.sidebar-logout {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-4) var(--space-5);
  margin: var(--space-3);
  border-radius: var(--radius-lg);
  border: 2px solid var(--border-color);
  background: transparent;
  color: var(--text-secondary);
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.sidebar-logout svg {
  width: 18px;
  height: 18px;
  flex-shrink: 0;
}

.sidebar-logout:hover {
  background: rgba(220, 38, 38, 0.06);
  border-color: #dc2626;
  color: #dc2626;
}

.profile-main {
  padding: var(--space-8);
  overflow-y: auto;
  min-width: 0;
}

.content-section {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
  animation: fadeSlideIn 0.25s ease-out;
}

@keyframes fadeSlideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.section-header {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.section-header__icon {
  width: 52px;
  height: 52px;
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.section-header__icon svg {
  width: 26px;
  height: 26px;
}

.section-header__icon--green {
  background: rgba(6, 122, 69, 0.12);
  color: #067a45;
}

.section-header__icon--blue {
  background: rgba(37, 99, 235, 0.1);
  color: #2563eb;
}

.section-header__icon--orange {
  background: rgba(234, 88, 12, 0.1);
  color: #ea580c;
}

.section-header__icon--red {
  background: rgba(220, 38, 38, 0.1);
  color: #dc2626;
}

.section-title {
  font-size: var(--text-xl);
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 4px 0;
  line-height: 1.2;
}

.section-title--danger {
  color: #dc2626;
}

.section-subtitle {
  font-size: 0.875rem;
  color: var(--text-secondary);
  margin: 0;
}

.content-card {
  background: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-xl);
  padding: var(--space-6);
  box-shadow: var(--shadow-sm);
}

.content-card--muted {
  background: var(--bg-secondary);
  border-style: dashed;
}

.content-card--danger {
  border-color: rgba(220, 38, 38, 0.25);
  background: var(--bg-primary);
}

.card-title {
  font-size: 1rem;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 var(--space-4) 0;
}

.card-title--danger {
  color: #dc2626;
}

.card-title-row {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
  flex-wrap: wrap;
}

.card-title-row .card-title {
  margin: 0;
}

.card-badge {
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.4px;
  padding: 3px var(--space-2);
  border-radius: var(--radius-full);
}

.card-badge--info {
  background: rgba(37, 99, 235, 0.1);
  color: #2563eb;
}

.card-badge--neutral {
  background: var(--bg-secondary);
  color: var(--text-secondary);
  border: 1px solid var(--border-color);
}

.card-description {
  font-size: 0.875rem;
  color: var(--text-secondary);
  margin: 0 0 var(--space-5) 0;
  line-height: 1.6;
}

.card-actions {
  margin-top: var(--space-5);
  display: flex;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.overview-hero {
  background: linear-gradient(135deg, #067a45 0%, #04a35e 50%, #067a45 100%);
  border-radius: var(--radius-xl);
  padding: var(--space-8) var(--space-8);
  display: flex;
  align-items: center;
  gap: var(--space-6);
  position: relative;
  overflow: hidden;
  box-shadow: 0 8px 32px rgba(6, 122, 69, 0.3);
}

.overview-hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M50 50c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10c0 5.523-4.477 10-10 10s-10-4.477-10-10 4.477-10 10-10zM10 10c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10c0 5.523-4.477 10-10 10S0 25.523 0 20s4.477-10 10-10z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  pointer-events: none;
}

.overview-avatar {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  border: 3px solid rgba(255, 255, 255, 0.45);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.8rem;
  font-weight: 700;
  color: white;
  letter-spacing: 1px;
  flex-shrink: 0;
  position: relative;
  z-index: 1;
  backdrop-filter: blur(4px);
}

.overview-info {
  position: relative;
  z-index: 1;
}

.overview-name {
  font-size: clamp(1.4rem, 3vw, 1.9rem);
  font-weight: 700;
  color: white;
  margin: 0 0 4px 0;
  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
}

.overview-email {
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.85);
  margin: 0 0 var(--space-2) 0;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-4);
}

.stat-card {
  background: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-xl);
  padding: var(--space-5);
  display: flex;
  align-items: center;
  gap: var(--space-4);
  box-shadow: var(--shadow-sm);
  transition:
    box-shadow var(--transition-fast),
    transform var(--transition-fast);
}

.stat-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.stat-card__icon {
  width: 48px;
  height: 48px;
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.stat-card__icon svg {
  width: 24px;
  height: 24px;
}

.stat-card--green .stat-card__icon {
  background: rgba(6, 122, 69, 0.1);
  color: #067a45;
}

.stat-card--blue .stat-card__icon {
  background: rgba(37, 99, 235, 0.1);
  color: #2563eb;
}

.stat-card--purple .stat-card__icon {
  background: rgba(124, 58, 237, 0.1);
  color: #7c3aed;
}

.stat-card__content {
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.stat-number {
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--text-primary);
  line-height: 1;
}

.stat-label {
  font-size: 0.75rem;
  color: var(--text-secondary);
  font-weight: 500;
  margin-top: 4px;
  text-transform: uppercase;
  letter-spacing: 0.4px;
}

.quick-actions {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.quick-action-btn {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-4) var(--space-4);
  border-radius: var(--radius-lg);
  border: none;
  background: transparent;
  cursor: pointer;
  text-align: left;
  text-decoration: none;
  transition: background var(--transition-fast);
  width: 100%;
  color: var(--text-primary);
}

.quick-action-btn:hover {
  background: var(--bg-secondary);
}

.qa-icon {
  width: 44px;
  height: 44px;
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.qa-icon svg {
  width: 22px;
  height: 22px;
}

.qa-icon--green {
  background: rgba(6, 122, 69, 0.1);
  color: #067a45;
}
.qa-icon--blue {
  background: rgba(37, 99, 235, 0.1);
  color: #2563eb;
}
.qa-icon--orange {
  background: rgba(234, 88, 12, 0.1);
  color: #ea580c;
}

.qa-text {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}

.qa-text strong {
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--text-primary);
}

.qa-text small {
  font-size: 0.8rem;
  color: var(--text-secondary);
}

.qa-arrow {
  width: 18px;
  height: 18px;
  color: var(--text-secondary);
  flex-shrink: 0;
}

.info-grid {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.info-row {
  display: grid;
  grid-template-columns: 160px 1fr;
  align-items: center;
  padding: var(--space-3) 0;
  border-bottom: 1px solid var(--border-color);
  gap: var(--space-4);
  flex-wrap: wrap;
}

.info-row:last-child {
  border-bottom: none;
}

.info-label {
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.4px;
}

.info-value {
  font-size: 0.95rem;
  color: var(--text-primary);
  font-weight: 500;
  word-break: break-word;
}

.info-note {
  grid-column: 2;
  font-size: 0.75rem;
  color: var(--text-secondary);
  font-style: italic;
}

.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-4);
}

.form-stack {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.form-field {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.form-label {
  font-size: 0.825rem;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.4px;
}

.form-input {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  border: 2px solid var(--border-color);
  border-radius: var(--radius-lg);
  background: var(--bg-primary);
  color: var(--text-primary);
  font-size: 1rem;
  transition:
    border-color var(--transition-fast),
    box-shadow var(--transition-fast);
  box-sizing: border-box;
  min-height: 48px;
  font-family: inherit;
}

.form-input:focus {
  outline: none;
  border-color: #067a45;
  box-shadow: 0 0 0 3px rgba(6, 122, 69, 0.12);
}

.form-input:disabled {
  opacity: 0.55;
  cursor: not-allowed;
  background: var(--bg-secondary);
}

.form-input--danger:focus {
  border-color: #dc2626;
  box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
}

.form-hint {
  font-size: 0.78rem;
  color: var(--text-secondary);
  line-height: 1.4;
}

.input-with-toggle {
  position: relative;
}

.input-with-toggle .form-input {
  padding-right: 3rem;
}

.toggle-visibility {
  position: absolute;
  right: var(--space-3);
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  cursor: pointer;
  color: var(--text-secondary);
  padding: var(--space-1);
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: color var(--transition-fast);
}

.toggle-visibility svg {
  width: 18px;
  height: 18px;
}

.toggle-visibility:hover {
  color: var(--text-primary);
}

.alert {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  border-radius: var(--radius-lg);
  font-size: 0.875rem;
  font-weight: 500;
  line-height: 1.5;
}

.alert svg {
  width: 18px;
  height: 18px;
  flex-shrink: 0;
  margin-top: 1px;
}

.alert--error {
  background: rgba(220, 38, 38, 0.08);
  border: 1px solid rgba(220, 38, 38, 0.2);
  color: #dc2626;
}

.alert--success {
  background: rgba(6, 122, 69, 0.08);
  border: 1px solid rgba(6, 122, 69, 0.2);
  color: #067a45;
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-5);
  border-radius: var(--radius-lg);
  border: none;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-fast);
  text-decoration: none;
  min-height: 44px;
  font-family: inherit;
}

.btn svg {
  width: 18px;
  height: 18px;
  flex-shrink: 0;
}

.btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none !important;
}

.btn-primary {
  background: linear-gradient(135deg, #067a45, #048a4f);
  color: white;
  box-shadow: 0 2px 8px rgba(6, 122, 69, 0.3);
}

.btn-primary:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 4px 16px rgba(6, 122, 69, 0.4);
}

.btn-secondary {
  background: var(--bg-secondary);
  color: var(--text-primary);
  border: 2px solid var(--border-color);
}

.btn-secondary:hover:not(:disabled) {
  background: var(--bg-tertiary);
  border-color: #067a45;
  color: #067a45;
  transform: translateY(-1px);
}

.btn-danger-solid {
  background: #dc2626;
  color: white;
  box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);
}

.btn-danger-solid:hover:not(:disabled) {
  background: #b91c1c;
  transform: translateY(-1px);
  box-shadow: 0 4px 16px rgba(220, 38, 38, 0.4);
}

.btn-spinner {
  display: inline-block;
  width: 15px;
  height: 15px;
  border: 2px solid rgba(255, 255, 255, 0.35);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.65s linear infinite;
}

.btn-spinner--danger {
  border-color: rgba(255, 255, 255, 0.35);
  border-top-color: white;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.danger-banner {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  padding: var(--space-4) var(--space-5);
  background: rgba(234, 88, 12, 0.07);
  border: 1px solid rgba(234, 88, 12, 0.2);
  border-radius: var(--radius-lg);
  color: #ea580c;
  font-size: 0.875rem;
  font-weight: 500;
  line-height: 1.6;
}

.danger-banner svg {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
  margin-top: 1px;
}

.danger-banner p {
  margin: 0;
}

.delete-sent {
  text-align: center;
  padding: var(--space-8) var(--space-4);
}

.delete-sent__icon {
  width: 72px;
  height: 72px;
  background: rgba(6, 122, 69, 0.1);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto var(--space-5);
}

.delete-sent__icon svg {
  width: 36px;
  height: 36px;
  color: #067a45;
}

.delete-sent h3 {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 var(--space-3) 0;
}

.delete-sent p {
  font-size: 0.9rem;
  color: var(--text-secondary);
  margin: 0;
  line-height: 1.6;
}

.empty-state {
  text-align: center;
  padding: var(--space-12) var(--space-4);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-4);
}

.empty-state__icon {
  width: 80px;
  height: 80px;
  background: var(--bg-secondary);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.empty-state__icon svg {
  width: 40px;
  height: 40px;
  color: var(--text-secondary);
  opacity: 0.5;
}

.empty-state h3 {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
}

.empty-state p {
  font-size: 0.875rem;
  color: var(--text-secondary);
  margin: 0;
  max-width: 320px;
}

.form-input--readonly {
  background-color: var(--color-bg-secondary, #f5f5f5);
  color: var(--color-text-muted, #888);
  cursor: not-allowed;
  opacity: 0.7;
}

.form-hint {
  font-size: 0.75rem;
  color: var(--color-text-muted, #888);
  margin-top: 4px;
}

[data-theme='dark'] .sidebar {
  background: #1a1f2e;
  border-color: #2a3040;
}

[data-theme='dark'] .sidebar-profile {
  background: linear-gradient(135deg, #054d2d 0%, #036637 100%);
}

[data-theme='dark'] .content-card {
  background: #1a1f2e;
  border-color: #2a3040;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
}

[data-theme='dark'] .content-card--muted {
  background: #141820;
}

[data-theme='dark'] .stat-card {
  background: #1a1f2e;
  border-color: #2a3040;
}

[data-theme='dark'] .nav-item:hover {
  background: rgba(255, 255, 255, 0.05);
}

[data-theme='dark'] .nav-item--active {
  background: rgba(6, 122, 69, 0.2);
}

[data-theme='dark'] .form-input {
  background: #141820;
  border-color: #2a3040;
  color: #f1f5f9;
}

[data-theme='dark'] .form-input:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
}

[data-theme='dark'] .quick-action-btn:hover {
  background: rgba(255, 255, 255, 0.04);
}

[data-theme='dark'] .info-row {
  border-color: #2a3040;
}

@media (max-width: 1024px) {
  .stats-grid {
    grid-template-columns: 1fr 1fr;
  }

  .profile-layout {
    grid-template-columns: 240px 1fr;
  }
}

@media (max-width: 768px) {
  .profile-layout {
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr;
  }

  .mobile-bar {
    display: flex;
  }

  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    width: 280px;
    z-index: 200;
    transform: translateX(-100%);
    transition: transform var(--transition-normal);
    box-shadow: var(--shadow-lg);
    grid-row: auto;
  }

  .sidebar--open {
    transform: translateX(0);
  }

  .sidebar-overlay {
    display: block;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.45);
    z-index: 199;
  }

  .profile-main {
    padding: var(--space-5) var(--space-4);
  }

  .overview-hero {
    flex-direction: column;
    text-align: center;
    padding: var(--space-6);
  }

  .stats-grid {
    grid-template-columns: 1fr;
  }

  .form-grid {
    grid-template-columns: 1fr;
  }

  .info-row {
    grid-template-columns: 1fr;
    gap: var(--space-1);
  }

  .info-note {
    grid-column: 1;
  }
}

@media (max-width: 480px) {
  .profile-main {
    padding: var(--space-4) var(--space-3);
  }

  .content-card {
    padding: var(--space-4);
  }

  .section-header {
    gap: var(--space-3);
  }

  .section-header__icon {
    width: 44px;
    height: 44px;
  }

  .section-header__icon svg {
    width: 22px;
    height: 22px;
  }

  .card-title-row {
    flex-direction: column;
    align-items: flex-start;
  }

  .stat-card {
    gap: var(--space-3);
    padding: var(--space-4);
  }
}

@media (prefers-reduced-motion: reduce) {
  .content-section {
    animation: none;
  }
  .sidebar {
    transition: none;
  }
  .stat-card,
  .btn,
  .nav-item,
  .quick-action-btn {
    transition: none;
  }
}



================================================================================
FILE: src\app\pages\profile\profile.html
================================================================================

<div class="profile-page">
  @if (!isAuthenticated()) {
    <div class="auth-gate">
      <div class="auth-gate__icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"
          />
        </svg>
      </div>
      <h2>{{ 'profile.not_authenticated' | translate }}</h2>
      <a routerLink="/login" class="btn btn-primary">{{ 'auth.login' | translate }}</a>
    </div>
  }

  @if (isAuthenticated() && user()) {
    <div class="profile-layout">
      <div class="mobile-bar">
        <button
          class="mobile-menu-btn"
          (click)="toggleSidebar()"
          [attr.aria-expanded]="isSidebarOpen()"
        >
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
          <span>{{ 'profile.menu' | translate }}</span>
        </button>
        <span class="mobile-section-label">
          @switch (activeSection()) {
            @case ('overview') {
              {{ 'profile.nav.overview' | translate }}
            }
            @case ('personal') {
              {{ 'profile.nav.personal' | translate }}
            }
            @case ('security') {
              {{ 'profile.nav.security' | translate }}
            }
            @case ('orders') {
              {{ 'profile.nav.orders' | translate }}
            }
            @case ('danger') {
              {{ 'profile.nav.danger' | translate }}
            }
          }
        </span>
      </div>

      <aside class="sidebar" [class.sidebar--open]="isSidebarOpen()">
        <div class="sidebar-profile">
          <div class="sidebar-avatar">
            <span class="avatar-initials">{{ initials() }}</span>
            <span
              class="avatar-status"
              [class.avatar-status--admin]="accountState() === 'admin'"
            ></span>
          </div>
          <div class="sidebar-user-info">
            <p class="sidebar-name">{{ fullName() }}</p>
            <p class="sidebar-email">{{ email() }}</p>
            @if (accountState() === 'admin') {
              <span class="badge badge--admin">Admin</span>
            }
          </div>
        </div>

        <nav
          class="sidebar-nav"
          role="navigation"
          [attr.aria-label]="'profile.nav.label' | translate"
        >
          <button
            class="nav-item"
            [class.nav-item--active]="activeSection() === 'overview'"
            (click)="setSection('overview')"
          >
            <span class="nav-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
                />
              </svg>
            </span>
            <span class="nav-label">{{ 'profile.nav.overview' | translate }}</span>
          </button>

          <button
            class="nav-item"
            [class.nav-item--active]="activeSection() === 'personal'"
            (click)="setSection('personal')"
          >
            <span class="nav-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                />
              </svg>
            </span>
            <span class="nav-label">{{ 'profile.nav.personal' | translate }}</span>
          </button>

          <button
            class="nav-item"
            [class.nav-item--active]="activeSection() === 'security'"
            (click)="setSection('security')"
          >
            <span class="nav-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
                />
              </svg>
            </span>
            <span class="nav-label">{{ 'profile.nav.security' | translate }}</span>
          </button>

          <button
            class="nav-item"
            [class.nav-item--active]="activeSection() === 'orders'"
            (click)="setSection('orders')"
          >
            <span class="nav-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"
                />
              </svg>
            </span>
            <span class="nav-label">{{ 'profile.nav.orders' | translate }}</span>
          </button>

          <div class="nav-divider"></div>

          <button
            class="nav-item nav-item--danger"
            [class.nav-item--active]="activeSection() === 'danger'"
            (click)="setSection('danger')"
          >
            <span class="nav-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                />
              </svg>
            </span>
            <span class="nav-label">{{ 'profile.nav.danger' | translate }}</span>
          </button>
        </nav>

        <button class="sidebar-logout" (click)="logout()">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
            />
          </svg>
          {{ 'profile.logout' | translate }}
        </button>
      </aside>

      @if (isSidebarOpen()) {
        <div class="sidebar-overlay" (click)="toggleSidebar()"></div>
      }

      <main class="profile-main">
        @if (activeSection() === 'overview') {
          <section class="content-section" aria-label="{{ 'profile.nav.overview' | translate }}">
            <div class="overview-hero">
              <div class="overview-avatar">
                <span>{{ initials() }}</span>
              </div>
              <div class="overview-info">
                <h1 class="overview-name">{{ fullName() }}</h1>
                <p class="overview-email">{{ email() }}</p>
                @if (accountState() === 'admin') {
                  <span class="badge badge--admin">Admin</span>
                } @else {
                  <span class="badge badge--verified">{{
                    'profile.role.verified' | translate
                  }}</span>
                }
              </div>
            </div>

            <div class="stats-grid">
              <div class="stat-card stat-card--green">
                <div class="stat-card__icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"
                    />
                  </svg>
                </div>
                <div class="stat-card__content">
                  <span class="stat-number">â€”</span>
                  <span class="stat-label">{{ 'profile.stats.orders' | translate }}</span>
                </div>
              </div>

              <div class="stat-card stat-card--blue">
                <div class="stat-card__icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"
                    />
                  </svg>
                </div>
                <div class="stat-card__content">
                  <span class="stat-number">â€”</span>
                  <span class="stat-label">{{ 'profile.stats.reviews' | translate }}</span>
                </div>
              </div>

              <div class="stat-card stat-card--purple">
                <div class="stat-card__icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
                    />
                  </svg>
                </div>
                <div class="stat-card__content">
                  <span class="stat-number">{{ accountState() }}</span>
                  <span class="stat-label">{{ 'profile.stats.status' | translate }}</span>
                </div>
              </div>
            </div>

            <div class="content-card">
              <h2 class="card-title">{{ 'profile.quick_actions' | translate }}</h2>
              <div class="quick-actions">
                <button class="quick-action-btn" (click)="setSection('personal')">
                  <span class="qa-icon qa-icon--green">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                      />
                    </svg>
                  </span>
                  <span class="qa-text">
                    <strong>{{ 'profile.nav.personal' | translate }}</strong>
                    <small>{{ 'profile.quick.edit_info_desc' | translate }}</small>
                  </span>
                  <svg
                    class="qa-arrow"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                  </svg>
                </button>

                <button class="quick-action-btn" (click)="setSection('security')">
                  <span class="qa-icon qa-icon--blue">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"
                      />
                    </svg>
                  </span>
                  <span class="qa-text">
                    <strong>{{ 'profile.nav.security' | translate }}</strong>
                    <small>{{ 'profile.quick.security_desc' | translate }}</small>
                  </span>
                  <svg
                    class="qa-arrow"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                  </svg>
                </button>

                <a class="quick-action-btn" routerLink="/purchase">
                  <span class="qa-icon qa-icon--orange">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"
                      />
                    </svg>
                  </span>
                  <span class="qa-text">
                    <strong>{{ 'profile.nav.orders' | translate }}</strong>
                    <small>{{ 'profile.quick.orders_desc' | translate }}</small>
                  </span>
                  <svg
                    class="qa-arrow"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                  </svg>
                </a>
              </div>
            </div>
          </section>
        }

        @if (activeSection() === 'personal') {
          <section class="content-section" aria-label="{{ 'profile.nav.personal' | translate }}">
            <div class="section-header">
              <div class="section-header__icon section-header__icon--green">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                  />
                </svg>
              </div>
              <div>
                <h1 class="section-title">{{ 'profile.nav.personal' | translate }}</h1>
                <p class="section-subtitle">{{ 'profile.personal.subtitle' | translate }}</p>
              </div>
            </div>

            <div class="content-card">
              <h2 class="card-title">{{ 'profile.personal.account_info' | translate }}</h2>
              <div class="info-grid">
                <div class="info-row">
                  <span class="info-label">{{ 'profile.personal.email' | translate }}</span>
                  <span class="info-value">{{ email() }}</span>
                  <span class="info-note">{{ 'profile.personal.email_note' | translate }}</span>
                </div>
                <div class="info-row">
                  <span class="info-label">{{ 'profile.personal.account_state' | translate }}</span>
                  <span class="info-value">
                    @if (accountState() === 'admin') {
                      <span class="badge badge--admin">Admin</span>
                    } @else if (accountState() === 'verified') {
                      <span class="badge badge--verified">{{
                        'profile.role.verified' | translate
                      }}</span>
                    } @else {
                      <span class="badge badge--unverified">{{
                        'profile.role.unverified' | translate
                      }}</span>
                    }
                  </span>
                </div>
              </div>
            </div>

            <div class="content-card">
              <h2 class="card-title">{{ 'profile.personal.edit_name' | translate }}</h2>

              <div class="form-grid">
                <div class="form-field">
                  <label class="form-label" for="editFirstname">
                    {{ 'profile.personal.first_name' | translate }}
                  </label>
                  <input
                    id="editFirstname"
                    type="text"
                    class="form-input"
                    [(ngModel)]="editFirstname"
                    name="editFirstname"
                    [disabled]="isUpdatingProfile()"
                    [placeholder]="'profile.personal.first_name_placeholder' | translate"
                    autocomplete="given-name"
                  />
                </div>

                <div class="form-field">
                  <label class="form-label" for="editLastname">
                    {{ 'profile.personal.last_name' | translate }}
                  </label>
                  <input
                    id="editLastname"
                    type="text"
                    class="form-input"
                    [(ngModel)]="editLastname"
                    name="editLastname"
                    [disabled]="isUpdatingProfile()"
                    [placeholder]="'profile.personal.last_name_placeholder' | translate"
                    autocomplete="family-name"
                  />
                </div>
              </div>

              @if (profileEditError()) {
                <div class="alert alert--error" role="alert">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    />
                  </svg>
                  {{ profileEditError() | translate }}
                </div>
              }

              @if (profileEditSuccess()) {
                <div class="alert alert--success" role="status">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                    />
                  </svg>
                  {{ 'profile.success.profile_updated' | translate }}
                </div>
              }

              <div class="card-actions">
                <button
                  class="btn btn-primary"
                  (click)="savePersonalInfo()"
                  [disabled]="isUpdatingProfile()"
                >
                  @if (isUpdatingProfile()) {
                    <span class="btn-spinner"></span>
                  }
                  {{ 'profile.personal.save' | translate }}
                </button>
              </div>
            </div>
          </section>
        }

        @if (activeSection() === 'security') {
          <section class="content-section" aria-label="{{ 'profile.nav.security' | translate }}">
            <div class="section-header">
              <div class="section-header__icon section-header__icon--blue">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
                  />
                </svg>
              </div>
              <div>
                <h1 class="section-title">{{ 'profile.nav.security' | translate }}</h1>
                <p class="section-subtitle">{{ 'profile.security.subtitle' | translate }}</p>
              </div>
            </div>

            <div class="content-card">
              <div class="card-title-row">
                <h2 class="card-title">{{ 'profile.security.change_password' | translate }}</h2>
                <span class="card-badge card-badge--info">{{
                  'profile.security.email_confirmation' | translate
                }}</span>
              </div>
              <p class="card-description">
                {{ 'profile.security.change_password_desc' | translate }}
              </p>

              @if (changePasswordEmailSent()) {
                <div class="alert alert--success" role="status">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                    />
                  </svg>
                  {{ 'profile.security.email_sent_check' | translate }}
                </div>
              } @else {
                <div class="form-stack">
                  <div class="form-field">
                    <label class="form-label">
                      {{ 'auth.fields.email' | translate }}
                    </label>
                    <input
                      type="email"
                      class="form-input form-input--readonly"
                      [value]="email()"
                      readonly
                      disabled
                    />
                    <p class="form-hint">{{ 'profile.security.email_prefilled' | translate }}</p>
                  </div>

                  <div class="form-field">
                    <label class="form-label" for="newPwd">
                      {{ 'profile.security.new_password' | translate }}
                    </label>
                    <div class="input-with-toggle">
                      <input
                        id="newPwd"
                        [type]="showNewPassword() ? 'text' : 'password'"
                        class="form-input"
                        [(ngModel)]="changePasswordNew"
                        name="newPwd"
                        [disabled]="isChangingPassword()"
                        [placeholder]="'profile.security.new_password_placeholder' | translate"
                        autocomplete="new-password"
                      />
                      <button
                        type="button"
                        class="toggle-visibility"
                        (click)="togglePasswordVisibility('new')"
                        [attr.aria-label]="
                          (showNewPassword() ? 'common.hide' : 'common.show') | translate
                        "
                      >
                        @if (showNewPassword()) {
                          <svg
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"
                            />
                          </svg>
                        } @else {
                          <svg
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                            />
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                            />
                          </svg>
                        }
                      </button>
                    </div>
                  </div>

                  <div class="form-field">
                    <label class="form-label" for="confirmPwd">
                      {{ 'profile.security.confirm_password' | translate }}
                    </label>
                    <div class="input-with-toggle">
                      <input
                        id="confirmPwd"
                        [type]="showConfirmPassword() ? 'text' : 'password'"
                        class="form-input"
                        [(ngModel)]="changePasswordConfirm"
                        name="confirmPwd"
                        [disabled]="isChangingPassword()"
                        [placeholder]="'profile.security.confirm_password_placeholder' | translate"
                        autocomplete="new-password"
                      />
                      <button
                        type="button"
                        class="toggle-visibility"
                        (click)="togglePasswordVisibility('confirm')"
                        [attr.aria-label]="
                          (showConfirmPassword() ? 'common.hide' : 'common.show') | translate
                        "
                      >
                        @if (showConfirmPassword()) {
                          <svg
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"
                            />
                          </svg>
                        } @else {
                          <svg
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                            />
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                            />
                          </svg>
                        }
                      </button>
                    </div>
                  </div>

                  @if (changePasswordError()) {
                    <div class="alert alert--error" role="alert">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                        />
                      </svg>
                      {{ changePasswordError() | translate }}
                    </div>
                  }

                  <div class="card-actions">
                    <button
                      class="btn btn-primary"
                      (click)="requestPasswordChange()"
                      [disabled]="isChangingPassword()"
                    >
                      @if (isChangingPassword()) {
                        <span class="btn-spinner"></span>
                      }
                      {{ 'profile.security.change_password_btn' | translate }}
                    </button>
                  </div>
                </div>
              }
            </div>

            <div class="content-card content-card--muted">
              <div class="card-title-row">
                <h2 class="card-title">
                  {{ 'profile.security.forgot_password_title' | translate }}
                </h2>
                <span class="card-badge card-badge--neutral">{{
                  'profile.security.no_login_needed' | translate
                }}</span>
              </div>
              <p class="card-description">
                {{ 'profile.security.forgot_password_desc_alt' | translate }}
              </p>
              <div class="card-actions">
                <a routerLink="/password-reset-request" class="btn btn-secondary">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                    />
                  </svg>
                  {{ 'profile.security.forgot_password_btn' | translate }}
                </a>
              </div>
            </div>
          </section>
        }

        @if (activeSection() === 'orders') {
          <section class="content-section" aria-label="{{ 'profile.nav.orders' | translate }}">
            <div class="section-header">
              <div class="section-header__icon section-header__icon--orange">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"
                  />
                </svg>
              </div>
              <div>
                <h1 class="section-title">{{ 'profile.nav.orders' | translate }}</h1>
                <p class="section-subtitle">{{ 'profile.orders.subtitle' | translate }}</p>
              </div>
            </div>

            <div class="content-card">
              <div class="empty-state">
                <div class="empty-state__icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"
                    />
                  </svg>
                </div>
                <h3>{{ 'profile.orders.empty_title' | translate }}</h3>
                <p>{{ 'profile.orders.empty_desc' | translate }}</p>
                <a routerLink="/products" class="btn btn-primary">
                  {{ 'profile.orders.browse_products' | translate }}
                </a>
              </div>
            </div>
          </section>
        }

        @if (activeSection() === 'danger') {
          <section class="content-section" aria-label="{{ 'profile.nav.danger' | translate }}">
            <div class="section-header">
              <div class="section-header__icon section-header__icon--red">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
                  />
                </svg>
              </div>
              <div>
                <h1 class="section-title section-title--danger">
                  {{ 'profile.nav.danger' | translate }}
                </h1>
                <p class="section-subtitle">{{ 'profile.danger.subtitle' | translate }}</p>
              </div>
            </div>

            <div class="danger-banner">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
                />
              </svg>
              <p>{{ 'profile.danger.warning_banner' | translate }}</p>
            </div>

            <div class="content-card content-card--danger">
              <h2 class="card-title card-title--danger">
                {{ 'profile.danger.delete_account' | translate }}
              </h2>
              <p class="card-description">{{ 'profile.danger.delete_desc' | translate }}</p>

              @if (!deleteConfirmationSent()) {
                <div class="form-stack">
                  <div class="form-field">
                    <label class="form-label" for="deletePwd">
                      {{ 'profile.danger.confirm_password' | translate }}
                    </label>
                    <div class="input-with-toggle">
                      <input
                        id="deletePwd"
                        [type]="showDeletePassword() ? 'text' : 'password'"
                        class="form-input form-input--danger"
                        [(ngModel)]="deletePassword"
                        name="deletePwd"
                        [disabled]="isDeletingAccount()"
                        [placeholder]="'profile.danger.password_placeholder' | translate"
                        autocomplete="current-password"
                      />
                      <button
                        type="button"
                        class="toggle-visibility"
                        (click)="togglePasswordVisibility('delete')"
                        [attr.aria-label]="
                          (showDeletePassword() ? 'common.hide' : 'common.show') | translate
                        "
                      >
                        @if (showDeletePassword()) {
                          <svg
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"
                            />
                          </svg>
                        } @else {
                          <svg
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                            />
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                            />
                          </svg>
                        }
                      </button>
                    </div>
                    <span class="form-hint">{{ 'profile.danger.password_hint' | translate }}</span>
                  </div>

                  @if (deleteError()) {
                    <div class="alert alert--error" role="alert">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                        />
                      </svg>
                      {{ deleteError() | translate }}
                    </div>
                  }

                  <div class="card-actions">
                    <button
                      class="btn btn-danger-solid"
                      (click)="requestDeleteAccount()"
                      [disabled]="isDeletingAccount()"
                    >
                      @if (isDeletingAccount()) {
                        <span class="btn-spinner btn-spinner--danger"></span>
                      }
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                        />
                      </svg>
                      {{ 'profile.danger.delete_btn' | translate }}
                    </button>
                  </div>
                </div>
              } @else {
                <div class="delete-sent">
                  <div class="delete-sent__icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                      />
                    </svg>
                  </div>
                  <h3>{{ 'profile.danger.email_sent_title' | translate }}</h3>
                  <p>{{ 'profile.danger.email_sent_desc' | translate }}</p>
                </div>
              }
            </div>
          </section>
        }
      </main>
    </div>
  }
</div>



================================================================================
FILE: src\app\pages\profile\profile.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Profile } from './profile';

describe('Profile', () => {
  let component: Profile;
  let fixture: ComponentFixture<Profile>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Profile]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Profile);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\profile\profile.ts
================================================================================

import { Component, OnInit, signal, computed, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { Router, RouterModule } from '@angular/router';
import { FormsModule } from '@angular/forms';
import { TranslateModule } from '@ngx-translate/core';
import { AuthService } from '../../core/services/auth.service';
import { AccountService } from '../../core/services/account.service';
import { ToastService } from '../../core/services/toast.service';

export type ProfileSection = 'overview' | 'personal' | 'security' | 'orders' | 'danger';

@Component({
  selector: 'app-profile',
  standalone: true,
  imports: [CommonModule, RouterModule, FormsModule, TranslateModule],
  templateUrl: './profile.html',
  styleUrl: './profile.css',
})
export class Profile implements OnInit {
  private authService = inject(AuthService);
  private accountService = inject(AccountService);
  private toastService = inject(ToastService);
  private router = inject(Router);

  user = this.authService.currentUser;
  isAuthenticated = this.authService.isAuthenticated;

  fullName = computed(() => {
    const u = this.user();
    if (!u) return '';
    return `${u.firstname} ${u.lastname}`.trim();
  });

  initials = computed(() => {
    const u = this.user();
    if (!u) return '?';
    const f = u.firstname?.[0] ?? '';
    const l = u.lastname?.[0] ?? '';
    return (f + l).toUpperCase() || '?';
  });

  email = computed(() => this.user()?.email ?? '');
  accountState = computed(() => this.user()?.account_state ?? 'verified');

  activeSection = signal<ProfileSection>('overview');

  editFirstname = '';
  editLastname = '';
  isUpdatingProfile = signal(false);
  profileEditError = signal('');
  profileEditSuccess = signal(false);

  changePasswordNew = '';
  changePasswordConfirm = '';
  showNewPassword = signal(false);
  showConfirmPassword = signal(false);
  isChangingPassword = signal(false);
  changePasswordError = signal('');
  changePasswordEmailSent = signal(false);

  deletePassword = '';
  showDeletePassword = signal(false);
  isDeletingAccount = signal(false);
  deleteError = signal('');
  deleteConfirmationSent = signal(false);

  isSidebarOpen = signal(false);

  ngOnInit(): void {
    this.loadPersonalInfoIntoForm();
  }

  setSection(section: ProfileSection): void {
    this.activeSection.set(section);
    this.isSidebarOpen.set(false);
    this.resetForms();
  }

  toggleSidebar(): void {
    this.isSidebarOpen.update((v) => !v);
  }

  logout(): void {
    this.authService.logout();
  }

  loadPersonalInfoIntoForm(): void {
    const u = this.user();
    this.editFirstname = u?.firstname ?? '';
    this.editLastname = u?.lastname ?? '';
  }

  savePersonalInfo(): void {
    this.profileEditError.set('');
    this.profileEditSuccess.set(false);

    const firstname = this.editFirstname.trim();
    const lastname = this.editLastname.trim();

    if (!firstname || !lastname) {
      this.profileEditError.set('profile.errors.name_required');
      return;
    }

    this.isUpdatingProfile.set(true);

    this.accountService.updateProfile({ firstname, lastname }).subscribe({
      next: () => {
        this.isUpdatingProfile.set(false);
        this.profileEditSuccess.set(true);
        this.toastService.success('profile.success.profile_updated');
      },
      error: (err) => {
        this.isUpdatingProfile.set(false);
        this.profileEditError.set(err.message ?? 'profile.errors.update_failed');
      },
    });
  }

  requestPasswordChange(): void {
    this.changePasswordError.set('');
    this.changePasswordEmailSent.set(false);

    if (!this.changePasswordNew || this.changePasswordNew.length < 6) {
      this.changePasswordError.set('profile.errors.new_password_too_short');
      return;
    }
    if (this.changePasswordNew !== this.changePasswordConfirm) {
      this.changePasswordError.set('profile.errors.passwords_do_not_match');
      return;
    }

    const userEmail = this.email();
    if (!userEmail) {
      this.changePasswordError.set('auth.errors.not_authenticated');
      return;
    }

    this.isChangingPassword.set(true);

    this.authService.requestPasswordChange(userEmail, this.changePasswordNew).subscribe({
      next: () => {
        this.isChangingPassword.set(false);
        this.changePasswordEmailSent.set(true);
        this.changePasswordNew = '';
        this.changePasswordConfirm = '';
      },
      error: (err) => {
        this.isChangingPassword.set(false);
        this.changePasswordError.set(err.message ?? 'profile.errors.password_change_failed');
      },
    });
  }

  requestDeleteAccount(): void {
    this.deleteError.set('');

    const password = this.deletePassword.trim();
    if (!password) {
      this.deleteError.set('auth.errors.empty_fields');
      return;
    }

    const userId = this.user()?.id;
    if (!userId) {
      this.deleteError.set('auth.errors.not_authenticated');
      return;
    }

    this.isDeletingAccount.set(true);

    this.accountService.deleteAccountRequest(userId, password).subscribe({
      next: () => {
        this.isDeletingAccount.set(false);
        this.deleteConfirmationSent.set(true);
      },
      error: (err) => {
        this.isDeletingAccount.set(false);
        this.deleteError.set(err.message ?? 'profile.errors.delete_failed');
      },
    });
  }

  togglePasswordVisibility(field: 'new' | 'confirm' | 'delete'): void {
    if (field === 'new') this.showNewPassword.update((v) => !v);
    else if (field === 'confirm') this.showConfirmPassword.update((v) => !v);
    else this.showDeletePassword.update((v) => !v);
  }

  private resetForms(): void {
    this.profileEditError.set('');
    this.profileEditSuccess.set(false);
    this.changePasswordError.set('');
    this.changePasswordEmailSent.set(false);
    this.deleteError.set('');
    this.deleteConfirmationSent.set(false);
    this.changePasswordNew = '';
    this.changePasswordConfirm = '';
    this.loadPersonalInfoIntoForm();
  }
}



================================================================================
FILE: src\app\pages\purchase\purchase.css
================================================================================

.purchase-container {
  min-height: calc(100vh - 80px);
  padding: 2rem 0;
  background-color: var(--bg-secondary);
}

.page-title {
  text-align: center;
  margin-bottom: 2rem;
  color: var(--text-primary);
}

.alert {
  padding: 1rem 1.5rem;
  border-radius: 8px;
  margin-bottom: 2rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  animation: slideInDown 0.3s ease;
}

.alert svg {
  width: 24px;
  height: 24px;
  flex-shrink: 0;
}

.alert-success {
  background-color: rgba(6, 122, 69, 0.1);
  border: 1px solid var(--color-primary);
  color: var(--color-primary);
}

.alert-error {
  background-color: rgba(220, 38, 38, 0.1);
  border: 1px solid #dc2626;
  color: #dc2626;
}

.checkout-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  align-items: start;
}

.checkout-section {
  background-color: var(--bg-primary);
  border-radius: 12px;
  padding: 2rem;
  box-shadow: var(--shadow-md);
}

.section-title {
  margin: 0 0 1.5rem 0;
  font-size: 1.5rem;
  color: var(--text-primary);
  border-bottom: 2px solid var(--color-primary);
  padding-bottom: 0.5rem;
}

.empty-cart {
  text-align: center;
  padding: 3rem 1rem;
}

.empty-cart p {
  color: var(--text-secondary);
  margin-bottom: 1.5rem;
  font-size: 1.1rem;
}

.order-items {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.order-item {
  display: flex;
  gap: 1.5rem;
  padding: 1.5rem;
  background-color: var(--bg-secondary);
  border-radius: 8px;
  transition: box-shadow 0.3s ease;
}

.order-item:hover {
  box-shadow: var(--shadow-sm);
}

.item-image {
  width: 100px;
  height: 100px;
  object-fit: cover;
  border-radius: 8px;
  border: 1px solid var(--border-color);
  flex-shrink: 0;
}

.item-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.item-name {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--text-primary);
}

.item-price {
  margin: 0;
  font-size: 1rem;
  color: var(--color-primary);
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.discount-badge {
  background-color: var(--color-primary);
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 700;
}

.item-quantity {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-top: 0.5rem;
}

.quantity-btn {
  width: 32px;
  height: 32px;
  border: 1px solid var(--border-color);
  background-color: var(--bg-primary);
  color: var(--text-primary);
  border-radius: 6px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  font-weight: 700;
  font-size: 1.1rem;
}

.quantity-btn:hover:not(:disabled) {
  background-color: var(--color-primary);
  color: white;
  border-color: var(--color-primary);
}

.quantity-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.quantity-value {
  min-width: 40px;
  text-align: center;
  font-weight: 700;
  font-size: 1.1rem;
  color: var(--text-primary);
}

.item-actions {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 0.75rem;
}

.item-total {
  margin: 0;
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--text-primary);
}

.remove-btn {
  background: none;
  border: none;
  color: #dc2626;
  cursor: pointer;
  font-size: 0.9rem;
  text-decoration: underline;
  transition: opacity 0.2s ease;
}

.remove-btn:hover:not(:disabled) {
  opacity: 0.7;
}

.remove-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.order-total {
  padding: 1.5rem;
  background-color: var(--bg-secondary);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.total-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 1rem;
}

.total-row span {
  color: var(--text-secondary);
}

.total-row strong {
  color: var(--text-primary);
  font-weight: 600;
}

.total-divider {
  height: 1px;
  background-color: var(--border-color);
  margin: 0.5rem 0;
}

.grand-total {
  font-size: 1.3rem;
  margin-top: 0.5rem;
}

.grand-total span {
  color: var(--text-primary);
  font-weight: 600;
}

.grand-total strong {
  font-size: 1.5rem;
  color: var(--color-primary);
}

.checkout-form form {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.form-group label {
  font-weight: 600;
  color: var(--text-primary);
  font-size: 0.95rem;
}

.form-group input,
.form-group textarea {
  padding: 0.75rem;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  background-color: var(--input-bg);
  color: var(--input-text);
  font-size: 1rem;
  transition: all 0.2s ease;
  font-family: 'Inconsolata', monospace;
}

.form-group input:focus,
.form-group textarea:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(6, 122, 69, 0.1);
}

.form-group input:disabled,
.form-group textarea:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.form-group textarea {
  resize: vertical;
  min-height: 80px;
}

.form-actions {
  display: flex;
  gap: 1rem;
  justify-content: space-between;
  margin-top: 1rem;
}

.btn-primary,
.btn-secondary {
  padding: 1rem 2rem;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  flex: 1;
}

.btn-primary {
  background-color: var(--color-primary);
  color: white;
}

.btn-primary:hover:not(:disabled) {
  background-color: var(--color-primary-dark);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(6, 122, 69, 0.3);
}

.btn-primary:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

.btn-secondary {
  background-color: var(--bg-secondary);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}

.btn-secondary:hover:not(:disabled) {
  background-color: var(--bg-tertiary);
}

.btn-secondary:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.spinner {
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

@keyframes slideInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (max-width: 1024px) {
  .checkout-layout {
    grid-template-columns: 1fr;
  }

  .order-summary {
    order: 1;
  }

  .checkout-form {
    order: 2;
  }
}

@media (max-width: 768px) {
  .purchase-container {
    padding: 1rem 0;
  }

  .checkout-section {
    padding: 1.5rem;
  }

  .order-item {
    flex-direction: column;
    gap: 1rem;
  }

  .item-image {
    width: 100%;
    height: 200px;
  }

  .item-actions {
    flex-direction: row;
    width: 100%;
    justify-content: space-between;
  }

  .form-row {
    grid-template-columns: 1fr;
  }

  .form-actions {
    flex-direction: column;
  }
}

@media (max-width: 480px) {
  .section-title {
    font-size: 1.2rem;
  }

  .item-name {
    font-size: 1rem;
  }

  .grand-total {
    font-size: 1.1rem;
  }

  .grand-total strong {
    font-size: 1.3rem;
  }
}



================================================================================
FILE: src\app\pages\purchase\purchase.html
================================================================================

<div class="purchase-container">
  <div class="container">
    <h1 class="page-title">{{ 'checkout.title' | translate }}</h1>

    @if (successMessage()) {
      <div class="alert alert-success">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
          <polyline points="22 4 12 14.01 9 11.01"></polyline>
        </svg>
        <span>{{ successMessage() || '' | translate }}</span>
      </div>
    }

    @if (errorMessage()) {
      <div class="alert alert-error">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="8" x2="12" y2="12"></line>
          <line x1="12" y1="16" x2="12.01" y2="16"></line>
        </svg>
        <span>{{ errorMessage() || '' | translate }}</span>
      </div>
    }

    <div class="checkout-layout">
      <div class="checkout-section order-summary">
        <h2 class="section-title">{{ 'checkout.order_summary' | translate }}</h2>

        @if (cartItems().length === 0) {
          <div class="empty-cart">
            <p>{{ 'cart.empty' | translate }}</p>
            <button class="btn-primary" (click)="continueShopping()">
              {{ 'checkout.continue_shopping' | translate }}
            </button>
          </div>
        } @else {
          <div class="order-items">
            @for (item of cartItems(); track item.product.id) {
              <div class="order-item">
                <img [src]="item.product.imageUrl" [alt]="item.product.name" class="item-image" />
                <div class="item-details">
                  <h3 class="item-name">{{ item.product.name }}</h3>
                  <p class="item-price">
                    {{ getFormattedUnitPrice(item.product) }}
                    @if (item.product.discountPercentage) {
                      <span class="discount-badge">-{{ item.product.discountPercentage }}%</span>
                    }
                  </p>
                  <div class="item-quantity">
                    <button
                      class="quantity-btn"
                      (click)="updateQuantity(item.product.id, item.quantity - 1)"
                      [disabled]="item.quantity <= 1 || isSubmitting()"
                    >
                      -
                    </button>
                    <span class="quantity-value">{{ item.quantity }}</span>
                    <button
                      class="quantity-btn"
                      (click)="updateQuantity(item.product.id, item.quantity + 1)"
                      [disabled]="item.quantity >= item.product.stockQuantity || isSubmitting()"
                    >
                      +
                    </button>
                  </div>
                </div>
                <div class="item-actions">
                  <p class="item-total">
                    {{ getFormattedItemTotal(item.product, item.quantity) }}
                  </p>
                  <button
                    class="remove-btn"
                    (click)="removeFromCart(item.product.id)"
                    [disabled]="isSubmitting()"
                  >
                    {{ 'cart.remove' | translate }}
                  </button>
                </div>
              </div>
            }
          </div>

          <div class="order-total">
            <div class="total-row">
              <span>{{ 'checkout.subtotal' | translate }}:</span>
              <strong>{{ currencyService.formatPrice(cartTotal()) }}</strong>
            </div>
            <div class="total-row">
              <span>{{ 'checkout.shipping' | translate }}:</span>
              <strong>{{ 'checkout.free_shipping' | translate }}</strong>
            </div>
            <div class="total-divider"></div>
            <div class="total-row grand-total">
              <span>{{ 'checkout.total' | translate }}:</span>
              <strong>{{ currencyService.formatPrice(cartTotal()) }}</strong>
            </div>
          </div>
        }
      </div>

      @if (cartItems().length > 0) {
        <div class="checkout-section checkout-form">
          <h2 class="section-title">{{ 'checkout.shipping_info' | translate }}</h2>

          <form (ngSubmit)="submitOrder()" #checkoutForm="ngForm">
            <div class="form-row">
              <div class="form-group">
                <label for="city">{{ 'checkout.city' | translate }} *</label>
                <input
                  type="text"
                  id="city"
                  name="city"
                  [(ngModel)]="form.city"
                  [placeholder]="'checkout.city_placeholder' | translate"
                  required
                  [disabled]="isSubmitting()"
                />
              </div>

              <div class="form-group">
                <label for="zipcode">{{ 'checkout.zipcode' | translate }} *</label>
                <input
                  type="text"
                  id="zipcode"
                  name="zipcode"
                  [(ngModel)]="form.zipcode"
                  [placeholder]="'checkout.zipcode_placeholder' | translate"
                  required
                  [disabled]="isSubmitting()"
                />
              </div>
            </div>

            <div class="form-group">
              <label for="address">{{ 'checkout.address' | translate }} *</label>
              <input
                type="text"
                id="address"
                name="address"
                [(ngModel)]="form.address"
                [placeholder]="'checkout.address_placeholder' | translate"
                required
                [disabled]="isSubmitting()"
              />
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="houseNumber">{{ 'checkout.house_number' | translate }} *</label>
                <input
                  type="text"
                  id="houseNumber"
                  name="houseNumber"
                  [(ngModel)]="form.houseNumber"
                  [placeholder]="'checkout.house_number_placeholder' | translate"
                  required
                  [disabled]="isSubmitting()"
                />
              </div>

              <div class="form-group">
                <label for="apartmentNumber">{{ 'checkout.apartment_number' | translate }}</label>
                <input
                  type="text"
                  id="apartmentNumber"
                  name="apartmentNumber"
                  [(ngModel)]="form.apartmentNumber"
                  [placeholder]="'checkout.apartment_placeholder' | translate"
                  [disabled]="isSubmitting()"
                />
              </div>
            </div>

            <div class="form-group">
              <label for="phoneNumber">{{ 'checkout.phone' | translate }} *</label>
              <input
                type="tel"
                id="phoneNumber"
                name="phoneNumber"
                [(ngModel)]="form.phoneNumber"
                [placeholder]="'checkout.phone_placeholder' | translate"
                required
                [disabled]="isSubmitting()"
              />
            </div>

            <div class="form-group">
              <label for="note">{{ 'checkout.note' | translate }}</label>
              <textarea
                id="note"
                name="note"
                [(ngModel)]="form.note"
                [placeholder]="'checkout.note_placeholder' | translate"
                rows="3"
                [disabled]="isSubmitting()"
              ></textarea>
            </div>

            <div class="form-actions">
              <button
                type="button"
                class="btn-secondary"
                (click)="continueShopping()"
                [disabled]="isSubmitting()"
              >
                {{ 'checkout.continue_shopping' | translate }}
              </button>
              <button
                type="submit"
                class="btn-primary"
                [disabled]="isSubmitting() || !checkoutForm.valid"
              >
                @if (isSubmitting()) {
                  <span class="spinner"></span>
                  {{ 'checkout.processing' | translate }}
                } @else {
                  {{ 'checkout.place_order' | translate }}
                }
              </button>
            </div>
          </form>
        </div>
      }
    </div>
  </div>
</div>



================================================================================
FILE: src\app\pages\purchase\purchase.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Purchase } from './purchase';

describe('Purchase', () => {
  let component: Purchase;
  let fixture: ComponentFixture<Purchase>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Purchase]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Purchase);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\purchase\purchase.ts
================================================================================

import { Component, OnInit, signal, computed, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterModule, Router } from '@angular/router';
import { FormsModule } from '@angular/forms';
import { TranslateModule } from '@ngx-translate/core';
import { firstValueFrom } from 'rxjs';

import { CartService } from '../../core/services/cart.service';
import { CurrencyService } from '../../core/services/currency.service';
import { AuthService } from '../../core/services/auth.service';
import { AccountService } from '../../core/services/account.service';
import { ToastService } from '../../core/services/toast.service';
import { Product } from '../../core/models/product.model';

interface CheckoutForm {
  city: string;
  zipcode: string;
  address: string;
  houseNumber: string;
  apartmentNumber: string;
  phoneNumber: string;
  note: string;
}

@Component({
  selector: 'app-purchase',
  standalone: true,
  imports: [CommonModule, RouterModule, FormsModule, TranslateModule],
  templateUrl: './purchase.html',
  styleUrl: './purchase.css',
})
export class Purchase implements OnInit {
  cartService = inject(CartService);
  public currencyService = inject(CurrencyService);
  private authService = inject(AuthService);
  private accountService = inject(AccountService);
  private toastService = inject(ToastService);
  private router = inject(Router);

  cartItems = computed(() => this.cartService.items());
  cartTotal = computed(() => this.cartService.totalPrice());
  cartItemCount = computed(() => this.cartService.itemCount());

  isSubmitting = signal(false);
  errorMessage = signal<string | null>(null);
  successMessage = signal<string | null>(null);

  form: CheckoutForm = {
    city: '',
    zipcode: '',
    address: '',
    houseNumber: '',
    apartmentNumber: '',
    phoneNumber: '',
    note: '',
  };

  ngOnInit(): void {
    if (!this.authService.isUserAuthenticated()) {
      this.router.navigate(['/login'], {
        queryParams: { returnUrl: '/purchase' },
      });
      return;
    }

    if (this.cartItems().length === 0) {
      this.router.navigate(['/products']);
    }
  }

  updateQuantity(productId: string, quantity: number): void {
    this.cartService.updateQuantity(productId, quantity);
  }

  removeFromCart(productId: string): void {
    this.cartService.removeFromCart(productId);

    if (this.cartItems().length === 0) {
      this.router.navigate(['/products']);
    }
  }

  getFormattedUnitPrice(product: Product): string {
    return this.currencyService.formatPrice(
      this.currencyService.getDiscountedPrice(product),
    );
  }

  getFormattedItemTotal(product: Product, quantity: number): string {
    return this.currencyService.formatPrice(
      this.cartService.getItemTotal(product, quantity),
    );
  }

  async submitOrder(): Promise<void> {
    if (!this.validateForm()) return;

    this.isSubmitting.set(true);
    this.errorMessage.set(null);

    try {
      const orderData = {
        city: this.form.city,
        zipcode: this.form.zipcode,
        address: this.form.address,
        houseNumber: parseInt(this.form.houseNumber),
        apartmentNumber: this.form.apartmentNumber ? parseInt(this.form.apartmentNumber) : 0,
        phoneNumber: this.form.phoneNumber,
        note: this.form.note,
        items: this.cartItems().map((item) => ({
          productId: item.product.id,
          quantity: item.quantity,
        })),
      };

      const response = await firstValueFrom(this.accountService.createOrder(orderData));

      if (response.statuscode === '200') {
        this.successMessage.set('checkout.success');
        this.toastService.success('checkout.success');
        this.cartService.clearCart();

        setTimeout(() => {
          this.router.navigate(['/profile']);
        }, 2000);
      } else {
        this.errorMessage.set('checkout.error');
        this.toastService.error('checkout.error');
      }
    } catch (error) {
      this.errorMessage.set('checkout.error');
      this.toastService.error('checkout.error');
      console.error('Order submission error:', error);
    } finally {
      this.isSubmitting.set(false);
    }
  }

  private validateForm(): boolean {
    if (
      !this.form.city ||
      !this.form.zipcode ||
      !this.form.address ||
      !this.form.houseNumber ||
      !this.form.phoneNumber
    ) {
      this.errorMessage.set('checkout.validation_error');
      return false;
    }

    if (!/^\d{4,10}$/.test(this.form.zipcode)) {
      this.errorMessage.set('checkout.invalid_zipcode');
      return false;
    }

    if (!/^\+?\d{9,12}$/.test(this.form.phoneNumber.replace(/\s/g, ''))) {
      this.errorMessage.set('checkout.invalid_phone');
      return false;
    }

    return true;
  }

  continueShopping(): void {
    this.router.navigate(['/products']);
  }
}


================================================================================
FILE: src\app\pages\register\register.css
================================================================================

@import '../login/login.css';

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-4);
}

.form-hint {
  font-size: var(--text-xs);
  color: var(--text-secondary);
  margin-top: var(--space-1);
  margin-bottom: 0;
}

.success-message {
  padding: var(--space-3) var(--space-4);
  background-color: rgba(6, 122, 69, 0.1);
  color: var(--color-success);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  border-left: 4px solid var(--color-success);
}

@media (max-width: 640px) {
  .form-row {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }
}

@media (max-width: 480px) {
  .auth-form {
    gap: var(--space-3);
  }

  .auth-card {
    max-width: 100%;
  }
}

@media (max-width: 375px) {
  .auth-form {
    gap: var(--space-2);
  }

  .form-hint {
    font-size: 0.6875rem;
  }
}



================================================================================
FILE: src\app\pages\register\register.html
================================================================================

<div class="auth-container">
  <div class="auth-card">
    <div class="auth-header">
      <h1>{{ 'auth.register.title' | translate }}</h1>
      <p class="auth-subtitle">{{ 'auth.register.subtitle' | translate }}</p>
    </div>

    <form class="auth-form" (ngSubmit)="onSubmit()">
      <div class="form-row">
        <div class="form-group">
          <label for="firstname" class="form-label">
            {{ 'auth.fields.firstname' | translate }}
          </label>
          <input
            type="text"
            id="firstname"
            class="form-input"
            [placeholder]="'auth.placeholders.firstname' | translate"
            [(ngModel)]="firstname"
            name="firstname"
            [disabled]="isLoading()"
            required
            autocomplete="given-name"
          />
        </div>

        <div class="form-group">
          <label for="lastname" class="form-label">
            {{ 'auth.fields.lastname' | translate }}
          </label>
          <input
            type="text"
            id="lastname"
            class="form-input"
            [placeholder]="'auth.placeholders.lastname' | translate"
            [(ngModel)]="lastname"
            name="lastname"
            [disabled]="isLoading()"
            required
            autocomplete="family-name"
          />
        </div>
      </div>

      <div class="form-group">
        <label for="email" class="form-label">
          {{ 'auth.fields.email' | translate }}
        </label>
        <input
          type="email"
          id="email"
          class="form-input"
          [placeholder]="'auth.placeholders.email' | translate"
          [(ngModel)]="email"
          name="email"
          [disabled]="isLoading()"
          required
          autocomplete="email"
        />
      </div>

      <div class="form-group">
        <label for="password" class="form-label">
          {{ 'auth.fields.password' | translate }}
        </label>
        <div class="password-input-wrapper">
          <input
            [type]="showPassword() ? 'text' : 'password'"
            id="password"
            class="form-input"
            [placeholder]="'auth.placeholders.password' | translate"
            [(ngModel)]="password"
            name="password"
            [disabled]="isLoading()"
            required
            autocomplete="new-password"
          />
          <button
            type="button"
            class="password-toggle"
            (click)="togglePasswordVisibility()"
            [attr.aria-label]="'auth.show_password' | translate"
          >
            {{ showPassword() ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
          </button>
        </div>
        <p class="form-hint">{{ 'auth.register.password_hint' | translate }}</p>
      </div>

      <div class="form-group">
        <label for="confirmPassword" class="form-label">
          {{ 'auth.fields.confirm_password' | translate }}
        </label>
        <div class="password-input-wrapper">
          <input
            [type]="showConfirmPassword() ? 'text' : 'password'"
            id="confirmPassword"
            class="form-input"
            [placeholder]="'auth.placeholders.confirm_password' | translate"
            [(ngModel)]="confirmPassword"
            name="confirmPassword"
            [disabled]="isLoading()"
            required
            autocomplete="new-password"
          />
          <button
            type="button"
            class="password-toggle"
            (click)="toggleConfirmPasswordVisibility()"
            [attr.aria-label]="'auth.show_password' | translate"
          >
            {{ showConfirmPassword() ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
          </button>
        </div>
      </div>

      @if (successMessage()) {
        <div class="success-message">
          {{ successMessage() | translate }}
        </div>
      }

      @if (errorMessage()) {
        <div class="error-message">
          {{ errorMessage() | translate }}
        </div>
      }

      <button type="submit" class="submit-btn" [disabled]="isLoading()">
        @if (isLoading()) {
          <span class="spinner"></span>
          {{ 'auth.register.creating_account' | translate }}
        } @else {
          {{ 'auth.register.button' | translate }}
        }
      </button>

      <div class="auth-divider">
        <span>{{ 'auth.or' | translate }}</span>
      </div>

      <div class="auth-footer">
        <p>
          {{ 'auth.register.have_account' | translate }}
          <a routerLink="/login" class="link-primary">
            {{ 'auth.register.sign_in' | translate }}
          </a>
        </p>
      </div>
    </form>
  </div>
</div>



================================================================================
FILE: src\app\pages\register\register.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Register } from './register';

describe('Register', () => {
  let component: Register;
  let fixture: ComponentFixture<Register>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Register]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Register);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\register\register.ts
================================================================================

import { Component, signal } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { Router, RouterModule } from '@angular/router';
import { TranslateModule } from '@ngx-translate/core';
import { AuthService } from '../../core/services/auth.service';

@Component({
  selector: 'app-register',
  standalone: true,
  imports: [CommonModule, FormsModule, RouterModule, TranslateModule],
  templateUrl: './register.html',
  styleUrl: './register.css',
})
export class Register {
  email = signal('');
  password = signal('');
  confirmPassword = signal('');
  firstname = signal('');
  lastname = signal('');
  isLoading = signal(false);
  errorMessage = signal('');
  successMessage = signal('');
  showPassword = signal(false);
  showConfirmPassword = signal(false);

  constructor(
    private authService: AuthService,
    private router: Router,
  ) {}

  onSubmit(): void {
    this.errorMessage.set('');
    this.successMessage.set('');

    if (
      !this.email() ||
      !this.password() ||
      !this.confirmPassword() ||
      !this.firstname() ||
      !this.lastname()
    ) {
      this.errorMessage.set('auth.errors.empty_fields');
      return;
    }

    if (!this.isValidEmail(this.email())) {
      this.errorMessage.set('auth.errors.invalid_email');
      return;
    }

    if (this.password().length < 8) {
      this.errorMessage.set('auth.errors.password_too_short');
      return;
    }

    if (this.password() !== this.confirmPassword()) {
      this.errorMessage.set('auth.errors.passwords_dont_match');
      return;
    }

    this.isLoading.set(true);

    this.authService
      .register(this.email(), this.password(), this.firstname(), this.lastname())
      .subscribe({
        next: () => {
          this.isLoading.set(false);
          this.successMessage.set('auth.register.success_message');
        },
        error: (error) => {
          this.isLoading.set(false);
          this.errorMessage.set(error.message || 'auth.errors.registration_failed');
        },
      });
  }

  togglePasswordVisibility(): void {
    this.showPassword.set(!this.showPassword());
  }

  toggleConfirmPasswordVisibility(): void {
    this.showConfirmPassword.set(!this.showConfirmPassword());
  }

  private isValidEmail(email: string): boolean {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  }
}



================================================================================
FILE: src\app\pages\registration-promise\registration-promise.css
================================================================================

@import '../login/login.css';

.verification-card {
  max-width: 500px;
}

.spinner-large {
  width: 56px;
  height: 56px;
  border: 4px solid rgba(6, 122, 69, 0.15);
  border-top-color: var(--color-primary);
  border-radius: 50%;
  animation: spin 0.9s linear infinite;
}

.icon-wrapper.error {
  background-color: rgba(220, 38, 38, 0.1);
}

.error-icon {
  width: 40px;
  height: 40px;
  color: var(--color-error);
  stroke: var(--color-error);
}

.link-btn {
  background: none;
  border: none;
  color: var(--color-primary);
  font-size: var(--text-sm);
  font-weight: var(--font-semibold);
  cursor: pointer;
  text-decoration: underline;
  padding: var(--space-2) 0;
  font-family: var(--font-primary);
  min-height: 44px;
  display: inline-flex;
  align-items: center;
}

.auth-container {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px 16px;
  background: var(--color-background);
}

.auth-card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 16px;
  padding: 48px 40px;
  width: 100%;
  max-width: 480px;
  box-shadow: var(--shadow-lg);
  text-align: center;
}

.verification-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
}

.icon-wrapper {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-surface-elevated);
  margin-bottom: 8px;
}

.icon-wrapper.success {
  background: rgba(6, 122, 69, 0.12);
}

.icon-wrapper.error {
  background: rgba(220, 38, 38, 0.1);
}

.check-icon {
  width: 44px;
  height: 44px;
  stroke: var(--color-primary);
}

.error-icon {
  width: 44px;
  height: 44px;
  stroke: var(--color-error);
}

.mail-icon {
  width: 44px;
  height: 44px;
  stroke: var(--color-primary);
}

.spinner-large {
  width: 44px;
  height: 44px;
  border: 4px solid var(--color-border);
  border-top-color: var(--color-primary);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

h1 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-text-primary);
  margin: 0;
}

.verification-text {
  color: var(--color-text-secondary);
  line-height: 1.6;
  margin: 0;
}

.redirect-info {
  padding: 12px 20px;
  background: rgba(6, 122, 69, 0.08);
  border-radius: 8px;
  color: var(--color-primary);
  font-size: 0.9rem;
  font-weight: 500;
}

.verification-steps {
  display: flex;
  flex-direction: column;
  gap: 12px;
  width: 100%;
  text-align: left;
}

.step {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

.step-number {
  width: 28px;
  height: 28px;
  min-width: 28px;
  border-radius: 50%;
  background: var(--color-primary);
  color: white;
  font-size: 0.85rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
}

.step p {
  color: var(--color-text-secondary);
  margin: 0;
  padding-top: 4px;
  font-size: 0.95rem;
}

.verification-help {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  color: var(--color-text-secondary);
  font-size: 0.9rem;
}

.link-btn {
  background: none;
  border: none;
  color: var(--color-primary);
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  padding: 0;
  text-decoration: underline;
}

.back-link {
  color: var(--color-text-secondary);
  font-size: 0.9rem;
  text-decoration: none;
}

.back-link:hover {
  color: var(--color-primary);
}

.submit-btn {
  width: 100%;
  padding: 12px;
  background: var(--gradient-primary);
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
}

.error-message {
  color: var(--color-error);
  margin: 0;
}

.error-actions {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  width: 100%;
}

.link {
  color: var(--color-text-secondary);
  font-size: 0.9rem;
}

@media (max-width: 480px) {
  .auth-card {
    padding: 32px 20px;
  }
}

@media (hover: hover) and (pointer: fine) {
  .link-btn:hover {
    color: var(--color-primary-hover);
  }
}

.back-link {
  color: var(--color-primary);
  font-size: var(--text-sm);
  text-decoration: none;
  font-weight: var(--font-medium);
  min-height: 44px;
  display: inline-flex;
  align-items: center;
}

@media (hover: hover) and (pointer: fine) {
  .back-link:hover {
    text-decoration: underline;
  }
}

.error-actions {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-3);
  width: 100%;
}

.verification-help {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--text-sm);
  color: var(--text-secondary);
  text-align: center;
}

@media (max-width: 480px) {
  .verification-card {
    max-width: 100%;
  }

  .spinner-large {
    width: 48px;
    height: 48px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .spinner-large {
    animation: none;
    border-top-color: var(--color-primary);
    opacity: 0.6;
  }
}



================================================================================
FILE: src\app\pages\registration-promise\registration-promise.html
================================================================================

<div class="auth-container">
  <div class="auth-card verification-card">
    @if (!token() && !isVerifying() && !isVerified() && !errorMessage()) {
      <div class="verification-content">
        <div class="icon-wrapper">
          <svg class="mail-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
            />
          </svg>
        </div>

        <h1>{{ 'auth.email.check_inbox' | translate }}</h1>
        <p class="verification-text">{{ 'auth.email.sent_message' | translate }}</p>

        <div class="verification-steps">
          <div class="step">
            <span class="step-number">1</span>
            <p>{{ 'auth.email.step_1' | translate }}</p>
          </div>
          <div class="step">
            <span class="step-number">2</span>
            <p>{{ 'auth.email.step_2' | translate }}</p>
          </div>
          <div class="step">
            <span class="step-number">3</span>
            <p>{{ 'auth.email.step_3' | translate }}</p>
          </div>
        </div>

        <div class="verification-help">
          <p>{{ 'auth.email.no_email' | translate }}</p>
          <button class="link-btn" (click)="resendEmail()">
            {{ 'auth.email.resend' | translate }}
          </button>
        </div>

        <a routerLink="/login" class="back-link">
          {{ 'auth.email.back_to_login' | translate }}
        </a>
      </div>
    }

    @if (isVerifying()) {
      <div class="verification-content">
        <div class="icon-wrapper">
          <div class="spinner-large"></div>
        </div>

        <h1>{{ 'auth.email.verifying' | translate }}</h1>
        <p class="verification-text">{{ 'auth.email.verifying_message' | translate }}</p>
      </div>
    }

    @if (isVerified() && !errorMessage()) {
      <div class="verification-content">
        <div class="icon-wrapper success">
          <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="3"
              d="M5 13l4 4L19 7"
            />
          </svg>
        </div>

        <h1>{{ 'auth.email.verified' | translate }}</h1>
        <p class="verification-text">{{ 'auth.email.verified_message' | translate }}</p>

        <div class="redirect-info">
          <p>{{ 'auth.email.redirecting' | translate }}</p>
        </div>
      </div>
    }

    @if (errorMessage()) {
      <div class="verification-content">
        <div class="icon-wrapper error">
          <svg class="error-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="12" cy="12" r="10" stroke-width="2" />
            <path stroke-linecap="round" stroke-width="2" d="M12 8v4M12 16h.01" />
          </svg>
        </div>

        <h1>{{ 'auth.email.verification_failed' | translate }}</h1>
        <p class="error-message">{{ errorMessage() | translate }}</p>

        <div class="error-actions">
          <button class="submit-btn" (click)="resendEmail()">
            {{ 'auth.email.try_again' | translate }}
          </button>
          <a routerLink="/register" class="link">
            {{ 'auth.email.back_to_register' | translate }}
          </a>
        </div>
      </div>
    }
  </div>
</div>



================================================================================
FILE: src\app\pages\registration-promise\registration-promise.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { RegistrationPromise } from './registration-promise';

describe('RegistrationPromise', () => {
  let component: RegistrationPromise;
  let fixture: ComponentFixture<RegistrationPromise>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [RegistrationPromise]
    })
    .compileComponents();

    fixture = TestBed.createComponent(RegistrationPromise);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\registration-promise\registration-promise.ts
================================================================================

import { Component, OnInit, signal, inject } from '@angular/core';
import { CommonModule, Location } from '@angular/common';
import { ActivatedRoute, Router, RouterModule } from '@angular/router';
import { TranslateModule } from '@ngx-translate/core';
import { AuthService } from '../../core/services/auth.service';

@Component({
  selector: 'app-registration-promise',
  standalone: true,
  imports: [CommonModule, RouterModule, TranslateModule],
  templateUrl: './registration-promise.html',
  styleUrl: './registration-promise.css',
})
export class RegistrationPromise implements OnInit {
  private location = inject(Location);

  isVerifying = signal(false);
  isVerified = signal(false);
  errorMessage = signal('');
  userId = signal<string>('');
  token = signal<string>('');

  constructor(
    private route: ActivatedRoute,
    private router: Router,
    private authService: AuthService,
  ) {}

  ngOnInit(): void {
    const raw = new URLSearchParams(window.location.search).get('activate') || '';
    const parts = raw.split(';');

    if (!raw) {
      this.errorMessage.set('auth.errors.invalid_verification_link');
      return;
    }

    if (parts.length !== 2) {
      this.errorMessage.set('auth.errors.invalid_verification_link');
      return;
    }

    const id = parts[0].trim();
    const token = parts[1].trim();

    if (!id || !token) {
      this.errorMessage.set('auth.errors.invalid_verification_link');
      return;
    }

    const cleanUrl = `/registration-promise?activate=${id};${token}`;
    this.location.replaceState(cleanUrl);

    this.userId.set(id);
    this.token.set(token);
    this.verifyEmail();
  }

  verifyEmail(): void {
    this.isVerifying.set(true);
    this.errorMessage.set('');

    const id = this.userId();
    const token = this.token();

    if (!id || !token) {
      this.errorMessage.set('auth.errors.invalid_verification_link');
      this.isVerifying.set(false);
      return;
    }

    this.authService.completeRegistration(id, token, true).subscribe({
      next: () => {
        this.isVerifying.set(false);
        this.isVerified.set(true);
        setTimeout(() => {
          this.router.navigate(['/home']);
        }, 2500);
      },
      error: (error) => {
        this.isVerifying.set(false);
        this.errorMessage.set(error.message || 'auth.errors.verification_failed');
      },
    });
  }

  resendEmail(): void {
    this.router.navigate(['/register']);
  }
}



================================================================================
FILE: src\app\pages\test\test.css
================================================================================




================================================================================
FILE: src\app\pages\test\test.html
================================================================================

<p>===================================== TEST =================================</p>
<app-primary-btn>{{ 'header.home' | translate }}</app-primary-btn>
<p>===================================== TEST =================================</p>



================================================================================
FILE: src\app\pages\test\test.spec.ts
================================================================================

import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Test } from './test';

describe('Test', () => {
  let component: Test;
  let fixture: ComponentFixture<Test>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Test]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Test);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});



================================================================================
FILE: src\app\pages\test\test.ts
================================================================================

import { Component } from '@angular/core';
import { PrimaryBtn } from '../../shared/components/primary-btn/primary-btn';
import { TranslateModule } from '@ngx-translate/core';

@Component({
  selector: 'app-test',
  imports: [PrimaryBtn, TranslateModule],
  templateUrl: './test.html',
  styleUrl: './test.css',
})
export class Test {}



================================================================================
FILE: src\app\services\product.service.ts
================================================================================

import { Injectable, signal, computed, inject } from '@angular/core';
import { HttpClient, HttpErrorResponse } from '@angular/common/http';
import { Observable, throwError, firstValueFrom, of } from 'rxjs';
import { catchError, map, timeout } from 'rxjs/operators';
import {
  Product,
  ProductCategory,
  ProductCategoriesApiResponse,
  ProductsApiResponse,
  ProductWithHelpers,
  Category,
  enrichProduct,
  mapProductCategory,
  ProductFilterOptions,
  PaginationConfig,
  SortOption,
} from '../core/models/product.model';
import { TranslationService } from '../core/services/translation.service';
import { environment } from '../../environments/environment';

@Injectable({
  providedIn: 'root',
})
export class ProductService {
  private readonly API_URL = environment.baseURL;
  private http = inject(HttpClient);
  private translationService = inject(TranslationService);

  private allProductsSignal = signal<ProductWithHelpers[]>([]);
  private rawProducts = signal<Product[]>([]);
  private featuredSignal = signal<ProductWithHelpers[]>([]);
  private categoriesSignal = signal<Category[]>([]);
  private loadingSignal = signal<boolean>(false);
  private errorSignal = signal<string | null>(null);

  private filtersSignal = signal<ProductFilterOptions>({
    categories: [],
    priceRange: null,
    inStockOnly: false,
    sortBy: 'popularity',
  });
  private currentPageSignal = signal<number>(1);
  private itemsPerPageSignal = signal<number>(30);

  // --- Public readonly signals ---
  products = computed(() => this.allProductsSignal());
  featuredProducts = computed(() => this.featuredSignal());
  categories = computed(() => this.categoriesSignal());
  currentFilters = computed(() => this.filtersSignal());
  isLoading = computed(() => this.loadingSignal());
  error = computed(() => this.errorSignal());

  private filteredProducts = computed(() => {
    let products = this.allProductsSignal();
    const filters = this.filtersSignal();

    if (filters.categories && filters.categories.length > 0) {
      products = products.filter((p) => filters.categories!.includes(p.category));
    }

    if (filters.priceRange) {
      const { min, max } = filters.priceRange;
      products = products.filter((p) => p.price >= min && p.price <= max);
    }

    if (filters.inStockOnly) {
      products = products.filter((p) => p.inStock);
    }

    if (filters.sortBy) {
      products = this.sortProducts(products, filters.sortBy);
    }

    return products;
  });

  paginationState = computed<PaginationConfig>(() => {
    const totalItems = this.filteredProducts().length;
    const itemsPerPage = this.itemsPerPageSignal();
    const currentPage = this.currentPageSignal();
    const totalPages = Math.ceil(totalItems / itemsPerPage);
    return { currentPage, itemsPerPage, totalItems, totalPages };
  });

  paginatedProducts = computed(() => {
    const filtered = this.filteredProducts();
    const page = this.currentPageSignal();
    const perPage = this.itemsPerPageSignal();
    const start = (page - 1) * perPage;
    return filtered.slice(start, start + perPage);
  });

  // --- Load methods ---

  async loadProducts(): Promise<void> {
    this.loadingSignal.set(true);
    this.errorSignal.set(null);
    try {
      const products = await firstValueFrom(this.getAllProducts());
      const currentLang = this.translationService.getCurrentLanguage();
      const categoryIdMap = this.buildCategoryIdMap();
      const normalized = products.map((p) => this.normalizeCategoryId(p, categoryIdMap));
      const enriched = normalized.map((p) => enrichProduct(p, currentLang));
      this.rawProducts.set(normalized);
      this.allProductsSignal.set(enriched);
      this.updateCategoryCounts();
      console.log(`Loaded ${products.length} products from backend`);
    } catch (err) {
      console.error('Failed to load products from backend:', err);
      this.errorSignal.set('products.error.load_failed');
      this.allProductsSignal.set([]);
      this.rawProducts.set([]);
    } finally {
      this.loadingSignal.set(false);
    }
  }

  async loadFeaturedProducts(): Promise<void> {
    try {
      const products = await firstValueFrom(this.getFeaturedFromApi());
      const currentLang = this.translationService.getCurrentLanguage();
      const categoryIdMap = this.buildCategoryIdMap();
      const normalized = products.map((p) => this.normalizeCategoryId(p, categoryIdMap));
      const enriched = normalized.map((p) => enrichProduct(p, currentLang));
      this.featuredSignal.set(enriched);
      console.log(`Loaded ${products.length} featured products from backend`);
    } catch (err) {
      // Fallback: derive featured from already-loaded products
      const fallback = this.allProductsSignal().filter((p) => p.isFeatured);
      this.featuredSignal.set(fallback);
      console.warn(
        'Featured products endpoint unavailable, using loaded products as fallback:',
        err,
      );
    }
  }

  async loadCategories(): Promise<void> {
    try {
      const raw = await firstValueFrom(this.getAllCategories());
      const mapped = raw.map(mapProductCategory);
      this.categoriesSignal.set(mapped);
      this.updateCategoryCounts();
      console.log(`Loaded ${raw.length} categories from backend`);
    } catch (err) {
      console.error('Failed to load categories from backend:', err);
      this.categoriesSignal.set([]);
    }
  }

  // --- Filter / Pagination controls ---

  setFilters(filters: Partial<ProductFilterOptions>): void {
    this.filtersSignal.update((current) => ({ ...current, ...filters }));
    this.currentPageSignal.set(1);
  }

  clearFilters(): void {
    this.filtersSignal.set({
      categories: [],
      priceRange: null,
      inStockOnly: false,
      sortBy: 'popularity',
    });
    this.currentPageSignal.set(1);
  }

  setPage(page: number): void {
    const totalPages = this.paginationState().totalPages;
    if (page >= 1 && page <= totalPages) this.currentPageSignal.set(page);
  }

  setItemsPerPage(count: number): void {
    this.itemsPerPageSignal.set(count);
    this.currentPageSignal.set(1);
  }

  // --- API calls ---

  getAllProducts(): Observable<Product[]> {
    return this.http.get<ProductsApiResponse>(`${this.API_URL}/api/get_all_products`).pipe(
      timeout(5000),
      map((r) => {
        if (r.statuscode !== '200') throw new Error(`API Error: ${r.status}`);
        if (!Array.isArray(r.products)) throw new Error('Invalid products response');
        return r.products;
      }),
      catchError(this.handleError),
    );
  }

  getAllCategories(): Observable<ProductCategory[]> {
    return this.http
      .get<ProductCategoriesApiResponse>(`${this.API_URL}/api/get_all_product_categories`)
      .pipe(
        timeout(5000),
        map((r) => {
          if (r.statuscode !== '200') throw new Error(`API Error: ${r.status}`);
          if (!Array.isArray(r.product_categories)) throw new Error('Invalid categories response');
          return r.product_categories;
        }),
        catchError(this.handleError),
      );
  }

  getFeaturedFromApi(): Observable<Product[]> {
    return this.http.get<ProductsApiResponse>(`${this.API_URL}/api/get_all_featured_products`).pipe(
      timeout(5000),
      map((r) => {
        if (r.statuscode !== '200') throw new Error(`API Error: ${r.status}`);
        if (!Array.isArray(r.products)) throw new Error('Invalid featured response');
        return r.products;
      }),
      catchError(this.handleError),
    );
  }

  getProductById(id: string): Observable<Product | undefined> {
    return this.getAllProducts().pipe(
      map((products) => products.find((p) => p.id === id)),
      catchError(() => of(undefined)),
    );
  }

  getProductsByCategory(categoryId: string): Observable<Product[]> {
    return this.getAllProducts().pipe(
      map((products) => products.filter((p) => (p.category ?? p.category_id) === categoryId)),
      catchError(() => of([])),
    );
  }

  getInStockProducts(): Observable<Product[]> {
    return this.getAllProducts().pipe(
      map((products) => products.filter((p) => parseInt(p.stock) > 0)),
      catchError(() => of([])),
    );
  }

  searchProducts(query: string): Observable<Product[]> {
    const q = query.toLowerCase();
    return this.getAllProducts().pipe(
      map((products) =>
        products.filter(
          (p) =>
            p.name_en.toLowerCase().includes(q) ||
            p.name_hu.toLowerCase().includes(q) ||
            p.name_de.toLowerCase().includes(q),
        ),
      ),
      catchError(() => of([])),
    );
  }

  getSaleProducts(): Observable<Product[]> {
    return this.getAllProducts().pipe(
      map((p) => p.filter((x) => parseFloat(x.sale_percentage) > 0)),
      catchError(() => of([])),
    );
  }

  // --- Private helpers ---

  /**
   * Builds a map from category numeric ID â†’ id string.
   * Used to normalize product.category / product.category_id fields.
   */
  private buildCategoryIdMap(): Map<string, string> {
    const map = new Map<string, string>();
    this.categoriesSignal().forEach((cat) => {
      map.set(cat.id, cat.id);
    });
    return map;
  }

  /**
   * Counts how many products belong to each category and updates
   * the categories signal with the real counts.
   */
  private updateCategoryCounts(): void {
    const products = this.allProductsSignal();
    const categories = this.categoriesSignal();
    if (categories.length === 0) return;

    const countMap = new Map<string, number>();
    products.forEach((p) => {
      const catId = p.category_id ?? p.category ?? '';
      if (catId) {
        countMap.set(catId, (countMap.get(catId) ?? 0) + 1);
      }
    });

    const updated = categories.map((cat) => ({
      ...cat,
      count: countMap.get(cat.id) ?? 0,
    }));
    this.categoriesSignal.set(updated);
  }

  /**
   * Returns the Category object for a given category ID.
   * Used by product detail components to display the category name
   * instead of using the raw ID as a translation key.
   */
  getCategoryById(id: string): import('../core/models/product.model').Category | undefined {
    return this.categoriesSignal().find((cat) => cat.id === id);
  }

  /**
   * Ensures product.category is set to a consistent category ID string.
   * Handles backends that return `category_id` separately from `category`.
   */
  private normalizeCategoryId(product: Product, _idMap: Map<string, string>): Product {
    const resolved = product.category ?? product.category_id ?? '';
    return { ...product, category: resolved };
  }

  private sortProducts(products: ProductWithHelpers[], sortBy: SortOption): ProductWithHelpers[] {
    const sorted = [...products];
    switch (sortBy) {
      case 'popularity':
        return sorted.sort((a, b) => parseFloat(b.times_ordered) - parseFloat(a.times_ordered));
      case 'price-asc':
        return sorted.sort((a, b) => a.price - b.price);
      case 'price-desc':
        return sorted.sort((a, b) => b.price - a.price);
      case 'name-asc':
        return sorted.sort((a, b) => a.name.localeCompare(b.name));
      case 'name-desc':
        return sorted.sort((a, b) => b.name.localeCompare(a.name));
      case 'rating':
      case 'rating-desc':
        return sorted.sort((a, b) => b.ratingNumber - a.ratingNumber);
      case 'newest':
        return sorted.sort(
          (a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime(),
        );
      default:
        return sorted;
    }
  }

  private handleError(error: HttpErrorResponse): Observable<never> {
    let msg = 'An unknown error occurred';
    if (error.error instanceof ErrorEvent) {
      msg = error.error.message;
    } else {
      const codes: Record<number, string> = {
        400: 'Bad request',
        404: 'Not found',
        500: 'Server error',
      };
      msg = codes[error.status] ?? `Error ${error.status}: ${error.message}`;
    }
    console.error('ProductService Error:', msg);
    return throwError(() => new Error(msg));
  }
}



================================================================================
FILE: src\app\shared\components\category-bar\category-bar.css
================================================================================

.category-bar {
  width: 100%;
  background: var(--color-surface);
  border-bottom: 1px solid var(--color-border);
  padding: var(--space-4) 0;
}

.category-bar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 var(--space-6);
  margin-bottom: var(--space-3);
}

.category-title {
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.clear-button {
  padding: var(--space-2) var(--space-4);
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
  font-family: var(--font-primary);
}

.clear-button:hover {
  background: var(--color-primary-light);
  border-color: var(--color-primary);
  color: var(--color-primary);
}

.category-bar-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.scroll-button {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow-md);
  display: flex;
  justify-content: center;
  cursor: pointer;
  font-size: var(--text-2xl);
  line-height: 1;
  color: var(--color-text-primary);
  transition: all var(--transition-fast);
  z-index: var(--z-dropdown);
  font-family: var(--font-primary);
}

.scroll-button:hover {
  background: var(--color-primary);
  color: var(--color-text-on-primary);
  border-color: var(--color-primary);
}

.scroll-left {
  left: var(--space-4);
}

.scroll-right {
  right: var(--space-4);
}

.categories-scroll {
  flex: 1;
  overflow-x: auto;
  overflow-y: hidden;
  scrollbar-width: none;
  -ms-overflow-style: none;
  padding: 0 var(--space-16);
}

.categories-scroll::-webkit-scrollbar {
  display: none;
}

.categories-container {
  display: flex;
  gap: var(--space-3);
  padding: var(--space-2) 0;
  min-width: min-content;
}

/* Responsive */
@media (max-width: 768px) {
  .category-bar-header {
    padding: 0 var(--space-4);
  }

  .scroll-button {
    width: 32px;
    height: 32px;
    font-size: var(--text-xl);
  }

  .scroll-left {
    left: var(--space-2);
  }

  .scroll-right {
    right: var(--space-2);
  }

  .categories-scroll {
    padding: 0 var(--space-12);
  }
}

@media (max-width: 480px) {
  .category-bar {
    padding: var(--space-3) 0;
  }

  .category-bar-header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
  }

  .scroll-button {
    display: none;
  }

  .categories-scroll {
    padding: 0 var(--space-4);
  }
}



================================================================================
FILE: src\app\shared\components\category-bar\category-bar.html
================================================================================

@if (categories.length > 0) {
  <div class="category-bar">
    <div class="category-bar-header">
      <h3 class="category-title">{{ 'category.filter_by' | translate }}</h3>

      @if (selectedCategories.length > 0) {
        <button
          class="clear-button"
          (click)="handleClearAll()"
          [attr.aria-label]="'category.clear_all' | translate"
        >
          {{ 'category.clear_all' | translate }}
        </button>
      }
    </div>

    <div class="category-bar-wrapper">
      <button
        class="scroll-button scroll-left"
        (click)="scrollLeft()"
        [attr.aria-label]="'common.scroll_left' | translate"
      >
        â€¹
      </button>

      <div class="categories-scroll">
        <div class="categories-container">
          @for (category of categories; track category.id) {
            <app-category-item
              [category]="category"
              [isSelected]="isCategorySelected(category.id)"
              (categoryClick)="handleCategoryClick($event)"
            />
          }
        </div>
      </div>

      <button
        class="scroll-button scroll-right"
        (click)="scrollRight()"
        [attr.aria-label]="'common.scroll_right' | translate"
      >
        â€º
      </button>
    </div>
  </div>
}



================================================================================
FILE: src\app\shared\components\category-bar\category-bar.ts
================================================================================

import { CommonModule } from '@angular/common';
import { Component, EventEmitter, Input, Output, signal } from '@angular/core';
import { TranslateModule } from '@ngx-translate/core';
import { Category } from '../../../core/models/product.model';
import { CategoryItem } from '../category-item/category-item';

@Component({
  selector: 'app-category-bar',
  imports: [CommonModule, TranslateModule, CategoryItem],
  templateUrl: './category-bar.html',
  styleUrl: './category-bar.css',
})
export class CategoryBar {
  @Input({ required: true }) categories: Category[] = [];
  @Input() selectedCategories: string[] = [];
  @Output() categorySelected = new EventEmitter<string>();
  @Output() clearCategories = new EventEmitter<void>();

  scrollPosition = signal(0);

  isCategorySelected(categoryId: string): boolean {
    return this.selectedCategories.includes(categoryId);
  }

  handleCategoryClick(category: Category): void {
    this.categorySelected.emit(category.id);
  }

  handleClearAll(): void {
    this.clearCategories.emit();
  }

  scrollLeft(): void {
    const container = document.querySelector('.categories-scroll') as HTMLElement;
    if (container) {
      container.scrollBy({ left: -200, behavior: 'smooth' });
    }
  }

  scrollRight(): void {
    const container = document.querySelector('.categories-scroll') as HTMLElement;
    if (container) {
      container.scrollBy({ left: 200, behavior: 'smooth' });
    }
  }
}



================================================================================
FILE: src\app\shared\components\category-item\category-item.css
================================================================================

.category-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-5);
  background: var(--color-surface);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-full);
  cursor: pointer;
  font-family: var(--font-primary);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
  transition: all var(--transition-fast);
  white-space: nowrap;
  user-select: none;
}

.category-item:hover {
  background: var(--color-primary-light);
  border-color: var(--color-primary);
  transform: translateY(-1px);
}

.category-item:active {
  transform: translateY(0);
}

.category-item.active {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-text-on-primary);
  box-shadow: var(--shadow-md);
}

.category-icon {
  font-size: var(--text-lg);
  display: flex;
  align-items: center;
  justify-content: center;
}

.category-name {
  line-height: 1;
}

.category-count {
  font-size: var(--text-xs);
  opacity: 0.8;
  font-weight: var(--font-normal);
}

/* Responsive */
@media (max-width: 640px) {
  .category-item {
    padding: var(--space-2) var(--space-4);
    font-size: var(--text-xs);
  }
}



================================================================================
FILE: src\app\shared\components\category-item\category-item.html
================================================================================

<button
  class="category-item"
  [class.active]="isSelected"
  (click)="handleClick()"
  [attr.aria-label]="displayName"
  [attr.aria-pressed]="isSelected"
>
  @if (category.icon) {
    <span class="category-icon">{{ category.icon }}</span>
  }

  <span class="category-name">{{ displayName }}</span>

  <span class="category-count">({{ category.count }})</span>
</button>



================================================================================
FILE: src\app\shared\components\category-item\category-item.ts
================================================================================

import { CommonModule } from '@angular/common';
import { Component, EventEmitter, Input, Output, inject } from '@angular/core';
import { TranslateService } from '@ngx-translate/core';
import { Category } from '../../../core/models/product.model';

@Component({
  selector: 'app-category-item',
  imports: [CommonModule],
  templateUrl: './category-item.html',
  styleUrl: './category-item.css',
})
export class CategoryItem {
  @Input({ required: true }) category!: Category;
  @Input() isSelected = false;
  @Output() categoryClick = new EventEmitter<Category>();

  private translateService = inject(TranslateService);

  /**
   * Returns the category name in the currently active language.
   * Falls back to English if the localized name is missing.
   */
  get displayName(): string {
    const lang = this.translateService.currentLang || 'hu';

    switch (lang) {
      case 'hu':
        return this.category.name_hu || this.category.name_en;
      case 'de':
        return this.category.name_de || this.category.name_en;
      default:
        return this.category.name_en;
    }
  }

  handleClick(): void {
    this.categoryClick.emit(this.category);
  }
}



================================================================================
FILE: src\app\shared\components\featured\featured.css
================================================================================

:host {
  display: block;
  width: 100%;
}

.featured-section {
  width: 100%;
  max-width: 90%;
  background-color: var(--color-featured-bg);
  position: relative;
  padding: 60px clamp(12px, 3vw, 40px);
  margin: 0 auto;
}

.featured-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--color-featured-divider) 10%,
    var(--color-featured-divider) 90%,
    transparent 100%
  );
}

.featured-section::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--color-featured-divider) 10%,
    var(--color-featured-divider) 90%,
    transparent 100%
  );
}

.featured-header {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: clamp(32px, 5vw, 60px);
}

.section-title {
  font-family: 'Inconsolata', monospace;
  font-size: clamp(20px, 3.5vw, 34px);
  font-weight: 700;
  letter-spacing: 3px;
  text-align: center;
  color: var(--text-primary);
  text-transform: uppercase;
  position: relative;
  margin: 0;
}

.section-title::after {
  content: '';
  display: block;
  width: 60px;
  height: 2px;
  background: var(--color-primary);
  margin: 12px auto 0;
}

.featured-products-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: clamp(14px, 2vw, 28px);
  align-items: stretch;
}

.featured-show-more {
  display: none;
}

@media (max-width: 1200px) {
  .featured-products-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (max-width: 900px) {
  .featured-products-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (max-width: 768px) {
  .featured-section {
    padding: 40px 12px;
  }

  .featured-products-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }
}

@media (max-width: 480px) {
  .featured-section {
    padding: 32px 10px;
  }

  .section-title {
    letter-spacing: 2px;
  }

  .featured-products-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
  }

  .featured-products-grid:not(.show-all) > :nth-child(n + 5) {
    display: none;
  }

  .featured-show-more {
    display: flex;
    justify-content: center;
    padding-top: 20px;
  }

  .show-more-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: transparent;
    border: 1.5px solid var(--color-primary);
    color: var(--color-primary);
    font-size: 0.9rem;
    font-weight: 600;
    padding: 10px 24px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .show-more-btn:hover {
    background: var(--color-primary);
    color: white;
  }

  .show-more-arrow {
    display: inline-block;
    transition: transform 0.3s ease;
    font-size: 1rem;
  }

  .show-more-arrow.rotated {
    transform: rotate(180deg);
  }
}

@media (max-width: 360px) {
  .featured-products-grid {
    gap: 8px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .show-more-arrow {
    transition: none;
  }
}



================================================================================
FILE: src\app\shared\components\featured\featured.html
================================================================================

<section class="featured-section">
  <div class="featured-header">
    <h2 class="section-title">{{ 'home.featured.title' | translate }}</h2>
  </div>

  <div class="featured-products-grid" [class.show-all]="showAll()">
    <ng-content></ng-content>
  </div>

  <div class="featured-show-more">
    <button class="show-more-btn" (click)="toggleShowAll()">
      {{ (showAll() ? 'home.featured.showLess' : 'home.featured.showMore') | translate }}
      <span class="show-more-arrow" [class.rotated]="showAll()">â†“</span>
    </button>
  </div>
</section>



================================================================================
FILE: src\app\shared\components\featured\featured.ts
================================================================================

import { Component, signal } from '@angular/core';
import { CommonModule } from '@angular/common';
import { TranslateModule } from '@ngx-translate/core';

@Component({
  selector: 'app-featured',
  standalone: true,
  imports: [CommonModule, TranslateModule],
  templateUrl: './featured.html',
  styleUrl: './featured.css',
})
export class Featured {
  showAll = signal(false);

  toggleShowAll(): void {
    this.showAll.set(!this.showAll());
  }
}



================================================================================
FILE: src\app\shared\components\featured-product-card\featured-product-card.css
================================================================================

:host {
  display: block;
  min-width: 0;
}

.featured-product-card {
  width: 100%;
  min-width: 0;
  height: auto;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 16px;
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.06),
    0 1px 2px rgba(0, 0, 0, 0.04);
  transition:
    transform 0.38s cubic-bezier(0.34, 1.56, 0.64, 1),
    box-shadow 0.38s cubic-bezier(0.4, 0, 0.2, 1),
    border-color 0.25s ease;
  position: relative;
  overflow: hidden;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  isolation: isolate;
}

.featured-product-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    rgba(6, 122, 69, 0.07) 0%,
    rgba(6, 122, 69, 0.03) 40%,
    transparent 70%
  );
  opacity: 0;
  transition: opacity 0.38s ease;
  z-index: 0;
  pointer-events: none;
}

.featured-product-card::after {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: 17px;
  background: linear-gradient(135deg, var(--color-primary), transparent 60%);
  opacity: 0;
  transition: opacity 0.38s ease;
  z-index: -1;
  pointer-events: none;
}

@media (hover: hover) and (pointer: fine) {
  .featured-product-card:hover {
    transform: translateY(-10px) scale(1.025);
    box-shadow:
      0 20px 40px rgba(6, 122, 69, 0.15),
      0 8px 16px rgba(0, 0, 0, 0.1),
      0 2px 4px rgba(0, 0, 0, 0.06);
    border-color: var(--color-primary);
  }

  .featured-product-card:hover::before {
    opacity: 1;
  }

  .featured-product-card:hover::after {
    opacity: 0.25;
  }

  .featured-product-card:hover .featured-product-image {
    transform: scale(1.07) translateY(-2px);
    filter: drop-shadow(0 8px 12px rgba(0, 0, 0, 0.15));
  }

  .featured-product-card:hover .featured-product-name {
    color: var(--color-primary);
  }
}

@media (hover: none) {
  .featured-product-card:active {
    transform: scale(0.985);
    border-color: var(--color-primary);
    box-shadow:
      0 8px 20px rgba(6, 122, 69, 0.12),
      0 2px 6px rgba(0, 0, 0, 0.08);
  }
}

.featured-product-image-wrapper {
  position: relative;
  width: 100%;
  height: 220px;
  background: var(--color-surface-elevated);
  border-bottom: 1px solid var(--color-border);
  overflow: hidden;
  padding: 20px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  z-index: 1;
}

.featured-product-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
  transition:
    transform 0.45s cubic-bezier(0.34, 1.2, 0.64, 1),
    filter 0.38s ease;
}

.featured-product-card-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 220px;
  flex-shrink: 0;
  background: var(--color-surface-elevated);
  border-bottom: 1px solid var(--color-border);
  color: var(--text-secondary);
  gap: 16px;
  z-index: 1;
}

.featured-placeholder-icon {
  width: 70px;
  height: 70px;
  border: 3px solid var(--text-secondary);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 36px;
  font-weight: 700;
  opacity: 0.35;
  font-family: 'Inconsolata', monospace;
}

.featured-placeholder-text {
  font-family: 'Inconsolata', monospace;
  font-size: 14px;
  font-weight: 500;
  letter-spacing: 3px;
  text-transform: uppercase;
  opacity: 0.45;
}

.featured-badges {
  position: absolute;
  top: 12px;
  right: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 10;
}

.featured-badge {
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 0.72rem;
  font-weight: 700;
  text-align: center;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  color: white;
  letter-spacing: 0.5px;
}

.featured-badge-discount {
  background: var(--color-error);
}

.featured-badge-prescription {
  background: var(--color-primary);
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  padding: 0;
}

.featured-product-info {
  padding: 18px 16px 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  flex: 1;
  position: relative;
  z-index: 1;
}

.featured-product-name {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  transition: color 0.25s ease;
}

.featured-product-price-row {
  display: flex;
  align-items: baseline;
  gap: 8px;
  margin-top: 6px;
  flex-wrap: wrap;
}

.featured-product-price {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-primary);
  letter-spacing: -0.5px;
}

.featured-product-old-price {
  font-size: 0.95rem;
  color: var(--text-secondary);
  text-decoration: line-through;
}

.featured-product-stock {
  margin-top: auto;
  padding-top: 10px;
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 0.875rem;
  font-weight: 500;
}

.featured-stock-in {
  color: var(--color-success);
}

.featured-stock-out {
  color: var(--color-error);
}

.featured-stock-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

.featured-stock-in .featured-stock-indicator {
  background-color: var(--color-success);
  box-shadow: 0 0 0 3px rgba(6, 122, 69, 0.15);
  animation: pulse-stock 2.5s ease-in-out infinite;
}

.featured-stock-out .featured-stock-indicator {
  background-color: var(--color-error);
}

@keyframes pulse-stock {
  0%,
  100% {
    box-shadow: 0 0 0 3px rgba(6, 122, 69, 0.15);
  }
  50% {
    box-shadow: 0 0 0 6px rgba(6, 122, 69, 0.06);
  }
}

@media (max-width: 768px) {
  .featured-product-image-wrapper,
  .featured-product-card-placeholder {
    height: 190px;
    padding: 14px;
  }

  .featured-product-info {
    padding: 14px;
    gap: 6px;
  }

  .featured-product-name {
    font-size: 1rem;
  }

  .featured-product-price {
    font-size: 1.3rem;
  }

  .featured-product-old-price {
    font-size: 0.875rem;
  }
}

@media (max-width: 480px) {
  .featured-product-card {
    border-radius: 12px;
  }

  .featured-product-image-wrapper,
  .featured-product-card-placeholder {
    height: 170px;
    padding: 10px;
  }

  .featured-product-info {
    padding: 12px;
  }

  .featured-product-name {
    font-size: 0.9375rem;
  }

  .featured-product-price {
    font-size: 1.2rem;
  }

  .featured-stock-indicator {
    width: 7px;
    height: 7px;
  }

  .featured-product-stock {
    font-size: 0.8125rem;
  }
}

@media (max-width: 320px) {
  .featured-product-image-wrapper,
  .featured-product-card-placeholder {
    height: 150px;
  }

  .featured-product-price {
    font-size: 1.1rem;
  }

  .featured-placeholder-icon {
    width: 52px;
    height: 52px;
    font-size: 28px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .featured-product-card,
  .featured-product-card::before,
  .featured-product-card::after,
  .featured-product-image,
  .featured-product-name {
    transition: none;
    animation: none;
  }

  .featured-stock-in .featured-stock-indicator {
    animation: none;
    box-shadow: 0 0 0 3px rgba(6, 122, 69, 0.15);
  }
}



================================================================================
FILE: src\app\shared\components\featured-product-card\featured-product-card.html
================================================================================

<div class="featured-product-card" (click)="onCardClick()">
  <div class="featured-product-image-wrapper">
    <img *ngIf="imageUrl()" [src]="imageUrl()" [alt]="altText()" class="featured-product-image" />

    <div class="featured-badges" *ngIf="discountPercentage() || requiresPrescription()">
      <span *ngIf="discountPercentage()" class="featured-badge featured-badge-discount">
        -{{ discountPercentage() }}%
      </span>
      <span
        *ngIf="requiresPrescription()"
        class="featured-badge featured-badge-prescription"
        [title]="'product.requires_prescription' | translate"
      >
        â„
      </span>
    </div>
  </div>

  <div *ngIf="!imageUrl()" class="featured-product-card-placeholder">
    <div class="featured-placeholder-icon">?</div>
    <div class="featured-placeholder-text">{{ 'product.no_image' | translate }}</div>
  </div>

  <div class="featured-product-info" *ngIf="productName()">
    <h3 class="featured-product-name">{{ productName() }}</h3>

    <div class="featured-product-price-row">
      <span class="featured-product-price">{{ price() | appCurrency }}</span>
      <span class="featured-product-old-price" *ngIf="oldPrice()">
        {{ oldPrice() | appCurrency }}
      </span>
    </div>

    <div
      class="featured-product-stock"
      [class.featured-stock-in]="inStock()"
      [class.featured-stock-out]="!inStock()"
    >
      <span class="featured-stock-indicator"></span>
      <span>{{ (inStock() ? 'product.in_stock' : 'product.out_of_stock') | translate }}</span>
    </div>
  </div>
</div>



================================================================================
FILE: src\app\shared\components\featured-product-card\featured-product-card.ts
================================================================================

import { CommonModule, NgIf } from '@angular/common';
import { Component, EventEmitter, Input, Output, inject, computed } from '@angular/core';
import { TranslateModule, TranslateService } from '@ngx-translate/core';
import { CurrencyService } from '../../../core/services/currency.service';
import { ProductWithHelpers } from '../../../core/models/product.model';
import { CurrencyPipe } from '../../pipes/currency.pipe';
import { IMAGES } from '../../../core/constants/visuals';

@Component({
  selector: 'app-featured-product-card',
  imports: [CommonModule, NgIf, TranslateModule, CurrencyPipe],
  templateUrl: './featured-product-card.html',
  styleUrl: './featured-product-card.css',
})
export class FeaturedProductCard {
  @Input() product!: ProductWithHelpers;
  @Output() cardClick = new EventEmitter<void>();

  private currencyService = inject(CurrencyService);
  private translateService = inject(TranslateService);

  productName = computed(() => {
    const lang = this.translateService.currentLang;
    if (lang === 'hu') return this.product?.name_hu || this.product?.name || '';
    if (lang === 'de') return this.product?.name_de || this.product?.name || '';
    return this.product?.name_en || this.product?.name || '';
  });

  imageUrl = computed(() => {
    return this.product?.imageUrl || IMAGES.productDefault;
  });

  altText = computed(() => {
    const name = this.productName();
    return name || this.translateService.instant('product.product_image');
  });

  price = computed(() => this.currencyService.getDiscountedPrice(this.product));
  oldPrice = computed(() =>
    this.product?.hasDiscount ? this.currencyService.getBasePrice(this.product) : null,
  );

  inStock = computed(() => {
    return this.product?.inStock || false;
  });

  discountPercentage = computed(() => {
    return this.product?.discountPercentage || 0;
  });

  requiresPrescription = computed(() => {
    return this.product?.requiresPrescription || false;
  });

  onCardClick(): void {
    if (this.product) {
      this.cardClick.emit();
    }
  }
}



================================================================================
FILE: src\app\shared\components\footer\footer-bottom\footer-bottom.css
================================================================================

.footer-bottom {
  background-color: var(--color-primary-dark);
  padding: 16px 20px;
  width: 100%;
  min-height: 70px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  padding: clamp(12px, 3vw, 20px);
  transition: background-color var(--transition-speed) var(--transition-ease);
}

.footer-left {
  flex: 1;
  display: flex;
  align-items: center;
}

.footer-center {
  flex: 2;
  display: flex;
  justify-content: center;
  gap: clamp(12px, 3vw, 24px);
}

.footer-right {
  flex: 1;
  display: flex;
  justify-content: flex-end;
  gap: clamp(10px, 3vw, 16px);
}

@media (max-width: 768px) {
  .footer-center {
    display: none;
  }

  .footer-right {
    gap: 8px;
  }
}



================================================================================
FILE: src\app\shared\components\footer\footer-bottom\footer-bottom.html
================================================================================

<div class="footer-bottom">
  <div class="footer-left">
    <app-icon-btn 
      [iconImg]="ICONS.support"
      [attr.aria-label]="'Support'">
    </app-icon-btn>
  </div>
  <div class="footer-center"></div>
  <div class="footer-right">
    <app-primary-btn routerLink="/legal">{{ 'footer.legal' | translate }}</app-primary-btn>
  </div>
</div>



================================================================================
FILE: src\app\shared\components\footer\footer-bottom\footer-bottom.ts
================================================================================

import { Component } from '@angular/core';
import { RouterModule } from '@angular/router';
import { TranslateModule } from '@ngx-translate/core';
import { IconBtn } from '../../icon-btn/icon-btn';
import { PrimaryBtn } from '../../primary-btn/primary-btn';
import { ICONS, IMAGES } from '../../../../core/constants/visuals';

@Component({
  selector: 'app-footer-bottom',
  standalone: true,
  imports: [IconBtn, PrimaryBtn, RouterModule, TranslateModule],
  templateUrl: './footer-bottom.html',
  styleUrl: './footer-bottom.css',
})
export class FooterBottom {
  ICONS = ICONS;
  IMAGES = IMAGES;
}



================================================================================
FILE: src\app\shared\components\footer\footer-main\footer-main.css
================================================================================

.footer-main {
  max-width: 1280px;
  margin: 0 auto;
  padding: clamp(40px, 6vw, 80px) 20px;

  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 40px;
}

.footer-column h4 {
  font-size: 18px;
  margin-bottom: 12px;
  color: var(--text-inverse);
}

.footer-column .underline {
  display: block;
  width: 100%;
  height: 2px;
  background-color: var(--text-inverse);
  margin-top: 8px;
}

.footer-column .content p {
  font-size: 14px;
  line-height: 1.6;
  max-width: 320px;
  margin: 0 0 6px 0;
  color: var(--text-inverse);
}

.footer-column .content ul {
  padding: 0;
  margin: 0;
  list-style: none;
}

.footer-column .content li {
  font-size: 14px;
  line-height: 1.6;
  margin-bottom: 6px;
  color: var(--text-inverse);
}

@media (max-width: 768px) {
  .footer-main {
    grid-template-columns: 1fr;
    gap: 32px;
    padding: 40px 20px;
  }
}



================================================================================
FILE: src\app\shared\components\footer\footer-main\footer-main.html
================================================================================

<div class="footer-main">
  <div class="footer-column">
    <h4>
      {{ 'footer.copyright' | translate }}
      <span class="underline"></span>
    </h4>

    <div class="content">
      <p class="small-text">
        {{ 'footer.info' | translate }}
      </p>
    </div>
  </div>
  
  <div class="footer-column">
    <h4>
      {{ 'footer.contactInfo' | translate }}
      <span class="underline"></span>
    </h4>

    <div class="content">
      <ul>
        <li>{{ 'footer.email' | translate }}</li>
      </ul>
    </div>
  </div>
  
  <div class="footer-column">
    <h4>
      {{ 'footer.followUs' | translate }}
      <span class="underline"></span>
    </h4>

    <div class="content">
      <app-newsletter-form></app-newsletter-form>
    </div>
  </div>
</div>



================================================================================
FILE: src\app\shared\components\footer\footer-main\footer-main.ts
================================================================================

import { Component } from '@angular/core';
import { TranslateModule } from '@ngx-translate/core';
import { NewsletterForm } from '../newsletter-form/newsletter-form';

@Component({
  selector: 'app-footer-main',
  standalone: true,
  imports: [NewsletterForm, TranslateModule],
  templateUrl: './footer-main.html',
  styleUrl: './footer-main.css',
})
export class FooterMain {}



================================================================================
FILE: src\app\shared\components\footer\footer.css
================================================================================

.footer {
  background-color: var(--color-primary);
  color: var(--color-white);
  width: 100%;
  transition: background-color var(--transition-speed) var(--transition-ease);
}



================================================================================
FILE: src\app\shared\components\footer\footer.html
================================================================================

<footer class="footer">
  <app-footer-main></app-footer-main>
  <app-footer-bottom></app-footer-bottom>
</footer>



================================================================================
FILE: src\app\shared\components\footer\footer.ts
================================================================================

import { Component } from '@angular/core';
import { FooterBottom } from './footer-bottom/footer-bottom';
import { FooterMain } from './footer-main/footer-main';

@Component({
  selector: 'app-footer',
  standalone: true,
  imports: [FooterBottom, FooterMain],
  templateUrl: './footer.html',
  styleUrl: './footer.css',
})
export class Footer {}



================================================================================
FILE: src\app\shared\components\footer\newsletter-form\newsletter-form.css
================================================================================

.newsletter form {
  display: flex;
  margin-top: 8px;
}

.newsletter input {
  width: 230px;
  height: 35px;
  padding: 0 12px;
  border: none;
  background-color: var(--input-bg);
  color: var(--input-text);
  font-family: inherit;
  transition: background-color var(--transition-speed) var(--transition-ease);
}

.newsletter input::placeholder {
  color: var(--input-placeholder);
}

.newsletter input:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: -2px;
}

.newsletter button {
  width: 80px;
  height: 35px;
  color: #111;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-weight: 500;
  transition: opacity 0.2s ease;
}

.newsletter button:hover {
  opacity: 0.9;
}

.newsletter button:active {
  opacity: 0.8;
}

.newsletter p {
  margin-bottom: 6px;
  color: var(--text-inverse);
}

.social-icons {
  display: flex;
  gap: 12px;
  margin-bottom: 12px;
}

.social-icons a {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s ease;
  background: none;
  cursor: pointer;
}

.social-icons img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.social-icons a:hover,
.social-icon-btn:hover {
  transform: scale(1.1);
}

.social-icon-wrapper {
  position: relative;
  width: fit-content;
  cursor: default;
}

.social-icon-btn {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  transition:
    transform 0.2s ease,
    opacity 0.2s ease;
  opacity: 0.85;
  filter: brightness(1.4);
}

.social-icon-btn:hover {
  opacity: 1;
  filter: brightness(1.8);
}

.social-icon-btn img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.social-tooltip {
  position: absolute;
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  background: var(--bg-primary);
  color: var(--text-primary);
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 0.75rem;
  white-space: nowrap;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border-color);
  animation: tooltipFadeIn 0.2s ease;
  z-index: 10;
}

.social-tooltip::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border: 5px solid transparent;
  border-top-color: var(--bg-primary);
}

@keyframes tooltipFadeIn {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

@media (max-width: 480px) {
  .newsletter form {
    flex-direction: column;
    gap: 8px;
  }

  .newsletter input {
    width: 100%;
    min-height: 44px;
  }

  .newsletter button {
    width: 100%;
    min-height: 44px;
  }

  .social-icons a {
    width: 44px;
    height: 44px;
  }
}

[data-theme='dark'] .newsletter button {
  color: var(--text-inverse);
  background-color: #111;
}

[data-theme='dark'] .newsletter button:hover {
  background-color: #e8e8e8;
}

[data-theme='dark'] .social-icon-btn img,
[data-theme='dark'] .social-icons a img {
  filter: brightness(2) saturate(0);
  opacity: 0.9;
}



================================================================================
FILE: src\app\shared\components\footer\newsletter-form\newsletter-form.html
================================================================================

<div class="newsletter">
  <div class="social-icons">
    @for (social of socialLinks; track social.name) {
      <div class="social-icon-wrapper">
        @if (social.url) {
          <a [href]="social.url" target="_blank" [attr.aria-label]="social.name">
            <img [src]="social.icon" [alt]="social.name" />
          </a>
        } @else {
          <button
            class="social-icon-btn"
            (click)="toggleSocialTooltip(social.name)"
            [attr.aria-label]="social.name"
          >
            <img [src]="social.icon" [alt]="social.name" />
          </button>
          @if (activeSocialTooltip === social.name) {
            <div class="social-tooltip">
              {{ 'footer.no_social_link' | translate }}
            </div>
          }
        }
      </div>
    }
  </div>
  
  <p>{{ 'footer.newsletter' | translate }}</p>

  <form (ngSubmit)="onSubmit()">
    <input 
      type="email" 
      [placeholder]="'footer.emailPlaceholder' | translate"
      [(ngModel)]="email"
      name="email"
      required
    />
    <button type="submit">{{ 'footer.send' | translate }}</button>
  </form>
</div>



================================================================================
FILE: src\app\shared\components\footer\newsletter-form\newsletter-form.ts
================================================================================

import { Component, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { TranslateModule } from '@ngx-translate/core';
import { HttpClient } from '@angular/common/http';
import { ICONS, IMAGES } from '../../../../core/constants/visuals';
import { environment } from '../../../../../environments/environment';
import { ToastService } from '../../../../core/services/toast.service';

interface SocialLink {
  name: string;
  icon: string;
  url: string | null;
}

@Component({
  selector: 'app-newsletter-form',
  standalone: true,
  imports: [CommonModule, FormsModule, TranslateModule],
  templateUrl: './newsletter-form.html',
  styleUrl: './newsletter-form.css',
})
export class NewsletterForm {
  private http = inject(HttpClient);
  private toastService = inject(ToastService);
  private readonly API_URL = environment.baseURL;

  ICONS = ICONS;
  IMAGES = IMAGES;
  email = '';
  isSubmitting = false;
  activeSocialTooltip: string | null = null;

  socialLinks: SocialLink[] = [
    { name: 'Facebook', icon: ICONS.facebook, url: null },
    { name: 'Instagram', icon: ICONS.instagram, url: null },
    { name: 'X (Twitter)', icon: ICONS.x, url: null },
  ];

  toggleSocialTooltip(name: string): void {
    this.activeSocialTooltip = this.activeSocialTooltip === name ? null : name;
    if (this.activeSocialTooltip) {
      setTimeout(() => {
        if (this.activeSocialTooltip === name) {
          this.activeSocialTooltip = null;
        }
      }, 3000);
    }
  }

  onSubmit(): void {
    if (!this.email || this.isSubmitting) return;

    this.isSubmitting = true;

    const payload = {
      email: btoa(unescape(encodeURIComponent(this.email))),
      news_level: btoa('all'),
    };

    this.http
      .post<{
        statuscode: string;
        status: string;
      }>(`${this.API_URL}/api/newsletter_subscription`, payload)
      .subscribe({
        next: (response) => {
          if (response.statuscode === '200') {
            this.toastService.show('footer.newsletter_success', 'success');
            this.email = '';
          } else {
            this.toastService.show('footer.newsletter_error', 'error');
          }
          this.isSubmitting = false;
        },
        error: () => {
          this.toastService.show('footer.newsletter_error', 'error');
          this.isSubmitting = false;
        },
      });
  }
}



================================================================================
FILE: src\app\shared\components\header\header.css
================================================================================

.header {
  position: sticky;
  top: 0;
  z-index: 1000;
  background-color: var(--color-primary);
  color: var(--color-white);
  border-bottom: none;
  padding: 1rem 2rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 2rem;
  transition: all var(--transition-speed) var(--transition-ease);
}

.header-left {
  flex-shrink: 0;
}

.logo {
  height: 50px;
  width: auto;
  display: block;
  transition: transform 0.3s ease;
}

.logo:hover {
  transform: scale(1.05);
}

.header-center {
  display: flex;
  gap: 1rem;
  align-items: center;
  flex: 1;
  justify-content: center;
}

.header-right {
  display: flex;
  gap: 0.75rem;
  align-items: center;
  flex-shrink: 0;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HAMBURGER MENU (hidden on desktop, visible on mobile)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

.mobile-menu-wrapper {
  display: none;
  position: relative;
}

.hamburger-btn {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 5px;
  width: 40px;
  height: 40px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
  border-radius: 6px;
  transition: background-color 0.2s ease;
}

.hamburger-btn:hover {
  background-color: rgba(255, 255, 255, 0.15);
}

.hamburger-line {
  display: block;
  width: 22px;
  height: 2px;
  background-color: white;
  border-radius: 2px;
  transition: all 0.3s ease;
  transform-origin: center;
}

.hamburger-line.open:nth-child(1) {
  transform: translateY(7px) rotate(45deg);
}

.hamburger-line.open:nth-child(2) {
  opacity: 0;
  transform: scaleX(0);
}

.hamburger-line.open:nth-child(3) {
  transform: translateY(-7px) rotate(-45deg);
}

.mobile-dropdown {
  position: absolute;
  top: calc(100% + 10px);
  right: 0;
  background-color: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  box-shadow: var(--shadow-lg);
  min-width: 220px;
  z-index: 1001;
  animation: slideDown 0.2s ease;
  overflow: hidden;
}

.mobile-nav-item {
  display: block;
  padding: 0.85rem 1.25rem;
  color: var(--text-primary);
  text-decoration: none;
  font-size: 0.95rem;
  font-weight: 500;
  transition: background-color 0.2s ease;
}

.mobile-nav-item:hover {
  background-color: var(--bg-secondary);
  color: var(--color-primary);
}

.mobile-nav-divider {
  height: 1px;
  background-color: var(--border-color);
  margin: 0.25rem 0;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   USER MENU
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

.user-menu-wrapper {
  position: relative;
}

.user-menu-trigger {
  cursor: pointer;
}

.user-dropdown {
  position: absolute;
  top: calc(100% + 10px);
  right: 0;
  background-color: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  box-shadow: var(--shadow-lg);
  min-width: 250px;
  z-index: 1001;
  animation: slideDown 0.2s ease;
}

.user-dropdown-header {
  padding: 1rem;
  border-bottom: 1px solid var(--border-color);
}

.user-name {
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 0.25rem 0;
  font-size: 0.95rem;
}

.user-email {
  color: var(--text-secondary);
  margin: 0;
  font-size: 0.85rem;
}

.user-dropdown-divider {
  height: 1px;
  background-color: var(--border-color);
  margin: 0.5rem 0;
}

.user-dropdown-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1rem;
  color: var(--text-primary);
  text-decoration: none;
  cursor: pointer;
  transition: background-color 0.2s ease;
  border: none;
  background: none;
  width: 100%;
  text-align: left;
  font-size: 0.9rem;
}

.user-dropdown-item:hover {
  background-color: var(--bg-secondary);
}

.dropdown-icon {
  width: 18px;
  height: 18px;
  color: var(--text-secondary);
}

.logout-btn {
  color: #dc2626;
}

.logout-btn:hover {
  background-color: rgba(220, 38, 38, 0.1);
}

.logout-btn .dropdown-icon {
  color: #dc2626;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CART
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

.cart-menu-wrapper {
  position: relative;
}

.cart-button {
  position: relative;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.cart-badge {
  position: absolute;
  top: -8px;
  right: -8px;
  background-color: var(--color-primary);
  color: white;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.7rem;
  font-weight: 700;
  border: 2px solid var(--bg-primary);
  animation: popIn 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes popIn {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}

.cart-dropdown {
  position: absolute;
  top: calc(100% + 10px);
  right: 0;
  background-color: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  box-shadow: var(--shadow-lg);
  width: 380px;
  max-height: 500px;
  z-index: 1001;
  animation: slideDown 0.2s ease;
  display: flex;
  flex-direction: column;
}

.cart-dropdown-header {
  padding: 1rem;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.cart-dropdown-header h3 {
  margin: 0;
  font-size: 1.1rem;
  color: var(--text-primary);
}

.cart-item-count {
  color: var(--text-secondary);
  font-size: 0.85rem;
}

.cart-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 3rem 2rem;
  gap: 1rem;
}

.empty-cart-icon {
  width: 60px;
  height: 60px;
  opacity: 0.3;
}

.cart-empty p {
  color: var(--text-secondary);
  margin: 0;
  text-align: center;
}

.cart-items {
  overflow-y: auto;
  max-height: 300px;
  padding: 0.5rem 0;
}

.cart-item {
  display: flex;
  gap: 1rem;
  padding: 1rem;
  border-bottom: 1px solid var(--border-color);
  transition: background-color 0.2s ease;
}

.cart-item:hover {
  background-color: var(--bg-secondary);
}

.cart-item:last-child {
  border-bottom: none;
}

.cart-item-image {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: 6px;
  border: 1px solid var(--border-color);
  flex-shrink: 0;
}

.cart-item-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.cart-item-name {
  margin: 0;
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--text-primary);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.cart-item-price-row {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  flex-wrap: wrap;
}

.cart-item-unit-price {
  font-size: 0.9rem;
  color: var(--color-primary);
  font-weight: 600;
}

.cart-item-line-total {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  font-weight: 500;
  opacity: 0.85;
}

.cart-item-quantity {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.quantity-btn {
  width: 24px;
  height: 24px;
  border: 1px solid var(--border-color);
  background-color: var(--bg-primary);
  color: var(--text-primary);
  border-radius: 4px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  font-weight: 600;
}

.quantity-btn:hover:not(:disabled) {
  background-color: var(--color-primary);
  color: white;
  border-color: var(--color-primary);
}

.quantity-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.quantity-value {
  min-width: 30px;
  text-align: center;
  font-weight: 600;
  color: var(--text-primary);
}

.remove-item-btn {
  width: 28px;
  height: 28px;
  border: none;
  background-color: transparent;
  color: var(--text-secondary);
  border-radius: 4px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.remove-item-btn svg {
  width: 16px;
  height: 16px;
}

.remove-item-btn:hover {
  background-color: rgba(220, 38, 38, 0.1);
  color: #dc2626;
}

.cart-dropdown-footer {
  padding: 1rem;
  border-top: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  gap: 1rem;
  background-color: var(--bg-secondary);
  border-radius: 0 0 8px 8px;
}

.cart-total {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 1rem;
}

.cart-total span {
  color: var(--text-secondary);
}

.cart-total strong {
  color: var(--text-primary);
  font-size: 1.2rem;
}

.checkout-btn {
  width: 100%;
  padding: 0.75rem;
  background-color: var(--color-primary);
  color: white;
  border: none;
  border-radius: 6px;
  font-weight: 600;
  font-size: 0.95rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.checkout-btn:hover {
  background-color: var(--color-primary-dark);
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(6, 122, 69, 0.3);
}

.cart-footer-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.75rem;
}

.cart-footer-actions .cart-total {
  flex: 1;
}

.clear-cart-btn {
  background: none;
  border: 1px solid rgba(220, 38, 38, 0.3);
  color: #dc2626;
  padding: 0.35rem 0.75rem;
  border-radius: 6px;
  font-size: 0.8rem;
  font-weight: 600;
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.2s ease;
}

.clear-cart-btn:hover {
  background-color: rgba(220, 38, 38, 0.1);
  border-color: #dc2626;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ANIMATIONS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESPONSIVE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

@media (max-width: 1024px) {
  .header-center {
    gap: 0.5rem;
  }
}

@media (max-width: 768px) {
  .header {
    padding: 1rem;
    gap: 1rem;
  }

  .header-center {
    display: none;
  }

  .mobile-menu-wrapper {
    display: block;
  }

  .cart-dropdown {
    width: 320px;
    right: -20px;
  }

  .user-dropdown {
    right: -20px;
  }
}

@media (max-width: 480px) {
  .logo {
    height: 40px;
  }

  .header-right {
    gap: 0.5rem;
  }

  .cart-dropdown {
    position: fixed;
    top: 70px;
    left: 10px;
    right: 10px;
    width: auto;
    max-height: calc(100vh - 90px);
  }

  .user-dropdown {
    width: 240px;
    right: -10px;
  }

  .mobile-dropdown {
    min-width: 200px;
    right: -10px;
  }
}



================================================================================
FILE: src\app\shared\components\header\header.html
================================================================================

<header class="header">
  <div class="header-left">
    <a routerLink="/home">
      <img class="logo" [src]="IMAGES.logo" alt="Roy's Shack official logo" />
    </a>
  </div>

  <div class="header-center">
    <app-primary-btn routerLink="/home">{{ 'header.home' | translate }}</app-primary-btn>
    <app-primary-btn routerLink="/forum">{{ 'header.forum' | translate }}</app-primary-btn>
    <app-primary-btn routerLink="/products">{{ 'header.products' | translate }}</app-primary-btn>
  </div>

  <div class="header-right">
    @if (isAuthenticated) {
      <div class="user-menu-wrapper">
        <app-icon-btn
          [iconImg]="ICONS.user"
          [attr.aria-label]="'header.profile' | translate"
          (click)="toggleUserMenu()"
          class="user-menu-trigger"
        >
        </app-icon-btn>

        @if (showUserMenu()) {
          <div class="user-dropdown">
            <div class="user-dropdown-header">
              <p class="user-name">{{ currentUser?.firstname }} {{ currentUser?.lastname }}</p>
              <p class="user-email">{{ currentUser?.email }}</p>
            </div>
            <div class="user-dropdown-divider"></div>
            <a routerLink="/profile" class="user-dropdown-item" (click)="closeUserMenu()">
              <img [src]="ICONS.user" alt="profile" class="dropdown-icon" />
              {{ 'header.my_profile' | translate }}
            </a>
            <a routerLink="/purchase" class="user-dropdown-item" (click)="closeUserMenu()">
              <img [src]="ICONS.basket" alt="orders" class="dropdown-icon" />
              {{ 'header.my_orders' | translate }}
            </a>
            <div class="user-dropdown-divider"></div>
            <button class="user-dropdown-item logout-btn" (click)="logout()">
              <svg
                class="dropdown-icon"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                <polyline points="16 17 21 12 16 7"></polyline>
                <line x1="21" y1="12" x2="9" y2="12"></line>
              </svg>
              {{ 'header.logout' | translate }}
            </button>
          </div>
        }
      </div>
    } @else {
      <app-icon-btn
        routerLink="/login"
        [iconImg]="ICONS.login"
        [attr.aria-label]="'header.login' | translate"
      >
      </app-icon-btn>
    }

    <div class="cart-menu-wrapper">
      <button
        class="cart-button"
        (click)="toggleCartDropdown()"
        [attr.aria-label]="'header.cart' | translate"
      >
        <app-icon-btn [iconImg]="ICONS.basket"></app-icon-btn>
        @if (cartItemCount() > 0) {
          <span class="cart-badge">{{ cartItemCount() }}</span>
        }
      </button>

      @if (showCartDropdown()) {
        <div class="cart-dropdown">
          <div class="cart-dropdown-header">
            <h3>{{ 'cart.title' | translate }}</h3>
            <span class="cart-item-count"
              >{{ cartItemCount() }} {{ 'cart.items' | translate }}</span
            >
          </div>

          @if (cartItems().length === 0) {
            <div class="cart-empty">
              <img [src]="ICONS.basket" alt="Empty cart" class="empty-cart-icon" />
              <p>{{ 'cart.empty' | translate }}</p>
            </div>
          } @else {
            <div class="cart-items">
              @for (item of cartItems(); track item.product.id) {
                <div class="cart-item">
                  <img
                    [src]="item.product.imageUrl"
                    [alt]="item.product.name"
                    class="cart-item-image"
                  />
                  <div class="cart-item-details">
                    <h4 class="cart-item-name">{{ item.product.name }}</h4>
                    <div class="cart-item-price-row">
                      <span class="cart-item-unit-price">
                        {{
                          currencyService.formatPrice(
                            currencyService.getDiscountedPrice(item.product)
                          )
                        }}
                      </span>
                      @if (item.quantity > 1) {
                        <span class="cart-item-line-total">
                          =
                          {{
                            currencyService.formatPrice(
                              currencyService.getDiscountedPrice(item.product) * item.quantity
                            )
                          }}
                        </span>
                      }
                    </div>
                    <div class="cart-item-quantity">
                      <button
                        class="quantity-btn"
                        (click)="updateQuantity(item.product.id, item.quantity - 1)"
                        [disabled]="item.quantity <= 1"
                      >
                        -
                      </button>
                      <span class="quantity-value">{{ item.quantity }}</span>
                      <button
                        class="quantity-btn"
                        (click)="updateQuantity(item.product.id, item.quantity + 1)"
                        [disabled]="item.quantity >= item.product.stockQuantity"
                      >
                        +
                      </button>
                    </div>
                  </div>
                  <button
                    class="remove-item-btn"
                    (click)="removeFromCart(item.product.id)"
                    [attr.aria-label]="'cart.remove' | translate"
                  >
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <line x1="18" y1="6" x2="6" y2="18"></line>
                      <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                  </button>
                </div>
              }
            </div>

            <div class="cart-dropdown-footer">
              <div class="cart-footer-actions">
                <div class="cart-total">
                  <span>{{ 'cart.total' | translate }}:</span>
                  <strong>{{ currencyService.formatPrice(cartTotal()) }}</strong>
                </div>
                <button class="clear-cart-btn" (click)="clearCart()">
                  {{ 'cart.clear_all' | translate }}
                </button>
              </div>
              <button class="checkout-btn" routerLink="/purchase" (click)="goToCheckout()">
                {{ 'cart.checkout' | translate }}
              </button>
            </div>
          }
        </div>
      }
    </div>

    <app-icon-btn
      [iconImg]="currentTheme === 'dark' ? ICONS.sun : ICONS.moon"
      (click)="toggleTheme()"
      [attr.aria-label]="'theme.toggle' | translate"
    >
    </app-icon-btn>

    <app-language-switcher></app-language-switcher>

    <div class="mobile-menu-wrapper">
      <button
        class="hamburger-btn"
        (click)="toggleMobileMenu()"
        [attr.aria-label]="'header.menu' | translate"
        [attr.aria-expanded]="showMobileMenu()"
      >
        <span class="hamburger-line" [class.open]="showMobileMenu()"></span>
        <span class="hamburger-line" [class.open]="showMobileMenu()"></span>
        <span class="hamburger-line" [class.open]="showMobileMenu()"></span>
      </button>

      @if (showMobileMenu()) {
        <nav class="mobile-dropdown" role="navigation">
          <a routerLink="/home" class="mobile-nav-item" (click)="closeMobileMenu()">
            {{ 'header.home' | translate }}
          </a>
          <a routerLink="/forum" class="mobile-nav-item" (click)="closeMobileMenu()">
            {{ 'header.forum' | translate }}
          </a>
          <a routerLink="/products" class="mobile-nav-item" (click)="closeMobileMenu()">
            {{ 'header.products' | translate }}
          </a>
          @if (isAuthenticated) {
            <div class="mobile-nav-divider"></div>
            <a routerLink="/profile" class="mobile-nav-item" (click)="closeMobileMenu()">
              {{ 'header.my_profile' | translate }}
            </a>
            <a routerLink="/purchase" class="mobile-nav-item" (click)="closeMobileMenu()">
              {{ 'header.my_orders' | translate }}
            </a>
          }
        </nav>
      }
    </div>
  </div>
</header>



================================================================================
FILE: src\app\shared\components\header\header.ts
================================================================================

import { Component, HostListener, OnInit, signal, computed } from '@angular/core';
import { RouterModule } from '@angular/router';
import { TranslateModule } from '@ngx-translate/core';
import { CommonModule } from '@angular/common';

import { PrimaryBtn } from '../primary-btn/primary-btn';
import { IconBtn } from '../icon-btn/icon-btn';
import { LanguageSwitcher } from '../language-switcher/language-switcher';
import { ICONS, IMAGES } from '../../../core/constants/visuals';
import { ThemeService, Theme } from '../../../core/services/theme.service';
import { AuthService } from '../../../core/services/auth.service';
import { CartService } from '../../../core/services/cart.service';
import { CurrencyService } from '../../../core/services/currency.service';
import { User } from '../../../core/models/auth.model';

@Component({
  selector: 'app-header',
  standalone: true,
  imports: [PrimaryBtn, IconBtn, RouterModule, LanguageSwitcher, TranslateModule, CommonModule],
  templateUrl: './header.html',
  styleUrl: './header.css',
})
export class Header implements OnInit {
  ICONS = ICONS;
  IMAGES = IMAGES;
  currentTheme: Theme = 'light';
  isAuthenticated = false;
  currentUser: User | null = null;
  showUserMenu = signal(false);
  showCartDropdown = signal(false);
  showMobileMenu = signal(false);

  cartItemCount = computed(() => this.cartService.itemCount());
  cartItems = computed(() => this.cartService.items());
  cartTotal = computed(() => this.cartService.totalPrice());

  constructor(
    private themeService: ThemeService,
    private authService: AuthService,
    public cartService: CartService,
    public currencyService: CurrencyService,
  ) {}

  ngOnInit(): void {
    this.themeService.currentTheme$.subscribe((theme) => {
      this.currentTheme = theme;
    });

    this.authService.authState$.subscribe((state) => {
      this.isAuthenticated = state.isAuthenticated;
      this.currentUser = state.user;
    });
  }

  toggleMobileMenu(): void {
    this.showMobileMenu.update((v) => !v);
    if (this.showMobileMenu()) {
      this.showUserMenu.set(false);
      this.showCartDropdown.set(false);
    }
  }

  closeMobileMenu(): void {
    this.showMobileMenu.set(false);
  }

  toggleTheme(): void {
    this.themeService.toggleTheme();
  }

  toggleUserMenu(): void {
    this.showUserMenu.update((v) => !v);
    if (this.showCartDropdown()) {
      this.showCartDropdown.set(false);
    }
  }

  toggleCartDropdown(): void {
    this.showCartDropdown.update((v) => !v);
    if (this.showUserMenu()) {
      this.showUserMenu.set(false);
    }
  }

  closeUserMenu(): void {
    this.showUserMenu.set(false);
  }

  closeCartDropdown(): void {
    this.showCartDropdown.set(false);
  }

  logout(): void {
    this.authService.logout();
    this.closeUserMenu();
  }

  removeFromCart(productId: string): void {
    this.cartService.removeFromCart(productId);
  }

  updateQuantity(productId: string, quantity: number): void {
    this.cartService.updateQuantity(productId, quantity);
  }

  clearCart(): void {
    this.cartService.clearCart();
  }

  goToCheckout(): void {
    this.closeCartDropdown();
  }

  @HostListener('document:click', ['$event'])
  onDocumentClick(event: MouseEvent): void {
    const target = event.target as HTMLElement;
    const userMenuWrapper = target.closest('.user-menu-wrapper');
    const cartMenuWrapper = target.closest('.cart-menu-wrapper');
    const mobileMenuWrapper = target.closest('.mobile-menu-wrapper');

    if (!userMenuWrapper && this.showUserMenu()) {
      this.closeUserMenu();
    }

    if (!cartMenuWrapper && this.showCartDropdown()) {
      this.closeCartDropdown();
    }

    if (!mobileMenuWrapper && this.showMobileMenu()) {
      this.closeMobileMenu();
    }
  }
}



================================================================================
FILE: src\app\shared\components\icon-btn\icon-btn.css
================================================================================

.icon-btn {
  width: 35px;
  height: 35px;

  padding: 0px;
  border-radius: 50%;

  background-color: #403e3e;
  border: #f5f0e1 solid 3px;

  display: flex;
  align-items: center;
  justify-content: center;

  cursor: pointer;

  transition: transform 0.2s ease;
}

.icon {
  width: 18px;
  height: 18px;
  object-fit: contain;
  display: block;

  transition:
    transform 0.2s ease,
    border 0.2s ease;
}

.icon-btn:hover {
  transform: scale(0.95);
  border: #f5f0e1 solid 3.2px;
}

.icon-btn:hover img {
  transform: scale(1.1);
}



================================================================================
FILE: src\app\shared\components\icon-btn\icon-btn.html
================================================================================

<button class="icon-btn">
  <img [src]="iconImg" alt="icon" class="icon" />
</button>



================================================================================
FILE: src\app\shared\components\icon-btn\icon-btn.ts
================================================================================

import { Component, Input } from '@angular/core';

@Component({
  selector: 'app-icon-btn',
  standalone: true,
  imports: [],
  templateUrl: './icon-btn.html',
  styleUrl: './icon-btn.css',
})
export class IconBtn {
  @Input() iconImg!: string;
}



================================================================================
FILE: src\app\shared\components\language-switcher\language-switcher.css
================================================================================

.language-switcher {
  position: relative;
  display: flex;
  align-items: center;
  height: 35px;
}

.lang-button {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  background-color: transparent;
  border: 3px solid white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  outline: none;
  padding: 0;
  overflow: hidden;
  margin: 0;
  flex-shrink: 0;
}

.lang-button:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

.lang-button:focus {
  outline: 3px solid rgba(255, 255, 255, 0.5);
  outline-offset: 2px;
}

.lang-flag-img {
  width: 29px;
  height: 29px;
  object-fit: cover;
  border-radius: 50%;
  display: block;
}

.fallback-text {
  color: white;
  font-size: 0.875rem;
  font-weight: bold;
  line-height: 1;
}

.lang-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  width: 192px;
  max-width: calc(100vw - 40px);
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  z-index: 1000;
  animation: fadeIn 0.2s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.lang-list {
  padding: 4px 0;
}

.lang-item {
  width: 100%;
  padding: 12px 16px;
  text-align: left;
  background: none;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 12px;
  transition: background-color 0.15s ease;
}

.lang-item:hover {
  background-color: #f3f4f6;
}

.lang-item.active {
  background-color: #f9fafb;
}

.lang-item-flag-img {
  width: 24px;
  height: 24px;
  object-fit: cover;
  border-radius: 4px;
  flex-shrink: 0;
}

.lang-item-name {
  color: #1f2937;
  font-weight: 500;
  font-size: 0.95rem;
}

@media (max-width: 640px) {
  .lang-dropdown {
    width: 160px;
  }

  .lang-item {
    padding: 10px 12px;
  }

  .lang-item-name {
    font-size: 0.875rem;
  }

  .lang-item-flag-img {
    width: 20px;
    height: 20px;
  }
}

@media (prefers-color-scheme: dark) {
  .lang-button {
    border-color: rgba(255, 255, 255, 0.8);
  }
}

.lang-item-flag-img[src=''],
.lang-flag-img[src=''] {
  background-color: #e5e7eb;
}



================================================================================
FILE: src\app\shared\components\language-switcher\language-switcher.html
================================================================================

<div class="language-switcher">
  <button
    class="lang-button"
    (click)="toggleDropdown()"
    [attr.aria-expanded]="isOpen"
    [attr.aria-label]="'language.switch' | translate"
  >
    @if (currentLang.imageError) {
      <span class="fallback-text">{{ currentLang.code.toUpperCase() }}</span>
    } @else {
      <img
        [src]="currentLang.flagImage"
        [alt]="currentLang.name"
        class="lang-flag-img"
        (error)="onImageError(currentLang.code)"
      />
    }
  </button>

  <div class="lang-dropdown" *ngIf="isOpen">
    <div class="lang-list">
      <button
        *ngFor="let lang of languages"
        class="lang-item"
        [class.active]="currentLanguage === lang.code"
        (click)="selectLanguage(lang.code)"
      >
        @if (lang.imageError) {
          <span class="fallback-text">{{ lang.code.toUpperCase() }}</span>
        } @else {
          <img
            [src]="lang.flagImage"
            [alt]="lang.name"
            class="lang-item-flag-img"
            (error)="onImageError(lang.code)"
          />
        }
        <span class="lang-item-name">{{ lang.name }}</span>
      </button>
    </div>
  </div>
</div>



================================================================================
FILE: src\app\shared\components\language-switcher\language-switcher.ts
================================================================================

import { NgFor, NgIf } from '@angular/common';
import { Component, ElementRef, HostListener, OnInit } from '@angular/core';
import { TranslateModule } from '@ngx-translate/core';
import { TranslationService, SupportedLanguage } from '../../../core/services/translation.service';
import { environment } from '../../../../environments/environment';

interface Language {
  code: SupportedLanguage;
  name: string;
  flagImage: string;
  imageError: boolean;
}

@Component({
  selector: 'app-language-switcher',
  standalone: true,
  imports: [NgIf, NgFor, TranslateModule],
  templateUrl: './language-switcher.html',
  styleUrl: './language-switcher.css',
})
export class LanguageSwitcher implements OnInit {
  isOpen = false;
  currentLanguage: SupportedLanguage = 'en';

  languages: Language[] = [
    {
      code: 'en',
      name: 'English',
      flagImage: `${environment.assetsURL}/assets/images/English.webp`,
      imageError: false,
    },
    {
      code: 'hu',
      name: 'Magyar',
      flagImage: `${environment.assetsURL}/assets/images/Hungary.webp`,
      imageError: false,
    },
    {
      code: 'de',
      name: 'Deutsch',
      flagImage: `${environment.assetsURL}/assets/images/German.webp`,
      imageError: false,
    },
  ];

  constructor(
    private elementRef: ElementRef,
    private translationService: TranslationService,
  ) {}

  ngOnInit(): void {
    this.translationService.currentLang$.subscribe((lang) => {
      this.currentLanguage = lang;
    });
  }

  get currentLang(): Language {
    return this.languages.find((l) => l.code === this.currentLanguage) || this.languages[1];
  }

  toggleDropdown(): void {
    this.isOpen = !this.isOpen;
  }

  selectLanguage(langCode: SupportedLanguage): void {
    this.translationService.setLanguage(langCode);
    this.isOpen = false;
  }

  onImageError(langCode: string): void {
    this.languages = this.languages.map((l) =>
      l.code === langCode ? { ...l, imageError: true } : l,
    );
  }

  @HostListener('document:click', ['$event'])
  onDocumentClick(event: MouseEvent): void {
    if (!this.elementRef.nativeElement.contains(event.target)) {
      this.isOpen = false;
    }
  }

  @HostListener('document:keydown.escape')
  onEscapeKey(): void {
    this.isOpen = false;
  }
}



================================================================================
FILE: src\app\shared\components\post-card\post-card.css
================================================================================

.post-card {
  position: relative;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
  transition: all var(--transition-normal);
  cursor: pointer;
  display: flex;
  flex-direction: column;
  height: 100%;
}

.post-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
  border-color: var(--color-primary);
}

.pinned-badge,
.featured-badge {
  position: absolute;
  top: var(--space-3);
  right: var(--space-3);
  background: var(--color-primary);
  color: white;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
  z-index: 10;
  display: flex;
  align-items: center;
  gap: var(--space-1);
  box-shadow: var(--shadow-sm);
}

.pinned-badge {
  background: var(--color-secondary);
}

.post-image {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9;
  overflow: hidden;
  background: var(--color-neutral-100);
}

.post-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--transition-normal);
}

.post-card:hover .post-image img {
  transform: scale(1.05);
}

.category-badge-overlay {
  position: absolute;
  bottom: var(--space-3);
  left: var(--space-3);
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  box-shadow: var(--shadow-md);
}

[data-theme='dark'] .category-badge-overlay {
  background: rgba(0, 0, 0, 0.8);
}

.forum-badges {
  position: absolute;
  top: var(--space-3);
  left: var(--space-3);
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.question-badge,
.answered-badge {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
  display: flex;
  align-items: center;
  gap: var(--space-1);
  box-shadow: var(--shadow-sm);
}

.question-badge {
  color: var(--color-primary);
}

.answered-badge {
  background: var(--color-success);
  color: white;
}

[data-theme='dark'] .question-badge,
[data-theme='dark'] .answered-badge {
  background: rgba(0, 0, 0, 0.8);
}

.post-content {
  padding: var(--space-4);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  flex: 1;
}

.post-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-2);
}

.category-badge-inline {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
  font-size: var(--text-xs);
  font-weight: var(--font-medium);
  background: var(--color-neutral-100);
}

[data-theme='dark'] .category-badge-inline {
  background: var(--color-neutral-800);
}

.post-meta {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-size: var(--text-xs);
  color: var(--color-text-secondary);
}

.reading-time {
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.post-title {
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  color: var(--color-text-primary);
  line-height: var(--leading-tight);
  margin: 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.post-excerpt {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  line-height: var(--leading-normal);
  margin: 0;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.post-author {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-top: var(--space-2);
  border-top: 1px solid var(--color-border);
}

.author-info {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.author-avatar,
.author-avatar-placeholder {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  object-fit: cover;
}

.author-avatar-placeholder {
  background: var(--color-primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-semibold);
  font-size: var(--text-sm);
}

.author-details {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-xs);
}

.author-name {
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
}

.verified-icon {
  color: var(--color-primary);
  font-weight: bold;
}

.author-role {
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
  font-size: 10px;
  font-weight: var(--font-semibold);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.badge-admin {
  background: var(--color-error-light);
  color: var(--color-error);
}

.badge-pharmacist {
  background: var(--color-success-light);
  color: var(--color-success);
}

.badge-user {
  background: var(--color-neutral-200);
  color: var(--color-neutral-600);
}

[data-theme='dark'] .badge-user {
  background: var(--color-neutral-700);
  color: var(--color-neutral-300);
}

.post-stats {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding-top: var(--space-2);
  border-top: 1px solid var(--color-border);
}

.stat-item {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--text-xs);
  color: var(--color-text-secondary);
}

.stat-icon {
  font-size: 14px;
}

.stat-value {
  font-weight: var(--font-medium);
}

.post-tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.tag {
  font-size: var(--text-xs);
  color: var(--color-secondary);
  background: rgba(16, 185, 129, 0.1);
  padding: var(--space-1) var(--space-3);
  border-radius: var(--radius-full);
  font-weight: var(--font-medium);
  border: 1px solid rgba(16, 185, 129, 0.3);
  transition: all var(--transition-fast);
}

.tag:hover {
  background: rgba(16, 185, 129, 0.15);
  border-color: var(--color-secondary);
}

[data-theme='dark'] .tag {
  color: #10b981;
  background: rgba(16, 185, 129, 0.15);
  border-color: rgba(16, 185, 129, 0.4);
}

[data-theme='dark'] .tag:hover {
  background: rgba(16, 185, 129, 0.25);
  border-color: #10b981;
}

.category-medicines {
  color: #dc2626;
  border-color: #dc2626;
}

.category-natural {
  color: #16a34a;
  border-color: #16a34a;
}

.category-baby {
  color: #d946ef;
  border-color: #d946ef;
}

.category-lifestyle {
  color: #2563eb;
  border-color: #2563eb;
}

.category-seasonal {
  color: #ea580c;
  border-color: #ea580c;
}

.category-qa {
  color: #7c3aed;
  border-color: #7c3aed;
}

.category-general {
  color: #6b7280;
  border-color: #6b7280;
}

.post-card.compact {
  flex-direction: row;
  height: auto;
}

.post-card.compact .post-image {
  width: 200px;
  aspect-ratio: 1;
  flex-shrink: 0;
}

.post-card.compact .post-content {
  padding: var(--space-3);
}

.post-card.compact .post-title {
  font-size: var(--text-base);
  -webkit-line-clamp: 1;
  line-clamp: 1;
}

.post-card.compact .post-excerpt {
  -webkit-line-clamp: 2;
  line-clamp: 2;
}

@media (max-width: 768px) {
  .post-card.compact {
    flex-direction: column;
  }

  .post-card.compact .post-image {
    width: 100%;
    aspect-ratio: 16 / 9;
  }

  .post-content {
    padding: var(--space-3);
  }

  .post-title {
    font-size: var(--text-base);
  }

  .category-badge-overlay,
  .category-badge-inline {
    font-size: 10px;
    padding: var(--space-1) var(--space-2);
  }
}

@media (hover: hover) {
  .post-card:hover .post-title {
    color: var(--color-primary);
  }
}

[data-theme='dark'] .post-card {
  border-color: var(--color-neutral-700);
}

[data-theme='dark'] .post-card:hover {
  border-color: var(--color-primary);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}



================================================================================
FILE: src\app\shared\components\post-card\post-card.html
================================================================================

<article
  class="post-card"
  [class.compact]="compactMode"
  [class.pinned]="post.isPinned"
  [class.featured]="post.isFeatured"
  [routerLink]="[post.type === 'blog' ? '/blog' : '/forum', post.slug]"
  (click)="handleCardClick()"
>
  @if (post.isPinned) {
    <div class="pinned-badge">
      <span class="pin-icon">ğŸ“Œ</span>
      <span>{{ 'forum.pinned' | translate }}</span>
    </div>
  }

  @if (post.isFeatured && !post.isPinned) {
    <div class="featured-badge">
      <span class="star-icon">â­</span>
      <span>{{ 'forum.featured' | translate }}</span>
    </div>
  }

  @if (showImage && post.imageUrl) {
    <div class="post-image">
      <img [src]="post.imageUrl" [alt]="post.title" loading="lazy" />

      @if (showCategory && categoryInfo) {
        <div class="category-badge-overlay" [class]="categoryInfo.colorClass">
          <span class="category-icon">{{ categoryInfo.icon }}</span>
          <span class="category-name">{{ categoryInfo.translationKey | translate }}</span>
        </div>
      }

      @if (post.type === 'forum') {
        <div class="forum-badges">
          @if (isQuestion) {
            <div class="question-badge"><span>â“</span> {{ 'forum.question' | translate }}</div>
          }
          @if (hasAcceptedAnswer) {
            <div class="answered-badge"><span>âœ“</span> {{ 'forum.answered' | translate }}</div>
          }
        </div>
      }
    </div>
  }

  <div class="post-content">
    <div class="post-header">
      @if (showCategory && categoryInfo && !post.imageUrl) {
        <div class="category-badge-inline" [class]="categoryInfo.colorClass">
          <span class="category-icon">{{ categoryInfo.icon }}</span>
          <span class="category-name">{{ categoryInfo.translationKey | translate }}</span>
        </div>
      }

      <div class="post-meta">
        <span class="post-date">{{ getRelativeTime() }}</span>
        @if (readingTime) {
          <span class="reading-time">
            <span class="icon">ğŸ“–</span>
            {{ readingTime }} {{ 'common.minutes' | translate }}
          </span>
        }
      </div>
    </div>

    <h3 class="post-title">{{ post.title }}</h3>

    @if (showExcerpt) {
      <p class="post-excerpt">{{ post.excerpt }}</p>
    }

    @if (showAuthor) {
      <div class="post-author">
        <div class="author-info">
          @if (post.author.avatar) {
            <img class="author-avatar" [src]="post.author.avatar" [alt]="post.author.name" />
          } @else {
            <div class="author-avatar-placeholder">
              {{ post.author.name.charAt(0).toUpperCase() }}
            </div>
          }

          <div class="author-details">
            <span class="author-name">{{ post.author.name }}</span>
            @if (post.author.verified) {
              <span class="verified-icon" title="{{ 'forum.verified' | translate }}">âœ“</span>
            }
            <span class="author-role" [class]="authorBadgeClass">
              {{ 'forum.role.' + post.author.role | translate }}
            </span>
          </div>
        </div>
      </div>
    }

    @if (showStats) {
      <div class="post-stats">
        <div class="stat-item">
          <span class="stat-icon">ğŸ‘ï¸</span>
          <span class="stat-value">{{ post.views }}</span>
        </div>
        <div class="stat-item">
          <span class="stat-icon">â¤ï¸</span>
          <span class="stat-value">{{ post.likes }}</span>
        </div>
        <div class="stat-item">
          <span class="stat-icon">ğŸ’¬</span>
          <span class="stat-value">{{ post.commentCount }}</span>
        </div>
      </div>
    }

    @if (post.tags.length > 0) {
      <div class="post-tags">
        @for (tag of post.tags.slice(0, 3); track tag) {
          <span class="tag">#{{ tag }}</span>
        }
      </div>
    }
  </div>
</article>



================================================================================
FILE: src\app\shared\components\post-card\post-card.ts
================================================================================

import { Component, Input, Output, EventEmitter, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterModule } from '@angular/router';
import { TranslateModule, TranslateService } from '@ngx-translate/core';
import { Post, POST_CATEGORIES } from '../../../core/models/forum-blog.model';

@Component({
  selector: 'app-post-card',
  standalone: true,
  imports: [CommonModule, RouterModule, TranslateModule],
  templateUrl: './post-card.html',
  styleUrl: './post-card.css',
})
export class PostCardComponent {
  @Input({ required: true }) post!: Post;
  @Input() showExcerpt = true;
  @Input() showImage = true;
  @Input() showCategory = true;
  @Input() showAuthor = true;
  @Input() showStats = true;
  @Input() compactMode = false;

  @Output() cardClick = new EventEmitter<Post>();

  private translateService = inject(TranslateService);

  get categoryInfo() {
    return POST_CATEGORIES.find((cat) => cat.id === this.post.category);
  }

  get authorBadgeClass(): string {
    switch (this.post.author.role) {
      case 'admin':
        return 'badge-admin';
      case 'pharmacist':
        return 'badge-pharmacist';
      case 'user':
        return 'badge-user';
      default:
        return '';
    }
  }

  getRelativeTime(): string {
    const now = new Date();
    const postDate = this.post.createdAt;
    const diffMs = now.getTime() - postDate.getTime();
    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));

    if (diffDays === 0) {
      const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
      if (diffHours === 0) {
        const diffMinutes = Math.floor(diffMs / (1000 * 60));
        return this.translateService.instant('time.minutes_ago', { count: diffMinutes });
      }
      return this.translateService.instant('time.hours_ago', { count: diffHours });
    } else if (diffDays === 1) {
      return this.translateService.instant('time.yesterday');
    } else if (diffDays < 7) {
      return this.translateService.instant('time.days_ago', { count: diffDays });
    } else if (diffDays < 30) {
      const diffWeeks = Math.floor(diffDays / 7);
      return this.translateService.instant('time.weeks_ago', { count: diffWeeks });
    } else if (diffDays < 365) {
      const diffMonths = Math.floor(diffDays / 30);
      return this.translateService.instant('time.months_ago', { count: diffMonths });
    } else {
      const diffYears = Math.floor(diffDays / 365);
      return this.translateService.instant('time.years_ago', { count: diffYears });
    }
  }

  handleCardClick(): void {
    this.cardClick.emit(this.post);
  }

  get readingTime(): number | null {
    return this.post.type === 'blog' ? this.post.readingTime : null;
  }

  get isQuestion(): boolean {
    return this.post.type === 'forum' ? this.post.isQuestion : false;
  }

  get hasAcceptedAnswer(): boolean {
    return this.post.type === 'forum' ? this.post.hasAcceptedAnswer : false;
  }
}



================================================================================
FILE: src\app\shared\components\primary-btn\primary-btn.css
================================================================================

.primary-btn {
  height: 30px;
  padding: 0 16px;
  min-width: 100px;
  background: transparent;
  border: none;

  color: currentColor;

  font-family: 'Inconsolata', monospace;
  font-size: clamp(12px, 3vw, 16px);
  letter-spacing: 0.13em;
  line-height: 1;
  font-weight: 500;
  position: relative;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  transition:
    color 0.3s ease,
    opacity 0.2s ease;
}

.primary-btn:hover {
  opacity: 0.75;
}

.btn-text {
  position: relative;
  display: inline-flex;
  justify-content: center;
  z-index: 1;
}

.btn-text .underline {
  position: absolute;
  bottom: -6px;
  left: 50%;
  transform: translateX(-50%);
  height: 2px;
  width: 16px;
  background-color: var(--btn-underline-color, var(--color-accent-bright));
  transition: width 0.3s ease;
}

.primary-btn:hover .btn-text .underline {
  width: calc(100% - 0.13em);
}



================================================================================
FILE: src\app\shared\components\primary-btn\primary-btn.html
================================================================================

<button class="primary-btn" (click)="onClick()">
  <span class="btn-text">
    <ng-content></ng-content>
    <span class="underline"></span>
  </span>
</button>



================================================================================
FILE: src\app\shared\components\primary-btn\primary-btn.ts
================================================================================

import { Component, EventEmitter, Output } from '@angular/core';

@Component({
  selector: 'app-primary-btn',
  standalone: true,
  imports: [],
  templateUrl: './primary-btn.html',
  styleUrl: './primary-btn.css',
})
export class PrimaryBtn {
  @Output() clicked = new EventEmitter<void>();

  onClick() {
    this.clicked.emit();
  }
}



================================================================================
FILE: src\app\shared\components\product-card\product-card.css
================================================================================

.product-card {
  display: flex;
  flex-direction: column;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  overflow: hidden;
  transition:
    box-shadow var(--transition-normal),
    transform var(--transition-bounce),
    border-color var(--transition-normal);
  height: 100%;
  position: relative;
}

/* Subtle top accent line */
.product-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--gradient-primary);
  opacity: 0;
  transition: opacity var(--transition-normal);
  z-index: 1;
}

@media (hover: hover) and (pointer: fine) {
  .product-card:hover {
    box-shadow:
      var(--shadow-xl),
      0 0 0 1px var(--color-primary-mid);
    transform: translateY(-6px);
    border-color: var(--color-primary);
  }

  .product-card:hover::before {
    opacity: 1;
  }

  .product-card:hover .product-image {
    transform: scale(1.07);
  }

  .product-card:hover .product-image-overlay {
    opacity: 1;
  }
}

@media (hover: none) {
  .product-card:active {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-md);
  }
}

.product-card.out-of-stock {
  opacity: 0.72;
}

.product-card.compact {
  flex-direction: row;
  height: auto;
  border-radius: var(--radius-lg);
}

.product-link {
  text-decoration: none;
  color: inherit;
  flex: 1;
  display: flex;
  flex-direction: column;
}

.product-card.compact .product-link {
  flex-direction: row;
}

/* Image wrapper â€” gradient background instead of plain cream */
.product-image-wrapper {
  position: relative;
  width: 100%;
  height: 210px;
  background: var(--gradient-image-bg);
  overflow: hidden;
  padding: 16px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.product-card.compact .product-image-wrapper {
  width: 120px;
  min-width: 120px;
  height: 120px;
  padding: 8px;
  flex-shrink: 0;
}

.product-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
  transition: transform var(--transition-slow);
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.12));
}

/* Hover overlay shimmer on image */
.product-image-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.08) 0%,
    transparent 50%,
    rgba(6, 122, 69, 0.06) 100%
  );
  opacity: 0;
  transition: opacity var(--transition-normal);
  pointer-events: none;
}

/* Badges */
.badges {
  position: absolute;
  top: var(--space-3);
  right: var(--space-3);
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  z-index: var(--z-base);
}

.badge {
  padding: 4px 10px;
  border-radius: var(--radius-full);
  font-size: 0.7rem;
  font-weight: var(--font-bold);
  text-align: center;
  box-shadow: var(--shadow-sm);
  letter-spacing: 0.03em;
}

.discount-badge {
  background: linear-gradient(135deg, #dc2626, #ef4444);
  color: white;
  box-shadow: 0 2px 8px rgba(220, 38, 38, 0.4);
}

.prescription-badge {
  background: var(--gradient-primary);
  color: white;
  width: 34px;
  height: 34px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-lg);
  padding: 0;
  box-shadow: var(--shadow-primary);
}

.out-of-stock-badge {
  background: rgba(85, 85, 85, 0.9);
  backdrop-filter: blur(4px);
  color: white;
}

.out-of-stock-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  backdrop-filter: blur(2px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: var(--z-base);
}

.out-of-stock-overlay span {
  background: rgba(255, 255, 255, 0.95);
  color: var(--color-text-primary);
  padding: var(--space-2) var(--space-5);
  border-radius: var(--radius-full);
  font-weight: var(--font-semibold);
  font-size: var(--text-sm);
  box-shadow: var(--shadow-md);
}

/* Content */
.product-content {
  padding: var(--space-5) var(--space-4) var(--space-3);
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.product-card.compact .product-content {
  padding: var(--space-3);
  gap: var(--space-1);
}

.product-category {
  font-size: 0.68rem;
  text-transform: uppercase;
  color: var(--color-primary);
  font-weight: var(--font-bold);
  letter-spacing: 0.08em;
}

.product-title {
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
  color: var(--color-text-primary);
  margin: 0;
  line-height: var(--leading-tight);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.product-title.compact {
  font-size: var(--text-base);
  -webkit-line-clamp: 1;
}

.product-description {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  line-height: var(--leading-normal);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  margin: 0;
}

.product-meta {
  font-size: var(--text-xs);
  color: var(--color-text-tertiary);
  margin: 0;
}

.meta-label {
  font-weight: var(--font-medium);
}

.meta-value {
  color: var(--color-text-secondary);
}

/* Rating */
.product-rating {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
}

.rating-stars {
  color: var(--color-warning);
  letter-spacing: -1px;
}

.rating-value {
  font-weight: var(--font-semibold);
  color: var(--color-text-primary);
}

.rating-count {
  color: var(--color-text-secondary);
  font-size: var(--text-xs);
}

/* Price */
.product-price-section {
  margin-top: auto;
  padding-top: var(--space-3);
  border-top: 1px solid var(--color-border);
}

.price {
  font-size: var(--text-2xl);
  font-weight: var(--font-extrabold);
  color: var(--color-primary);
  line-height: 1;
}

.product-card.compact .price {
  font-size: var(--text-lg);
}

.price-with-discount {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.original-price {
  font-size: var(--text-sm);
  color: var(--color-text-tertiary);
  text-decoration: line-through;
}

.discounted-price {
  font-size: var(--text-2xl);
  font-weight: var(--font-extrabold);
  color: var(--color-error);
  line-height: 1;
}

.product-card.compact .discounted-price {
  font-size: var(--text-lg);
}

/* Actions */
.product-actions {
  padding: var(--space-3) var(--space-4) var(--space-4);
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.product-card.compact .product-actions {
  padding: var(--space-3);
  padding-top: 0;
  flex-direction: row;
  align-items: center;
}

/* Quantity controls */
.quantity-controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-3);
  padding: var(--space-2);
  background: var(--color-surface-elevated);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-border);
}

.quantity-controls.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.quantity-btn {
  width: 44px;
  height: 44px;
  border-radius: var(--radius-md);
  background: var(--gradient-primary);
  color: var(--color-text-on-primary);
  border: none;
  font-size: var(--text-xl);
  font-weight: var(--font-bold);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--transition-fast);
  font-family: var(--font-primary);
  line-height: 1;
  box-shadow: var(--shadow-sm);
}

@media (hover: hover) and (pointer: fine) {
  .quantity-btn:hover:not(:disabled) {
    background: var(--gradient-primary-hover);
    transform: scale(1.08);
    box-shadow: var(--shadow-primary);
  }
}

.quantity-btn:disabled {
  opacity: 0.45;
  cursor: not-allowed;
  background: var(--color-text-tertiary);
  box-shadow: none;
}

.quantity-value {
  min-width: 36px;
  text-align: center;
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
  color: var(--color-text-primary);
}

/* Add to cart â€” gradient button */
.add-to-cart-button {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  background: var(--gradient-primary);
  color: var(--color-text-on-primary);
  border: none;
  border-radius: var(--radius-lg);
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  cursor: pointer;
  transition: all var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  font-family: var(--font-primary);
  min-height: 44px;
  box-shadow: var(--shadow-primary);
  letter-spacing: 0.01em;
}

.add-to-cart-button.compact {
  padding: var(--space-2) var(--space-3);
  font-size: var(--text-sm);
  min-height: 44px;
}

@media (hover: hover) and (pointer: fine) {
  .add-to-cart-button:hover:not(:disabled) {
    background: var(--gradient-primary-hover);
    box-shadow: var(--shadow-primary-lg);
    transform: translateY(-2px);
  }
}

.add-to-cart-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  box-shadow: none;
  transform: none;
  background: var(--color-text-secondary);
}

.button-icon {
  font-size: var(--text-lg);
}

/* Details button â€” outlined */
.details-button {
  width: 100%;
  padding: var(--space-2) var(--space-4);
  background: transparent;
  color: var(--color-primary);
  border: 2px solid var(--color-primary);
  border-radius: var(--radius-lg);
  font-size: var(--text-sm);
  font-weight: var(--font-semibold);
  cursor: pointer;
  transition: all var(--transition-fast);
  font-family: var(--font-primary);
  min-height: 44px;
}

@media (hover: hover) and (pointer: fine) {
  .details-button:hover {
    background: var(--color-primary);
    color: white;
    box-shadow: var(--shadow-primary);
    transform: translateY(-1px);
  }
}

/* Responsive */
@media (max-width: 768px) {
  .product-card.compact .product-image-wrapper {
    width: 100px;
    min-width: 100px;
    height: 100px;
  }

  .product-content {
    padding: var(--space-4) var(--space-3) var(--space-2);
  }

  .product-title {
    font-size: var(--text-base);
  }

  .product-actions {
    padding: var(--space-2) var(--space-3) var(--space-3);
  }
}

@media (max-width: 375px) {
  .product-card.compact .product-image-wrapper {
    width: 80px;
    min-width: 80px;
    height: 80px;
    padding: 6px;
  }

  .product-content {
    padding: var(--space-2) var(--space-3);
    gap: var(--space-1);
  }

  .product-title {
    font-size: var(--text-sm);
  }

  .price,
  .discounted-price {
    font-size: var(--text-xl);
  }
}

@media (prefers-reduced-motion: reduce) {
  .product-card,
  .product-image,
  .quantity-btn,
  .add-to-cart-button,
  .details-button {
    transition: none;
  }

  .product-card::before {
    transition: none;
  }
}



================================================================================
FILE: src\app\shared\components\product-card\product-card.html
================================================================================

<article
  class="product-card"
  [class.compact]="compact"
  [class.out-of-stock]="!product.inStock"
  [attr.aria-label]="localizedName"
>
  <a [routerLink]="['/products', product.id]" class="product-link">
    <div class="product-image-wrapper">
      <img [src]="product.imageUrl" [alt]="localizedName" class="product-image" loading="lazy" />

      <div class="product-image-overlay"></div>

      <div class="badges">
        @if (hasDiscount) {
          <span class="badge discount-badge"> -{{ product.discountPercentage }}% </span>
        }

        @if (product.requiresPrescription) {
          <span
            class="badge prescription-badge"
            [title]="'product.requires_prescription' | translate"
          >
            â„
          </span>
        }

        @if (!product.inStock) {
          <span class="badge out-of-stock-badge">
            {{ 'product.out_of_stock' | translate }}
          </span>
        }
      </div>

      @if (!product.inStock) {
        <div class="out-of-stock-overlay">
          <span>{{ 'product.out_of_stock' | translate }}</span>
        </div>
      }
    </div>

    <div class="product-content">
      @if (!compact && categoryName) {
        <span class="product-category">
          {{ categoryName }}
        </span>
      }

      <h3 class="product-title" [class.compact]="compact">
        {{ localizedName }}
      </h3>

      @if (!compact) {
        <p class="product-description">{{ localizedDescription }}</p>
      }

      @if (product.manufacturer && !compact) {
        <p class="product-meta">
          <span class="meta-label">{{ 'product.manufacturer' | translate }}:</span>
          <span class="meta-value">{{ product.manufacturer }}</span>
        </p>
      }

      @if (product.rating && !compact) {
        <div class="product-rating">
          <span class="rating-stars">â˜…â˜…â˜…â˜…â˜†</span>
          <span class="rating-value">{{ product.rating }}</span>
          <span class="rating-count">({{ product.reviewCount }})</span>
        </div>
      }

      <div class="product-price-section">
        @if (hasDiscount) {
          <div class="price-with-discount">
            <span class="original-price">{{ formattedPrice }}</span>
            <span class="discounted-price">{{ formattedDiscountedPrice }}</span>
          </div>
        } @else {
          <span class="price">{{ formattedPrice }}</span>
        }
      </div>
    </div>
  </a>

  <div class="product-actions">
    @if (!compact) {
      <div class="quantity-controls" [class.disabled]="!product.inStock">
        <button
          class="quantity-btn"
          (click)="decreaseQuantity()"
          [disabled]="quantity() <= 1 || !product.inStock"
          [attr.aria-label]="'product.decrease_quantity' | translate"
        >
          âˆ’
        </button>

        <span class="quantity-value">{{ quantity() }}</span>

        <button
          class="quantity-btn"
          (click)="increaseQuantity()"
          [disabled]="quantity() >= product.stockQuantity || !product.inStock"
          [attr.aria-label]="'product.increase_quantity' | translate"
        >
          +
        </button>
      </div>
    }

    <button
      class="add-to-cart-button"
      [class.compact]="compact"
      [disabled]="!canAddToCart"
      (click)="onAddToCart()"
      [attr.aria-label]="('common.add_to_cart' | translate) + ': ' + localizedName"
    >
      <span class="button-icon">ğŸ›’</span>
      {{ 'common.add_to_cart' | translate }}
    </button>

    @if (!compact) {
      <button
        class="details-button"
        (click)="onViewDetails()"
        [attr.aria-label]="('product.view_details' | translate) + ': ' + localizedName"
      >
        {{ 'product.view_details' | translate }}
      </button>
    }
  </div>
</article>



================================================================================
FILE: src\app\shared\components\product-card\product-card.ts
================================================================================

import { CommonModule } from '@angular/common';
import { Component, EventEmitter, inject, Input, Output, signal } from '@angular/core';
import { RouterLink } from '@angular/router';
import { TranslateModule, TranslateService } from '@ngx-translate/core';
import { ProductWithHelpers } from '../../../core/models/product.model';
import { CurrencyService } from '../../../core/services/currency.service';
import { ProductService } from '../../../services/product.service';
import { getImageUrl, getCategoryIcon } from '../../../core/constants/visuals';

@Component({
  selector: 'app-product-card',
  standalone: true,
  imports: [CommonModule, TranslateModule, RouterLink],
  templateUrl: './product-card.html',
  styleUrl: './product-card.css',
})
export class ProductCard {
  @Input({ required: true }) product!: ProductWithHelpers;
  @Input() compact = false;
  @Output() addToCart = new EventEmitter<{ product: ProductWithHelpers; quantity: number }>();
  @Output() viewDetails = new EventEmitter<ProductWithHelpers>();
  @Output() quantityChange = new EventEmitter<{ product: ProductWithHelpers; quantity: number }>();

  getImageUrl = getImageUrl;
  getCategoryIcon = getCategoryIcon;

  quantity = signal(1);

  private currencyService = inject(CurrencyService);
  private productService = inject(ProductService);
  private translateService = inject(TranslateService);

  get hasDiscount(): boolean {
    return this.product.hasDiscount;
  }

  get formattedPrice(): string {
    // getBasePrice reads the currentCurrency signal â†’ converts HUFâ†’USD/EUR as needed
    return this.currencyService.formatPrice(this.currencyService.getBasePrice(this.product));
  }

  get formattedDiscountedPrice(): string {
    // getDiscountedPrice applies sale_percentage on top of the converted base price
    return this.currencyService.formatPrice(this.currencyService.getDiscountedPrice(this.product));
  }

  get canAddToCart(): boolean {
    return (
      this.product.inStock &&
      !this.product.requiresPrescription &&
      this.quantity() <= this.product.stockQuantity
    );
  }

  get localizedName(): string {
    return this.product.name;
  }

  get localizedDescription(): string {
    return this.product.description;
  }

  get categoryName(): string {
    const catId = this.product.category ?? this.product.category_id ?? '';
    const cat = this.productService.getCategoryById(catId);
    if (!cat) return '';
    const lang = this.translateService.currentLang || 'hu';
    return lang === 'hu' ? cat.name_hu : lang === 'de' ? cat.name_de : cat.name_en;
  }

  increaseQuantity(): void {
    if (this.quantity() < this.product.stockQuantity) {
      this.quantity.update((q) => q + 1);
      this.quantityChange.emit({ product: this.product, quantity: this.quantity() });
    }
  }

  decreaseQuantity(): void {
    if (this.quantity() > 1) {
      this.quantity.update((q) => q - 1);
      this.quantityChange.emit({ product: this.product, quantity: this.quantity() });
    }
  }

  onAddToCart(): void {
    if (this.canAddToCart) {
      // only event emit â€” the parent (product-list) manages the addtocart.
      this.addToCart.emit({ product: this.product, quantity: this.quantity() });
      this.quantity.set(1);
    }
  }

  onViewDetails(): void {
    this.viewDetails.emit(this.product);
  }
}



================================================================================
FILE: src\app\shared\components\product-detail-modal\product-detail-modal.css
================================================================================

.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.75);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: var(--z-modal-backdrop, 1000);
  padding: var(--space-4, 16px);
  overflow-y: auto;
  animation: fadeIn 0.2s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.modal-container {
  position: relative;
  background: var(--color-surface);
  border-radius: var(--radius-xl, 16px);
  max-width: 1000px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: var(--shadow-xl);
  animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.modal-close {
  position: absolute;
  top: var(--space-4, 16px);
  right: var(--space-4, 16px);
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: var(--color-surface-elevated);
  border: 1px solid var(--color-border);
  font-size: var(--text-2xl, 24px);
  color: var(--color-text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition-fast, 0.15s ease);
  z-index: var(--z-modal, 1001);
  font-family: var(--font-primary);
  line-height: 1;
}

@media (hover: hover) and (pointer: fine) {
  .modal-close:hover {
    background: var(--color-error);
    border-color: var(--color-error);
    color: white;
    transform: rotate(90deg);
  }
}

.modal-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-8, 32px);
  padding: var(--space-8, 32px);
}

.modal-images {
  display: flex;
  flex-direction: column;
  gap: var(--space-4, 16px);
}

.main-image-wrapper {
  position: relative;
  width: 100%;
  aspect-ratio: 1;
  background: var(--color-surface-elevated);
  border-radius: var(--radius-lg, 12px);
  overflow: hidden;
}

.main-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.image-nav-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 48px;
  height: 48px;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(8px);
  color: white;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  font-size: 32px;
  font-weight: bold;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  z-index: 10;
  font-family: var(--font-primary);
  line-height: 1;
  user-select: none;
}

.image-nav-btn.prev {
  left: 12px;
}
.image-nav-btn.next {
  right: 12px;
}

@media (hover: hover) and (pointer: fine) {
  .image-nav-btn:hover:not(:disabled) {
    background: rgba(0, 0, 0, 0.8);
    border-color: rgba(255, 255, 255, 0.5);
    transform: translateY(-50%) scale(1.1);
  }
}

.image-nav-btn:disabled,
.image-nav-btn.disabled {
  opacity: 0.3;
  cursor: not-allowed;
  background: rgba(0, 0, 0, 0.3);
}

.image-nav-btn:active:not(:disabled) {
  transform: translateY(-50%) scale(0.95);
}

.image-counter {
  position: absolute;
  bottom: 12px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(8px);
  color: white;
  padding: 6px 16px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: 600;
  z-index: 10;
  user-select: none;
}

.prescription-badge {
  position: absolute;
  top: var(--space-3, 12px);
  left: var(--space-3, 12px);
  background: var(--color-primary);
  color: white;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-2xl, 24px);
  font-weight: var(--font-bold);
  box-shadow: var(--shadow-md);
  z-index: var(--z-base, 1);
}

.discount-badge {
  position: absolute;
  top: var(--space-3, 12px);
  right: var(--space-3, 12px);
  background: var(--color-error);
  color: white;
  padding: var(--space-2, 8px) var(--space-4, 16px);
  border-radius: var(--radius-sm, 6px);
  font-size: var(--text-base, 16px);
  font-weight: var(--font-bold);
  box-shadow: var(--shadow-md);
  z-index: var(--z-base, 1);
}

.thumbnail-list {
  display: flex;
  gap: var(--space-2, 8px);
  overflow-x: auto;
  padding: var(--space-1, 4px);
  scrollbar-width: thin;
  scrollbar-color: var(--color-primary) var(--color-surface-elevated);
}

.thumbnail-list::-webkit-scrollbar {
  height: 6px;
}
.thumbnail-list::-webkit-scrollbar-track {
  background: var(--color-surface-elevated);
  border-radius: 3px;
}
.thumbnail-list::-webkit-scrollbar-thumb {
  background: var(--color-primary);
  border-radius: 3px;
}

.thumbnail {
  flex-shrink: 0;
  width: 80px;
  height: 80px;
  border: 2px solid var(--color-border);
  border-radius: var(--radius-md, 8px);
  overflow: hidden;
  cursor: pointer;
  transition: all var(--transition-fast, 0.15s ease);
  background: var(--color-surface-elevated);
  padding: 0;
}

@media (hover: hover) and (pointer: fine) {
  .thumbnail:hover {
    border-color: var(--color-primary);
    transform: scale(1.05);
  }
}

.thumbnail.active {
  border-color: var(--color-primary);
  border-width: 3px;
  box-shadow: 0 0 0 2px var(--color-primary-light);
}

.thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.modal-details {
  display: flex;
  flex-direction: column;
  gap: var(--space-6, 24px);
}

.modal-header {
  display: flex;
  flex-direction: column;
  gap: var(--space-2, 8px);
}

.product-category-badge {
  display: inline-block;
  width: fit-content;
  padding: var(--space-1, 4px) var(--space-3, 12px);
  background: var(--color-primary-light);
  color: var(--color-primary);
  border-radius: var(--radius-full, 9999px);
  font-size: var(--text-xs, 12px);
  font-weight: var(--font-semibold);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.modal-title {
  font-size: var(--text-3xl, 30px);
  font-weight: var(--font-bold);
  color: var(--color-text-primary);
  margin: 0;
  line-height: var(--leading-tight, 1.25);
}

.product-rating {
  display: flex;
  align-items: center;
  gap: var(--space-2, 8px);
}

.rating-stars {
  color: var(--color-warning, #f59e0b);
  font-size: var(--text-lg, 18px);
}

.rating-value {
  font-weight: var(--font-semibold);
  color: var(--color-text-primary);
  font-size: var(--text-base, 16px);
}

.rating-count {
  color: var(--color-text-secondary);
  font-size: var(--text-sm, 14px);
}

.price-section {
  padding: var(--space-4, 16px) 0;
  border-top: 1px solid var(--color-border);
  border-bottom: 1px solid var(--color-border);
}

.price {
  font-size: var(--text-3xl, 30px);
  font-weight: var(--font-bold);
  color: var(--color-primary);
}

.price-with-discount {
  display: flex;
  flex-direction: column;
  gap: var(--space-1, 4px);
}

.original-price {
  font-size: var(--text-lg, 18px);
  color: var(--color-text-secondary);
  text-decoration: line-through;
}

.discounted-price {
  font-size: var(--text-3xl, 30px);
  font-weight: var(--font-bold);
  color: var(--color-error);
}

.meta-info {
  display: flex;
  flex-direction: column;
  gap: var(--space-2, 8px);
}

.meta-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-2, 8px) 0;
  font-size: var(--text-sm, 14px);
}

.meta-label {
  font-weight: var(--font-medium);
  color: var(--color-text-secondary);
}

.meta-value {
  font-weight: var(--font-semibold);
  color: var(--color-text-primary);
}

.meta-value.in-stock {
  color: var(--color-success);
}
.meta-value.out-of-stock {
  color: var(--color-error);
}

.description-section,
.pharma-details {
  display: flex;
  flex-direction: column;
  gap: var(--space-3, 12px);
}

.section-title {
  font-size: var(--text-lg, 18px);
  font-weight: var(--font-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.description-text {
  font-size: var(--text-base, 16px);
  line-height: var(--leading-relaxed, 1.75);
  color: var(--color-text-secondary);
  margin: 0;
}

.detail-item {
  display: flex;
  flex-direction: column;
  gap: var(--space-1, 4px);
  padding: var(--space-3, 12px);
  background: var(--color-surface-elevated);
  border-radius: var(--radius-md, 8px);
  font-size: var(--text-sm, 14px);
}

.detail-item strong {
  color: var(--color-text-primary);
  font-weight: var(--font-semibold);
}

.detail-item span {
  color: var(--color-text-secondary);
}

.cart-section {
  display: flex;
  flex-direction: column;
  gap: var(--space-4, 16px);
  padding-top: var(--space-4, 16px);
  border-top: 2px solid var(--color-border);
}

.quantity-controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-4, 16px);
  padding: var(--space-3, 12px);
  background: var(--color-surface-elevated);
  border-radius: var(--radius-lg, 12px);
}

.quantity-btn {
  width: 44px;
  height: 44px;
  border-radius: var(--radius-md, 8px);
  background: var(--color-primary);
  color: var(--color-text-on-primary, white);
  border: none;
  font-size: var(--text-2xl, 24px);
  font-weight: var(--font-bold);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--transition-fast, 0.15s ease);
  font-family: var(--font-primary);
  line-height: 1;
}

@media (hover: hover) and (pointer: fine) {
  .quantity-btn:hover:not(:disabled) {
    background: var(--color-primary-hover);
    transform: scale(1.1);
  }
}

.quantity-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.quantity-value {
  min-width: 60px;
  text-align: center;
  font-size: var(--text-2xl, 24px);
  font-weight: var(--font-bold);
  color: var(--color-text-primary);
}

.total-price-display {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-4, 16px);
  background: var(--color-primary-light);
  border-radius: var(--radius-lg, 12px);
}

.total-label {
  font-size: var(--text-lg, 18px);
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
}

.total-value {
  font-size: var(--text-2xl, 24px);
  font-weight: var(--font-bold);
  color: var(--color-primary);
}

.add-to-cart-button {
  width: 100%;
  padding: var(--space-4, 16px) var(--space-6, 24px);
  background: var(--color-primary);
  color: var(--color-text-on-primary, white);
  border: none;
  border-radius: var(--radius-lg, 12px);
  font-size: var(--text-lg, 18px);
  font-weight: var(--font-semibold);
  cursor: pointer;
  transition: all var(--transition-fast, 0.15s ease);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-3, 12px);
  font-family: var(--font-primary);
  box-shadow: var(--shadow-md);
  min-height: 52px;
}

@media (hover: hover) and (pointer: fine) {
  .add-to-cart-button:hover:not(:disabled) {
    background: var(--color-primary-hover);
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
  }
}

.add-to-cart-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.button-icon {
  font-size: var(--text-xl, 20px);
}

.prescription-notice {
  display: flex;
  align-items: center;
  gap: var(--space-2, 8px);
  padding: var(--space-3, 12px);
  background: var(--color-info);
  color: white;
  border-radius: var(--radius-md, 8px);
  font-size: var(--text-sm, 14px);
}

.notice-icon {
  font-size: var(--text-lg, 18px);
}
.notice-text {
  font-weight: var(--font-medium);
}

@media (max-width: 768px) {
  .modal-content {
    grid-template-columns: 1fr;
    gap: var(--space-6, 24px);
    padding: var(--space-6, 24px);
  }

  .modal-close {
    top: var(--space-3, 12px);
    right: var(--space-3, 12px);
  }

  .modal-title {
    font-size: var(--text-2xl, 24px);
  }

  .price,
  .discounted-price {
    font-size: var(--text-2xl, 24px);
  }

  .image-nav-btn {
    width: 44px;
    height: 44px;
    font-size: 26px;
  }

  .image-nav-btn.prev {
    left: 8px;
  }
  .image-nav-btn.next {
    right: 8px;
  }

  .thumbnail {
    width: 64px;
    height: 64px;
  }
}

@media (max-width: 480px) {
  .modal-backdrop {
    padding: 0;
    align-items: flex-end;
  }

  .modal-container {
    max-height: 96vh;
    border-radius: var(--radius-xl, 16px) var(--radius-xl, 16px) 0 0;
    width: 100%;
  }

  .modal-content {
    padding: var(--space-4, 16px);
  }

  .modal-title {
    font-size: var(--text-xl, 20px);
  }

  .price,
  .discounted-price {
    font-size: var(--text-xl, 20px);
  }

  .quantity-controls {
    gap: var(--space-3, 12px);
  }

  .quantity-value {
    min-width: 48px;
    font-size: var(--text-xl, 20px);
  }

  .image-nav-btn {
    width: 40px;
    height: 40px;
    font-size: 22px;
  }

  .thumbnail {
    width: 56px;
    height: 56px;
  }

  .total-label {
    font-size: var(--text-base, 16px);
  }

  .total-value {
    font-size: var(--text-xl, 20px);
  }

  .add-to-cart-button {
    font-size: var(--text-base, 16px);
    padding: var(--space-3, 12px) var(--space-4, 16px);
  }
}

@media (max-width: 375px) {
  .modal-content {
    padding: var(--space-3, 12px);
    gap: var(--space-4, 16px);
  }

  .modal-title {
    font-size: var(--text-lg, 18px);
  }

  .section-title {
    font-size: var(--text-base, 16px);
  }

  .description-text {
    font-size: var(--text-sm, 14px);
  }
}

@media (prefers-reduced-motion: reduce) {
  .modal-backdrop {
    animation: none;
  }
  .modal-container {
    animation: none;
  }
  .modal-close,
  .image-nav-btn,
  .thumbnail,
  .quantity-btn,
  .add-to-cart-button {
    transition: none;
  }
}



================================================================================
FILE: src\app\shared\components\product-detail-modal\product-detail-modal.html
================================================================================

<div class="modal-backdrop" (click)="handleBackdropClick($event)">
  <div class="modal-container" role="dialog" aria-modal="true" [attr.aria-label]="localizedName">
    <button
      class="modal-close"
      (click)="handleClose()"
      [attr.aria-label]="'common.close' | translate"
    >
      âœ•
    </button>

    <div class="modal-content">
      <div class="modal-images">
        <div class="main-image-wrapper">
          @if (images.length > 1) {
            <button
              class="image-nav-btn prev"
              [class.disabled]="!canGoPrevious()"
              [disabled]="!canGoPrevious()"
              (click)="previousImage()"
              [attr.aria-label]="'product.previous_image' | translate"
            >
              â€¹
            </button>
          }

          <img [src]="selectedImage" [alt]="localizedName" class="main-image" />

          @if (product.requiresPrescription) {
            <span class="prescription-badge" [title]="'product.requires_prescription' | translate">
              â„
            </span>
          }

          @if (hasDiscount) {
            <span class="discount-badge"> -{{ product.discountPercentage }}% </span>
          }

          @if (images.length > 1) {
            <button
              class="image-nav-btn next"
              [class.disabled]="!canGoNext()"
              [disabled]="!canGoNext()"
              (click)="nextImage()"
              [attr.aria-label]="'product.next_image' | translate"
            >
              â€º
            </button>
          }

          @if (images.length > 1) {
            <div class="image-counter">{{ selectedImageIndex() + 1 }} / {{ images.length }}</div>
          }
        </div>

        @if (images.length > 1) {
          <div class="thumbnail-list">
            @for (image of images; track $index) {
              <button
                class="thumbnail"
                [class.active]="selectedImageIndex() === $index"
                (click)="selectImage($index)"
                [attr.aria-label]="'product.view_image' | translate: { number: $index + 1 }"
              >
                <img [src]="image" [alt]="localizedName + ' - ' + ($index + 1)" />
              </button>
            }
          </div>
        }
      </div>

      <div class="modal-details">
        <div class="modal-header">
          <span class="product-category-badge">
            {{ categoryName }}
          </span>

          <h2 class="modal-title">{{ localizedName }}</h2>

          @if (product.rating) {
            <div class="product-rating">
              <span class="rating-stars">{{ getRatingStars() }}</span>
              <span class="rating-value">{{ product.rating }}</span>
              <span class="rating-count"
                >({{ product.reviewCount }} {{ 'product.reviews' | translate }})</span
              >
            </div>
          }
        </div>

        <div class="price-section">
          @if (hasDiscount) {
            <div class="price-with-discount">
              <span class="original-price">{{ formattedPrice }}</span>
              <span class="discounted-price">{{ formattedDiscountedPrice }}</span>
            </div>
          } @else {
            <span class="price">{{ formattedPrice }}</span>
          }
        </div>

        <div class="meta-info">
          @if (product.manufacturer) {
            <div class="meta-row">
              <span class="meta-label">{{ 'product.manufacturer' | translate }}:</span>
              <span class="meta-value">{{ product.manufacturer }}</span>
            </div>
          }

          @if (product.brand) {
            <div class="meta-row">
              <span class="meta-label">{{ 'product.brand' | translate }}:</span>
              <span class="meta-value">{{ product.brand }}</span>
            </div>
          }

          @if (product.sku) {
            <div class="meta-row">
              <span class="meta-label">{{ 'product.sku' | translate }}:</span>
              <span class="meta-value">{{ product.sku }}</span>
            </div>
          }

          <div class="meta-row">
            <span class="meta-label">{{ 'product.availability' | translate }}:</span>
            <span
              class="meta-value"
              [class.in-stock]="product.inStock"
              [class.out-of-stock]="!product.inStock"
            >
              {{
                product.inStock
                  ? ('product.in_stock' | translate)
                  : ('product.out_of_stock' | translate)
              }}
              @if (product.inStock && product.stockQuantity) {
                ({{ product.stockQuantity }} {{ 'product.pieces' | translate }})
              }
            </span>
          </div>
        </div>

        <div class="description-section">
          <h3 class="section-title">{{ 'product.description' | translate }}</h3>
          <p class="description-text">{{ localizedDescription }}</p>
        </div>

        @if (product.activeIngredients || product.dosage || product.packaging) {
          <div class="pharma-details">
            <h3 class="section-title">{{ 'product.pharmaceutical_details' | translate }}</h3>

            @if (product.activeIngredients) {
              <div class="detail-item">
                <strong>{{ 'product.active_ingredients' | translate }}:</strong>
                <span>{{ product.activeIngredients }}</span>
              </div>
            }

            @if (product.dosage) {
              <div class="detail-item">
                <strong>{{ 'product.dosage' | translate }}:</strong>
                <span>{{ product.dosage }}</span>
              </div>
            }

            @if (product.packaging) {
              <div class="detail-item">
                <strong>{{ 'product.packaging' | translate }}:</strong>
                <span>{{ product.packaging }}</span>
              </div>
            }
          </div>
        }

        <div class="cart-section">
          <div class="quantity-controls">
            <button
              class="quantity-btn"
              (click)="decreaseQuantity()"
              [disabled]="quantity() <= 1 || !product.inStock"
              [attr.aria-label]="'product.decrease_quantity' | translate"
            >
              âˆ’
            </button>

            <span class="quantity-value">{{ quantity() }}</span>

            <button
              class="quantity-btn"
              (click)="increaseQuantity()"
              [disabled]="quantity() >= product.stockQuantity || !product.inStock"
              [attr.aria-label]="'product.increase_quantity' | translate"
            >
              +
            </button>
          </div>

          <div class="total-price-display">
            <span class="total-label">{{ 'product.total' | translate }}:</span>
            <span class="total-value">{{ formattedTotalPrice }}</span>
          </div>

          <button class="add-to-cart-button" [disabled]="!canAddToCart" (click)="handleAddToCart()">
            <span class="button-icon">ğŸ›’</span>
            {{ 'common.add_to_cart' | translate }}
          </button>

          @if (product.requiresPrescription) {
            <div class="prescription-notice">
              <span class="notice-icon">â„¹ï¸</span>
              <span class="notice-text">{{
                'product.prescription_required_notice' | translate
              }}</span>
            </div>
          }
        </div>
      </div>
    </div>
  </div>
</div>



================================================================================
FILE: src\app\shared\components\product-detail-modal\product-detail-modal.ts
================================================================================

import { CommonModule } from '@angular/common';
import { Component, EventEmitter, inject, Input, Output, signal, computed } from '@angular/core';
import { TranslateModule, TranslateService } from '@ngx-translate/core';
import { ProductWithHelpers } from '../../../core/models/product.model';
import { CurrencyService } from '../../../core/services/currency.service';
import { ProductService } from '../../../services/product.service';

@Component({
  selector: 'app-product-detail-modal',
  standalone: true,
  imports: [CommonModule, TranslateModule],
  templateUrl: './product-detail-modal.html',
  styleUrl: './product-detail-modal.css',
})
export class ProductDetailModal {
  @Input({ required: true }) product!: ProductWithHelpers;
  @Output() close = new EventEmitter<void>();
  @Output() addToCart = new EventEmitter<{ product: ProductWithHelpers; quantity: number }>();

  private currencyService = inject(CurrencyService);
  private productService = inject(ProductService);
  private translateService = inject(TranslateService);

  quantity = signal(1);
  selectedImageIndex = signal(0);

  get images(): string[] {
    return this.product.images;
  }

  get selectedImage(): string {
    return this.images[this.selectedImageIndex()];
  }

  canGoPrevious = computed(() => this.selectedImageIndex() > 0);
  canGoNext = computed(() => this.selectedImageIndex() < this.images.length - 1);

  get hasDiscount(): boolean {
    return this.product.hasDiscount;
  }

  get formattedPrice(): string {
    // getBasePrice convert HUF â†’ actual devisa (USD/EUR/HUF)
    // product.priceNumber and product.price always HUF!
    return this.currencyService.formatPrice(this.currencyService.getBasePrice(this.product));
  }

  get formattedDiscountedPrice(): string {
    // getDiscountedPrice = getBasePrice + sale_percentage levonÃ¡sa
    return this.currencyService.formatPrice(this.currencyService.getDiscountedPrice(this.product));
  }

  get formattedTotalPrice(): string {
    const unitPrice = this.currencyService.getDiscountedPrice(this.product);
    return this.currencyService.formatPrice(unitPrice * this.quantity());
  }

  get canAddToCart(): boolean {
    return (
      this.product.inStock &&
      !this.product.requiresPrescription &&
      this.quantity() <= this.product.stockQuantity
    );
  }

  get localizedName(): string {
    return this.product.name;
  }

  get localizedDescription(): string {
    return this.product.description;
  }

  get categoryName(): string {
    const cat = this.productService.getCategoryById(this.product.category ?? '');
    const lang = this.translateService.currentLang || 'hu';
    if (!cat) return '';
    return lang === 'hu' ? cat.name_hu : lang === 'de' ? cat.name_de : cat.name_en;
  }

  selectImage(index: number): void {
    this.selectedImageIndex.set(index);
  }

  nextImage(): void {
    if (this.canGoNext()) {
      this.selectedImageIndex.update((i) => i + 1);
    }
  }

  previousImage(): void {
    if (this.canGoPrevious()) {
      this.selectedImageIndex.update((i) => i - 1);
    }
  }

  increaseQuantity(): void {
    if (this.quantity() < this.product.stockQuantity) {
      this.quantity.update((q) => q + 1);
    }
  }

  decreaseQuantity(): void {
    if (this.quantity() > 1) {
      this.quantity.update((q) => q - 1);
    }
  }

  getRatingStars(): string {
    if (!this.product.ratingNumber) return '';
    const fullStars = Math.floor(this.product.ratingNumber);
    const hasHalfStar = this.product.ratingNumber % 1 >= 0.5;
    const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
    return 'â˜…'.repeat(fullStars) + (hasHalfStar ? 'â¯¨' : '') + 'â˜†'.repeat(emptyStars);
  }

  handleAddToCart(): void {
    if (this.canAddToCart) {
      this.addToCart.emit({ product: this.product, quantity: this.quantity() });
      this.handleClose();
    }
  }

  handleClose(): void {
    this.close.emit();
  }

  handleBackdropClick(event: MouseEvent): void {
    if (event.target === event.currentTarget) {
      this.handleClose();
    }
  }
}



================================================================================
FILE: src\app\shared\components\product-filter\product-filter.css
================================================================================

.product-filter {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.quick-filter-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-4);
  padding: var(--space-4);
}

.sort-select-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex: 1;
  max-width: 400px;
}

.sort-label {
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
  white-space: nowrap;
}

.sort-select {
  flex: 1;
  padding: var(--space-2) var(--space-10) var(--space-2) var(--space-3);
  background: var(--color-surface-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
  cursor: pointer;
  appearance: none;
  transition: all var(--transition-fast);
  font-family: var(--font-primary);
  min-height: 44px;
}

.sort-select:hover {
  border-color: var(--color-primary);
}

.sort-select:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px var(--color-primary-light);
}

.select-arrow {
  position: absolute;
  right: var(--space-3);
  pointer-events: none;
  font-size: var(--text-xs);
  color: var(--color-text-secondary);
}

.expand-button {
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  background: var(--color-surface-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
  cursor: pointer;
  transition: all var(--transition-fast);
  font-family: var(--font-primary);
  white-space: nowrap;
  min-height: 44px;
}

@media (hover: hover) and (pointer: fine) {
  .expand-button:hover {
    background: var(--color-primary-light);
    border-color: var(--color-primary);
  }
}

.expand-icon {
  font-size: var(--text-xs);
}

.expand-text {
  font-size: var(--text-sm);
}

.active-indicator {
  position: absolute;
  top: -4px;
  right: -4px;
  width: 12px;
  height: 12px;
  background: var(--color-error);
  border: 2px solid var(--color-surface);
  border-radius: 50%;
}

.expanded-filters {
  border-top: 1px solid var(--color-border);
  padding: var(--space-5);
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    max-height: 0;
  }
  to {
    opacity: 1;
    max-height: 600px;
  }
}

.filters-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-4);
}

.filters-title {
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  color: var(--color-text-primary);
  margin: 0;
}

.clear-all-button {
  padding: var(--space-2) var(--space-3);
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all var(--transition-fast);
  font-family: var(--font-primary);
  min-height: 44px;
}

@media (hover: hover) and (pointer: fine) {
  .clear-all-button:hover {
    background: var(--color-error);
    border-color: var(--color-error);
    color: white;
  }
}

.filters-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-5);
}

.filter-section {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.filter-label {
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
}

.price-inputs {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.price-input {
  flex: 1;
  padding: var(--space-2) var(--space-3);
  background: var(--color-surface-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  color: var(--color-text-primary);
  font-family: var(--font-primary);
  transition: all var(--transition-fast);
  min-height: 44px;
}

.price-input:hover {
  border-color: var(--color-primary);
}

.price-input:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px var(--color-primary-light);
}

.price-input::placeholder {
  color: var(--color-text-tertiary);
}

.price-separator {
  color: var(--color-text-secondary);
  font-weight: var(--font-medium);
  flex-shrink: 0;
}

.checkbox-label {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  cursor: pointer;
  user-select: none;
  min-height: 44px;
}

.checkbox-input {
  width: 20px;
  height: 20px;
  cursor: pointer;
  accent-color: var(--color-primary);
  flex-shrink: 0;
}

.checkbox-text {
  font-size: var(--text-sm);
  color: var(--color-text-primary);
}

@media (max-width: 768px) {
  .quick-filter-bar {
    flex-direction: column;
    align-items: stretch;
  }

  .sort-select-wrapper {
    max-width: none;
  }

  .expand-button {
    justify-content: center;
  }

  .filters-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .quick-filter-bar {
    padding: var(--space-3);
    gap: var(--space-3);
  }

  .expanded-filters {
    padding: var(--space-4) var(--space-3);
  }

  .sort-label {
    font-size: var(--text-xs);
  }

  .price-inputs {
    flex-direction: row;
    gap: var(--space-2);
  }

  .price-separator {
    font-size: var(--text-sm);
  }

  .price-input {
    font-size: var(--text-xs);
    padding: var(--space-2);
  }

  .filters-title {
    font-size: var(--text-base);
  }
}

@media (max-width: 375px) {
  .quick-filter-bar {
    padding: var(--space-2) var(--space-3);
  }

  .price-inputs {
    flex-direction: column;
    align-items: stretch;
  }

  .price-separator {
    text-align: center;
    display: block;
  }

  .price-input {
    width: 100%;
  }
}

@media (prefers-reduced-motion: reduce) {
  .expanded-filters {
    animation: none;
  }
}



================================================================================
FILE: src\app\shared\components\product-filter\product-filter.html
================================================================================

<div class="product-filter">
  <div class="quick-filter-bar">
    <div class="sort-select-wrapper">
      <label for="sort-select" class="sort-label"> {{ 'filter.sort_by' | translate }}: </label>
      <select
        id="sort-select"
        class="sort-select"
        [value]="filterState().sortBy"
        (change)="updateSortBy($any($event.target).value)"
      >
        @for (option of sortOptions; track option.value) {
          <option [value]="option.value">
            {{ option.label | translate }}
          </option>
        }
      </select>
      <span class="select-arrow">â–¼</span>
    </div>

    <button
      class="expand-button"
      (click)="toggleExpanded()"
      [attr.aria-expanded]="isExpanded()"
      [attr.aria-label]="'filter.toggle_filters' | translate"
    >
      <span class="expand-icon">{{ isExpanded() ? 'â–²' : 'â–¼' }}</span>
      <span class="expand-text">{{ 'filter.filters' | translate }}</span>
      @if (hasActiveFilters()) {
        <span class="active-indicator"></span>
      }
    </button>
  </div>

  @if (isExpanded()) {
    <div class="expanded-filters">
      <div class="filters-header">
        <h3 class="filters-title">{{ 'filter.advanced_filters' | translate }}</h3>
        @if (hasActiveFilters()) {
          <button class="clear-all-button" (click)="handleClearFilters()">
            {{ 'filter.clear_all' | translate }}
          </button>
        }
      </div>

      <div class="filters-grid">
        <div class="filter-section">
          <label class="filter-label">{{ 'filter.price_range' | translate }}</label>
          <div class="price-inputs">
            <input
              type="number"
              class="price-input"
              [value]="filterState().priceMin"
              (input)="handlePriceMinChange($any($event.target).value)"
              [placeholder]="'filter.min_price' | translate"
              min="0"
              step="100"
            />
            <span class="price-separator">â€”</span>
            <input
              type="number"
              class="price-input"
              [value]="filterState().priceMax"
              (input)="handlePriceMaxChange($any($event.target).value)"
              [placeholder]="'filter.max_price' | translate"
              min="0"
              step="100"
            />
          </div>
        </div>

        <div class="filter-section">
          <label class="checkbox-label">
            <input
              type="checkbox"
              class="checkbox-input"
              [checked]="filterState().inStockOnly"
              (change)="updateInStockOnly()"
            />
            <span class="checkbox-text">{{ 'filter.in_stock_only' | translate }}</span>
          </label>
        </div>
      </div>
    </div>
  }
</div>



================================================================================
FILE: src\app\shared\components\product-filter\product-filter.ts
================================================================================

import { Component, computed, EventEmitter, Output, signal } from '@angular/core';
import { ProductFilterOptions, SortOption } from '../../../core/models/product.model';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { TranslateModule } from '@ngx-translate/core';

interface FilterState {
  categories: string[];
  priceMin: number | null;
  priceMax: number | null;
  inStockOnly: boolean;
  sortBy: SortOption;
}

@Component({
  selector: 'app-product-filter',
  imports: [CommonModule, FormsModule, TranslateModule],
  templateUrl: './product-filter.html',
  styleUrl: './product-filter.css',
})
export class ProductFilter {
  @Output() filterChanged = new EventEmitter<ProductFilterOptions>();
  @Output() clearFilters = new EventEmitter<void>();

  filterState = signal<FilterState>({
    categories: [],
    priceMin: null,
    priceMax: null,
    inStockOnly: false,
    sortBy: 'popularity',
  });

  isExpanded = signal(false);

  sortOptions: Array<{ value: SortOption; label: string }> = [
    { value: 'popularity', label: 'filter.sort.popularity' },
    { value: 'name-asc', label: 'filter.sort.name_asc' },
    { value: 'name-desc', label: 'filter.sort.name_desc' },
    { value: 'price-asc', label: 'filter.sort.price_asc' },
    { value: 'price-desc', label: 'filter.sort.price_desc' },
    { value: 'rating', label: 'filter.sort.rating' },
    { value: 'newest', label: 'filter.sort.newest' },
  ];

  hasActiveFilters = computed(() => {
    const state = this.filterState();
    return (
      state.categories.length > 0 ||
      state.priceMin !== null ||
      state.priceMax !== null ||
      state.inStockOnly ||
      state.sortBy !== 'popularity'
    );
  });

  toggleExpanded(): void {
    this.isExpanded.update((v) => !v);
  }

  updateSortBy(sortBy: SortOption): void {
    this.filterState.update((state) => ({ ...state, sortBy }));
    this.emitFilters();
  }

  updateInStockOnly(): void {
    this.filterState.update((state) => ({ ...state, inStockOnly: !state.inStockOnly }));
    this.emitFilters();
  }

  updatePriceRange(): void {
    this.emitFilters();
  }

  handlePriceMinChange(value: string): void {
    const num = value ? parseFloat(value) : null;
    this.filterState.update((state) => ({ ...state, priceMin: num }));
    this.emitFilters();
  }

  handlePriceMaxChange(value: string): void {
    const num = value ? parseFloat(value) : null;
    this.filterState.update((state) => ({ ...state, priceMax: num }));
    this.emitFilters();
  }

  handleClearFilters(): void {
    this.filterState.set({
      categories: [],
      priceMin: null,
      priceMax: null,
      inStockOnly: false,
      sortBy: 'popularity',
    });
    this.clearFilters.emit();
  }

  private emitFilters(): void {
    const state = this.filterState();
    const filters: ProductFilterOptions = {
      categories: state.categories,
      priceRange:
        state.priceMin !== null || state.priceMax !== null
          ? { min: state.priceMin ?? 0, max: state.priceMax ?? Infinity }
          : null,
      inStockOnly: state.inStockOnly,
      sortBy: state.sortBy,
    };

    this.filterChanged.emit(filters);
  }
}



================================================================================
FILE: src\app\shared\components\product-list\product-list.css
================================================================================

.product-list-page {
  min-height: 100vh;
  background: var(--color-background);
}

.filter-section {
  max-width: 1400px;
  margin: 0 auto;
  padding: var(--space-6);
}

.products-section {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 var(--space-6) var(--space-6);
}

.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: var(--space-6);
  margin-bottom: var(--space-8);
}

.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-16) var(--space-6);
  text-align: center;
}

.empty-icon {
  font-size: 4rem;
  margin-bottom: var(--space-4);
  opacity: 0.5;
}

.empty-title {
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  color: var(--color-text-primary);
  margin: 0 0 var(--space-2) 0;
}

.empty-title-no-products {
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  color: #6b6760;
  margin: 0;
  text-align: center;
}

.empty-description {
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  margin: 0 0 var(--space-6) 0;
  max-width: 500px;
}

.clear-filters-button {
  padding: var(--space-3) var(--space-6);
  background: var(--color-primary);
  color: var(--color-text-on-primary);
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--text-base);
  font-weight: var(--font-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
  font-family: var(--font-primary);
  min-height: 44px;
}

@media (hover: hover) and (pointer: fine) {
  .clear-filters-button:hover {
    background: var(--color-primary-hover);
    box-shadow: var(--shadow-md);
    transform: translateY(-1px);
  }
}

@media (min-width: 1024px) {
  .products-grid {
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: var(--space-8);
  }
}

@media (max-width: 768px) {
  .filter-section,
  .products-section {
    padding-left: var(--space-4);
    padding-right: var(--space-4);
  }

  .products-grid {
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: var(--space-4);
  }

  .empty-state {
    padding: var(--space-12) var(--space-4);
  }

  .empty-icon {
    font-size: 3rem;
  }

  .empty-title,
  .empty-title-no-products {
    font-size: var(--text-xl);
  }
}

@media (max-width: 480px) {
  .filter-section,
  .products-section {
    padding-left: var(--space-3);
    padding-right: var(--space-3);
  }

  .products-grid {
    grid-template-columns: 1fr;
    gap: var(--space-3);
  }

  .empty-state {
    padding: var(--space-10) var(--space-3);
  }

  .empty-icon {
    font-size: 2.5rem;
    margin-bottom: var(--space-3);
  }

  .empty-title,
  .empty-title-no-products {
    font-size: var(--text-lg);
  }

  .empty-description {
    font-size: var(--text-sm);
  }
}

@media (max-width: 375px) {
  .filter-section,
  .products-section {
    padding-left: var(--space-2);
    padding-right: var(--space-2);
  }

  .products-grid {
    gap: var(--space-2);
  }
}

@media (prefers-reduced-motion: reduce) {
  .clear-filters-button {
    transition: none;
  }
}



================================================================================
FILE: src\app\shared\components\product-list\product-list.html
================================================================================

<div class="product-list-page">
  <app-category-bar
    [categories]="categories()"
    [selectedCategories]="filters().categories || []"
    (categorySelected)="handleCategorySelected($event)"
    (clearCategories)="handleClearCategories()"
  />

  <section class="filter-section">
    <app-product-filter
      (filterChanged)="handleFilterChanged($event)"
      (clearFilters)="handleClearFilters()"
    />
  </section>

  <section class="products-section">
    @if (products().length > 0) {
      <div class="products-grid">
        @for (product of products(); track product.id) {
          <app-product-card
            [product]="product"
            (addToCart)="handleAddToCart($event)"
            (viewDetails)="handleViewDetails($event)"
          />
        }
      </div>

      <app-product-pagination
        [pagination]="pagination()"
        (pageChange)="handlePageChange($event)"
        (itemsPerPageChange)="handleItemsPerPageChange($event)"
      />
    } @else {
      @if (allProducts().length === 0) {
        <div class="empty-state">
          <div class="empty-icon">ğŸ“¦</div>
          <h3 class="empty-title-no-products">{{ 'products.empty' | translate }}</h3>
        </div>
      } @else {
        <div class="empty-state">
          <div class="empty-icon">ğŸ”</div>
          <h3 class="empty-title">{{ 'product.no_products_found' | translate }}</h3>
          <p class="empty-description">
            {{ 'product.try_different_filters' | translate }}
          </p>
          <button class="clear-filters-button" (click)="handleClearFilters()">
            {{ 'filter.clear_all' | translate }}
          </button>
        </div>
      }
    }
  </section>

  @if (showModal && selectedProduct) {
    <app-product-detail-modal
      [product]="selectedProduct"
      (close)="handleModalClose()"
      (addToCart)="handleModalAddToCart($event)"
    />
  }
</div>



================================================================================
FILE: src\app\shared\components\product-list\product-list.ts
================================================================================

import { CommonModule } from '@angular/common';
import { Component, computed, inject } from '@angular/core';
import { TranslateModule } from '@ngx-translate/core';
import { Category, ProductWithHelpers } from '../../../core/models/product.model';
import { ProductService } from '../../../services/product.service';
import { CartService } from '../../../core/services/cart.service';
import { CategoryBar } from '../category-bar/category-bar';
import { ProductCard } from '../product-card/product-card';
import { ProductFilter } from '../product-filter/product-filter';
import { ProductPagination } from '../product-pagination/product-pagination';
import { ProductDetailModal } from '../product-detail-modal/product-detail-modal';

@Component({
  selector: 'app-product-list',
  imports: [
    CommonModule,
    TranslateModule,
    CategoryBar,
    ProductFilter,
    ProductCard,
    ProductPagination,
    ProductDetailModal,
  ],
  templateUrl: './product-list.html',
  styleUrl: './product-list.css',
})
export class ProductList {
  private productService = inject(ProductService);
  private cartService = inject(CartService);

  products = this.productService.paginatedProducts;
  pagination = this.productService.paginationState;
  filters = this.productService.currentFilters;
  allProducts = this.productService.products;

  categories = computed<Category[]>(() => this.productService.categories());

  selectedProduct: ProductWithHelpers | null = null;
  showModal = false;

  async ngOnInit(): Promise<void> {
    await Promise.all([this.productService.loadProducts(), this.productService.loadCategories()]);
  }

  handleCategorySelected(categoryId: string): void {
    const current = this.filters().categories || [];
    const updated = current.includes(categoryId)
      ? current.filter((c) => c !== categoryId)
      : [...current, categoryId];
    this.productService.setFilters({ categories: updated });
  }

  handleClearCategories(): void {
    this.productService.setFilters({ categories: [] });
  }

  handleFilterChanged(filters: any): void {
    this.productService.setFilters(filters);
  }

  handleClearFilters(): void {
    this.productService.clearFilters();
  }

  handlePageChange(page: number): void {
    this.productService.setPage(page);
    this.scrollToTop();
  }

  handleItemsPerPageChange(count: number): void {
    this.productService.setItemsPerPage(count);
    this.scrollToTop();
  }

  handleAddToCart(event: { product: ProductWithHelpers; quantity: number }): void {
    this.cartService.addToCart(event.product, event.quantity);
  }

  handleViewDetails(product: ProductWithHelpers): void {
    this.selectedProduct = product;
    this.showModal = true;
  }

  handleModalClose(): void {
    this.showModal = false;
    this.selectedProduct = null;
  }

  handleModalAddToCart(event: { product: ProductWithHelpers; quantity: number }): void {
    this.cartService.addToCart(event.product, event.quantity);
    this.handleModalClose();
  }

  private scrollToTop(): void {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
}



================================================================================
FILE: src\app\shared\components\product-pagination\product-pagination.css
================================================================================

.pagination-wrapper {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  padding: var(--space-6);
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
}

.items-per-page {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  justify-content: center;
}

.items-label {
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-secondary);
}

.items-options {
  display: flex;
  gap: var(--space-2);
}

.items-option {
  padding: var(--space-2) var(--space-4);
  background: var(--color-surface-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
  cursor: pointer;
  transition: all var(--transition-fast);
  font-family: var(--font-primary);
  min-height: 44px;
  min-width: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
}

@media (hover: hover) and (pointer: fine) {
  .items-option:hover {
    background: var(--color-primary-light);
    border-color: var(--color-primary);
  }
}

.items-option.active {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-text-on-primary);
  box-shadow: var(--shadow-sm);
}

.pagination-info {
  text-align: center;
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}

.pagination-info strong {
  color: var(--color-text-primary);
  font-weight: var(--font-semibold);
}

.pagination-controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.page-numbers {
  display: flex;
  gap: var(--space-1);
  flex-wrap: wrap;
  justify-content: center;
}

.page-button {
  min-width: 44px;
  height: 44px;
  padding: 0 var(--space-2);
  background: var(--color-surface-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
  cursor: pointer;
  transition: all var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  font-family: var(--font-primary);
}

@media (hover: hover) and (pointer: fine) {
  .page-button:hover:not(:disabled):not(.active) {
    background: var(--color-primary-light);
    border-color: var(--color-primary);
    transform: translateY(-1px);
  }
}

.page-button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.page-button.active {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-text-on-primary);
  box-shadow: var(--shadow-sm);
  font-weight: var(--font-bold);
}

.nav-button {
  font-size: var(--text-xl);
  font-weight: var(--font-bold);
}

.ellipsis {
  min-width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-text-secondary);
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
}

@media (max-width: 768px) {
  .pagination-wrapper {
    padding: var(--space-4);
    gap: var(--space-3);
  }

  .items-per-page {
    flex-direction: column;
    gap: var(--space-2);
  }

  .pagination-info {
    font-size: var(--text-xs);
  }
}

@media (max-width: 480px) {
  .pagination-wrapper {
    padding: var(--space-3);
    border-radius: var(--radius-md);
  }

  .page-numbers {
    gap: 2px;
  }

  .page-button {
    min-width: 40px;
    height: 40px;
    font-size: var(--text-xs);
  }

  .ellipsis {
    min-width: 32px;
    height: 40px;
  }

  .items-option {
    padding: var(--space-1) var(--space-3);
    min-height: 40px;
    min-width: 40px;
    font-size: var(--text-xs);
  }

  .items-label {
    font-size: var(--text-xs);
  }
}

@media (max-width: 375px) {
  .page-button {
    min-width: 36px;
    height: 38px;
  }

  .ellipsis {
    min-width: 28px;
  }

  .page-numbers {
    gap: 1px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .page-button,
  .items-option {
    transition: none;
  }
}



================================================================================
FILE: src\app\shared\components\product-pagination\product-pagination.html
================================================================================

<div class="pagination-wrapper">
  <div class="items-per-page">
    <label class="items-label">{{ 'pagination.items_per_page' | translate }}:</label>
    <div class="items-options">
      @for (option of itemsPerPageOptions; track option) {
        <button
          class="items-option"
          [class.active]="option === pagination.itemsPerPage"
          (click)="updateItemsPerPage(option)"
        >
          {{ option }}
        </button>
      }
    </div>
  </div>

  <div class="pagination-info">
    {{ 'pagination.showing' | translate }}
    <strong>{{ startItem }}</strong
    >-<strong>{{ endItem }}</strong>
    {{ 'pagination.of' | translate }}
    <strong>{{ pagination.totalItems }}</strong>
  </div>

  <nav class="pagination-controls" [attr.aria-label]="'pagination.navigation' | translate">
    <button
      class="page-button nav-button"
      [disabled]="!hasPrevious"
      (click)="previousPage()"
      [attr.aria-label]="'pagination.previous' | translate"
    >
      â€¹
    </button>

    <div class="page-numbers">
      @for (page of pages; track $index) {
        @if (page === -1) {
          <span class="ellipsis">â€¦</span>
        } @else {
          <button
            class="page-button"
            [class.active]="page === pagination.currentPage"
            (click)="goToPage(page)"
            [attr.aria-label]="('pagination.page' | translate) + ' ' + page"
            [attr.aria-current]="page === pagination.currentPage ? 'page' : null"
          >
            {{ page }}
          </button>
        }
      }
    </div>

    <button
      class="page-button nav-button"
      [disabled]="!hasNext"
      (click)="nextPage()"
      [attr.aria-label]="'pagination.next' | translate"
    >
      â€º
    </button>
  </nav>
</div>



================================================================================
FILE: src\app\shared\components\product-pagination\product-pagination.ts
================================================================================

import { CommonModule } from '@angular/common';
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { TranslateModule } from '@ngx-translate/core';
import { PaginationConfig } from '../../../core/models/product.model';

@Component({
  selector: 'app-product-pagination',
  imports: [CommonModule, TranslateModule],
  templateUrl: './product-pagination.html',
  styleUrl: './product-pagination.css',
})
export class ProductPagination {
  @Input({ required: true }) pagination!: PaginationConfig;
  @Output() pageChange = new EventEmitter<number>();
  @Output() itemsPerPageChange = new EventEmitter<number>();

  itemsPerPageOptions = [10, 30, 60];

  get pages(): number[] {
    return this.getPageNumbers();
  }

  get hasPrevious(): boolean {
    return this.pagination.currentPage > 1;
  }

  get hasNext(): boolean {
    return this.pagination.currentPage < this.pagination.totalPages;
  }

  get startItem(): number {
    return (this.pagination.currentPage - 1) * this.pagination.itemsPerPage + 1;
  }

  get endItem(): number {
    return Math.min(
      this.pagination.currentPage * this.pagination.itemsPerPage,
      this.pagination.totalItems,
    );
  }

  goToPage(page: number): void {
    if (page >= 1 && page <= this.pagination.totalPages && page !== this.pagination.currentPage) {
      this.pageChange.emit(page);
    }
  }

  previousPage(): void {
    if (this.hasPrevious) {
      this.goToPage(this.pagination.currentPage - 1);
    }
  }

  nextPage(): void {
    if (this.hasNext) {
      this.goToPage(this.pagination.currentPage + 1);
    }
  }

  updateItemsPerPage(count: number): void {
    this.itemsPerPageChange.emit(count);
  }

  private getPageNumbers(): number[] {
    const current = this.pagination.currentPage;
    const total = this.pagination.totalPages;
    const delta = 2;

    const pages: number[] = [];
    const rangeStart = Math.max(2, current - delta);
    const rangeEnd = Math.min(total - 1, current + delta);

    pages.push(1);

    if (rangeStart > 2) {
      pages.push(-1);
    }

    for (let i = rangeStart; i <= rangeEnd; i++) {
      pages.push(i);
    }

    if (rangeEnd < total - 1) {
      pages.push(-1);
    }

    if (total > 1) {
      pages.push(total);
    }

    return pages;
  }
}



================================================================================
FILE: src\app\shared\components\secondary-btn\secondary-btn.css
================================================================================




================================================================================
FILE: src\app\shared\components\secondary-btn\secondary-btn.html
================================================================================

<button class="secondary-btn" (click)="onClick()">
  <span class="btn-text">
    <ng-content></ng-content>
  </span>
</button>



================================================================================
FILE: src\app\shared\components\secondary-btn\secondary-btn.ts
================================================================================

import { Component, EventEmitter, Output } from '@angular/core';

@Component({
  selector: 'app-secondary-btn',
  standalone: true,
  imports: [],
  templateUrl: './secondary-btn.html',
  styleUrl: './secondary-btn.css',
})
export class SecondaryBtn {
  @Output() clicked = new EventEmitter<void>();

  onClick() {
    this.clicked.emit();
  }
}



================================================================================
FILE: src\app\shared\components\slide\slide.css
================================================================================

:host {
  display: block;
  width: 100%;
}

.slider {
  z-index: 3 !important;
  position: relative;
  width: 100%;
  height: 500px;
  min-height: 500px;
  overflow: hidden;
  background-color: var(--bg-secondary, #1a2e24);
}

.blur-edge {
  position: absolute;
  z-index: 6;
  pointer-events: none;
}

.blur-top {
  top: 0;
  left: 0;
  right: 0;
  height: 60px;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.45) 0%, transparent 100%);
}

.blur-bottom {
  bottom: 0;
  left: 0;
  right: 0;
  height: 80px;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.5) 0%, transparent 100%);
}

.blur-left {
  top: 0;
  left: 0;
  bottom: 0;
  width: 100px;
  background: linear-gradient(to right, rgba(0, 0, 0, 0.4) 0%, transparent 100%);
}

.blur-right {
  top: 0;
  right: 0;
  bottom: 0;
  width: 100px;
  background: linear-gradient(to left, rgba(0, 0, 0, 0.4) 0%, transparent 100%);
}

.slides {
  width: 100%;
  height: 100%;
  position: relative;
}

.slide {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 0.8s ease;
}

.slide.active {
  opacity: 1;
  z-index: 2;
}

.slide.prev {
  opacity: 0;
  z-index: 1;
}

.slide-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transform: scale(1.03);
  transition: transform 6s ease;
}

.slide.active .slide-img {
  transform: scale(1);
}

.slide-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    105deg,
    rgba(0, 0, 0, 0.65) 0%,
    rgba(0, 0, 0, 0.35) 50%,
    rgba(0, 0, 0, 0.1) 100%
  );
}

.slide-content {
  position: absolute;
  inset: 0;
  z-index: 4;
  display: flex;
  align-items: center;
  padding: 0 8% 60px;
}

.slide-text-wrapper {
  max-width: 560px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.slide-badge,
.slide-title,
.slide-subtitle,
.slide-cta {
  opacity: 0;
  transform: translateY(24px);
  transition:
    opacity 0.6s ease,
    transform 0.6s ease;
}

.slide-content.visible .slide-badge {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.15s;
}

.slide-content.visible .slide-title {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.3s;
}

.slide-content.visible .slide-subtitle {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.45s;
}

.slide-content.visible .slide-cta {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.6s;
}

.slide-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: rgba(6, 122, 69, 0.85);
  color: #fff;
  font-size: 0.72rem;
  font-weight: 700;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  padding: 5px 12px;
  border-radius: 20px;
  width: fit-content;
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.slide-title {
  font-size: clamp(1.8rem, 3.5vw, 2.8rem);
  font-weight: 800;
  color: #ffffff;
  line-height: 1.15;
  letter-spacing: -0.02em;
  text-shadow: 0 2px 16px rgba(0, 0, 0, 0.4);
}

.slide-subtitle {
  font-size: clamp(0.95rem, 1.5vw, 1.1rem);
  color: rgba(255, 255, 255, 0.88);
  line-height: 1.6;
  text-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);
  max-width: 440px;
}

.slide-cta {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  background: var(--color-primary, #067a45);
  color: #fff;
  text-decoration: none;
  font-size: 0.95rem;
  font-weight: 700;
  padding: 13px 26px;
  border-radius: 10px;
  width: fit-content;
  margin-top: 4px;
  box-shadow: 0 4px 20px rgba(6, 122, 69, 0.45);
  transition:
    background 0.25s ease,
    transform 0.2s ease,
    box-shadow 0.25s ease;
}

.slide-cta:hover {
  background: #055c35;
  transform: translateY(-2px);
  box-shadow: 0 8px 28px rgba(6, 122, 69, 0.6);
}

.slide-cta-arrow {
  transition: transform 0.25s ease;
  font-size: 1.1rem;
}

.slide-cta:hover .slide-cta-arrow {
  transform: translateX(4px);
}

.arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
  background: rgba(255, 255, 255, 0.12);
  border: 1px solid rgba(255, 255, 255, 0.25);
  border-radius: 50%;
  width: 52px;
  height: 52px;
  cursor: pointer;
  transition: all 0.25s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(8px);
}

.arrow:hover {
  background: rgba(255, 255, 255, 0.28);
  border-color: rgba(255, 255, 255, 0.5);
  transform: translateY(-50%) scale(1.08);
}

.arrow:active {
  transform: translateY(-50%) scale(0.95);
}

.arrow-left {
  left: 22px;
}

.arrow-right {
  right: 22px;
}

.arrow-icon {
  font-size: 36px;
  font-weight: 300;
  color: white;
  line-height: 1;
  user-select: none;
  padding-bottom: 3px;
}

.slider-footer {
  position: absolute;
  bottom: 22px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
  display: flex;
  align-items: center;
  gap: 20px;
}

.dots {
  display: flex;
  gap: 8px;
  align-items: center;
}

.dot {
  position: relative;
  width: 36px;
  height: 4px;
  border-radius: 2px;
  background: rgba(255, 255, 255, 0.3);
  border: none;
  cursor: pointer;
  padding: 0;
  transition:
    background 0.3s ease,
    width 0.3s ease;
  overflow: hidden;
}

.dot.active {
  width: 48px;
  background: rgba(255, 255, 255, 0.25);
}

.dot-progress {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 0%;
  background: #ffffff;
  border-radius: 2px;
}

.dot.active .dot-progress {
  animation: dotProgress linear forwards;
}

@keyframes dotProgress {
  from {
    width: 0%;
  }
  to {
    width: 100%;
  }
}

.slide-counter {
  display: flex;
  align-items: baseline;
  gap: 3px;
  color: rgba(255, 255, 255, 0.7);
  font-size: 0.78rem;
  font-weight: 600;
  letter-spacing: 0.05em;
  font-variant-numeric: tabular-nums;
}

.counter-current {
  color: #fff;
  font-size: 1rem;
  font-weight: 700;
}

.counter-sep {
  margin: 0 1px;
  opacity: 0.5;
}

@media (max-width: 768px) {
  .slider {
    z-index: 3 !important;
    height: 420px;
  }

  .slide-content {
    padding: 0 5% 55px;
    align-items: flex-end;
  }

  .slide-text-wrapper {
    gap: 12px;
  }

  .blur-left,
  .blur-right {
    width: 60px;
  }

  .arrow {
    width: 40px;
    height: 40px;
  }

  .arrow-icon {
    font-size: 30px;
  }

  .arrow-left {
    left: 10px;
  }
  .arrow-right {
    right: 10px;
  }
}

@media (max-width: 480px) {
  .slider {
    z-index: 3 !important;
    height: 340px;
  }

  .blur-top {
    height: 50px;
  }
  .blur-bottom {
    height: 70px;
  }
  .blur-left,
  .blur-right {
    width: 40px;
  }

  .slide-badge {
    font-size: 0.65rem;
  }

  .slide-cta {
    font-size: 0.85rem;
    padding: 10px 18px;
  }

  .arrow {
    width: 34px;
    height: 34px;
  }

  .arrow-icon {
    font-size: 24px;
  }

  .dots {
    gap: 6px;
  }
  .dot {
    width: 28px;
  }
  .dot.active {
    width: 36px;
  }

  .slide-counter {
    display: none;
  }
}

.arrow:focus-visible,
.dot:focus-visible {
  outline: 2px solid var(--color-primary, #067a45);
  outline-offset: 3px;
}

@media (prefers-reduced-motion: reduce) {
  .slide,
  .slide-img,
  .slide-badge,
  .slide-title,
  .slide-subtitle,
  .slide-cta,
  .arrow,
  .dot,
  .dot-progress {
    transition: none !important;
    animation: none !important;
  }
}



================================================================================
FILE: src\app\shared\components\slide\slide.html
================================================================================

<div
  class="slider"
  (mouseenter)="pause()"
  (mouseleave)="resume()"
  role="region"
  [attr.aria-label]="'slider.aria_label' | translate"
>
  <div class="blur-edge blur-top"></div>
  <div class="blur-edge blur-bottom"></div>
  <div class="blur-edge blur-left"></div>
  <div class="blur-edge blur-right"></div>

  <div class="slides">
    @for (slide of slides; track slide.image; let i = $index) {
      <div class="slide" [class.active]="isActive(i)" [class.prev]="isPrevious(i)">
        <img
          [src]="slide.image"
          [alt]="'slider.slide_alt' | translate: { number: i + 1 }"
          class="slide-img"
          [loading]="i === 0 ? 'eager' : 'lazy'"
        />

        <div class="slide-overlay"></div>

        <div class="slide-content" [class.visible]="isActive(i)">
          <div class="slide-text-wrapper">
            <span class="slide-badge">{{ 'slider.badge' | translate }}</span>
            <h2 class="slide-title">{{ slide.title | translate }}</h2>
            <p class="slide-subtitle">{{ slide.subtitle | translate }}</p>
            <a [routerLink]="slide.link" class="slide-cta">
              {{ slide.cta | translate }}
              <span class="slide-cta-arrow">â†’</span>
            </a>
          </div>
        </div>
      </div>
    }
  </div>

  <button
    class="arrow arrow-left"
    (click)="prev()"
    [attr.aria-label]="'slider.previous' | translate"
  >
    <span class="arrow-icon">â€¹</span>
  </button>

  <button class="arrow arrow-right" (click)="next()" [attr.aria-label]="'slider.next' | translate">
    <span class="arrow-icon">â€º</span>
  </button>

  <div class="slider-footer">
    <div class="dots" role="tablist" [attr.aria-label]="'slider.navigation' | translate">
      @for (slide of slides; track slide.image; let i = $index) {
        <button
          class="dot"
          [class.active]="isActive(i)"
          (click)="goTo(i)"
          [attr.aria-label]="'slider.go_to' | translate: { number: i + 1 }"
          [attr.aria-selected]="isActive(i)"
          role="tab"
        >
          <span class="dot-progress" [style.animation-duration]="autoplayDuration + 'ms'"></span>
        </button>
      }
    </div>

    <div class="slide-counter">
      <span class="counter-current">{{ (currentIndex + 1).toString().padStart(2, '0') }}</span>
      <span class="counter-sep">/</span>
      <span class="counter-total">{{ slides.length.toString().padStart(2, '0') }}</span>
    </div>
  </div>
</div>



================================================================================
FILE: src\app\shared\components\slide\slide.ts
================================================================================

import { Component, OnInit, OnDestroy } from '@angular/core';
import { RouterModule } from '@angular/router';
import { TranslateModule } from '@ngx-translate/core';
import { HERO_SLIDES } from '../../../core/constants/visuals';

@Component({
  selector: 'app-slide',
  standalone: true,
  imports: [TranslateModule, RouterModule],
  templateUrl: './slide.html',
  styleUrl: './slide.css',
})
export class Slide implements OnInit, OnDestroy {
  slides = HERO_SLIDES;

  currentIndex = 0;
  previousIndex = -1;
  isPaused = false;
  readonly autoplayDuration = 5000;

  private intervalId: any = null;

  ngOnInit(): void {
    this.startAutoplay();
  }

  ngOnDestroy(): void {
    this.stopAutoplay();
  }

  private startAutoplay(): void {
    this.stopAutoplay();
    this.intervalId = setInterval(() => {
      if (!this.isPaused) {
        this.next();
      }
    }, this.autoplayDuration);
  }

  private stopAutoplay(): void {
    if (this.intervalId) {
      clearInterval(this.intervalId);
      this.intervalId = null;
    }
  }

  pause(): void {
    this.isPaused = true;
  }

  resume(): void {
    this.isPaused = false;
  }

  next(): void {
    this.previousIndex = this.currentIndex;
    this.currentIndex = (this.currentIndex + 1) % this.slides.length;
  }

  prev(): void {
    this.previousIndex = this.currentIndex;
    this.currentIndex = (this.currentIndex - 1 + this.slides.length) % this.slides.length;
  }

  goTo(index: number): void {
    if (index === this.currentIndex) return;
    this.previousIndex = this.currentIndex;
    this.currentIndex = index;
    this.startAutoplay();
  }

  isActive(index: number): boolean {
    return this.currentIndex === index;
  }

  isPrevious(index: number): boolean {
    return this.previousIndex === index;
  }
}



================================================================================
FILE: src\app\shared\components\toast\toast.css
================================================================================

.toast-container {
  position: fixed;
  top: 80px;
  right: 20px;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  gap: 12px;
  pointer-events: none;
}

.toast {
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 320px;
  max-width: 420px;
  padding: 16px;
  background: var(--bg-primary);
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  pointer-events: auto;
  animation: slideInRight 0.3s ease-out;
  border-left: 4px solid;
  backdrop-filter: blur(10px);
}

.toast-success {
  border-left-color: #10b981;
}

.toast-error {
  border-left-color: #ef4444;
}

.toast-info {
  border-left-color: #3b82f6;
}

.toast-warning {
  border-left-color: #f59e0b;
}

.toast-icon {
  flex-shrink: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.toast-success .toast-icon {
  color: #10b981;
}

.toast-error .toast-icon {
  color: #ef4444;
}

.toast-info .toast-icon {
  color: #3b82f6;
}

.toast-warning .toast-icon {
  color: #f59e0b;
}

.toast-icon svg {
  width: 100%;
  height: 100%;
}

.toast-content {
  flex: 1;
  min-width: 0;
}

.toast-message {
  margin: 0;
  color: var(--text-primary);
  font-size: 14px;
  font-weight: 500;
  line-height: 1.5;
  word-wrap: break-word;
}

.toast-close {
  flex-shrink: 0;
  width: 20px;
  height: 20px;
  padding: 0;
  border: none;
  background: none;
  color: var(--text-secondary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  transition: all 0.2s ease;
}

.toast-close:hover {
  background: var(--bg-secondary);
  color: var(--text-primary);
}

.toast-close svg {
  width: 100%;
  height: 100%;
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(100px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@media (max-width: 768px) {
  .toast-container {
    top: 70px;
    right: 12px;
    left: 12px;
  }

  .toast {
    min-width: auto;
    max-width: none;
  }
}

@media (max-width: 480px) {
  .toast {
    padding: 12px;
    gap: 8px;
  }

  .toast-icon {
    width: 20px;
    height: 20px;
  }

  .toast-message {
    font-size: 13px;
  }

  .toast-close {
    width: 18px;
    height: 18px;
  }
}



================================================================================
FILE: src\app\shared\components\toast\toast.html
================================================================================

<div class="toast-container">
  @for (toast of toasts(); track toast.id) {
    <div class="toast toast-{{ toast.type }}" [@slideIn]>
      <div class="toast-icon">
        @if (toast.type === 'success') {
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M5 13l4 4L19 7"
            />
          </svg>
        }
        @if (toast.type === 'error') {
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="12" cy="12" r="10" stroke-width="2" />
            <path stroke-linecap="round" stroke-width="2" d="M12 8v4M12 16h.01" />
          </svg>
        }
        @if (toast.type === 'info') {
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="12" cy="12" r="10" stroke-width="2" />
            <path stroke-linecap="round" stroke-width="2" d="M12 16v-4M12 8h.01" />
          </svg>
        }
        @if (toast.type === 'warning') {
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
            />
          </svg>
        }
      </div>

      <div class="toast-content">
        <p class="toast-message">{{ toast.message | translate }}</p>
      </div>

      <button class="toast-close" (click)="close(toast.id)" type="button">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          />
        </svg>
      </button>
    </div>
  }
</div>



================================================================================
FILE: src\app\shared\components\toast\toast.ts
================================================================================

import { Component, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { TranslateModule } from '@ngx-translate/core';
import { ToastService } from '../../../core/services/toast.service';

@Component({
  selector: 'app-toast',
  standalone: true,
  imports: [CommonModule, TranslateModule],
  templateUrl: './toast.html',
  styleUrl: './toast.css',
})
export class Toast {
  private toastService = inject(ToastService);
  toasts = this.toastService.toasts$;

  close(id: string): void {
    this.toastService.remove(id);
  }
}



================================================================================
FILE: src\app\shared\directives\scroll-reveal.directive.ts
================================================================================

import { Directive, ElementRef, HostListener, Input, OnInit } from '@angular/core';

export type AnimationType =
  | 'fade'
  | 'slide-up'
  | 'slide-down'
  | 'slide-left'
  | 'slide-right'
  | 'scale'
  | 'fade-scale';

@Directive({
  selector: '[appScrollReveal]',
  standalone: true,
})
export class ScrollRevealDirective implements OnInit {
  @Input() animationType: AnimationType = 'fade-scale';
  @Input() animationDelay: number = 0;
  @Input() animationDuration: number = 600;
  @Input() threshold: number = 0.1;
  @Input() autoPlay: boolean = false;

  private hasAnimated = false;

  constructor(private el: ElementRef) {}

  ngOnInit(): void {
    this.setupElement();

    if (this.autoPlay) {
      setTimeout(() => {
        this.reveal();
      }, 50);
    } else {
      this.checkVisibility();
    }
  }

  private setupElement(): void {
    const element = this.el.nativeElement as HTMLElement;

    element.style.opacity = '0';
    element.style.transition = `all ${this.animationDuration}ms ease`;
    element.style.transitionDelay = `${this.animationDelay}ms`;

    switch (this.animationType) {
      case 'fade':
        break;
      case 'slide-up':
        element.style.transform = 'translateY(50px)';
        break;
      case 'slide-down':
        element.style.transform = 'translateY(-50px)';
        break;
      case 'slide-left':
        element.style.transform = 'translateX(50px)';
        break;
      case 'slide-right':
        element.style.transform = 'translateX(-50px)';
        break;
      case 'scale':
        element.style.transform = 'scale(0.8)';
        break;
      case 'fade-scale':
        element.style.transform = 'translateY(30px) scale(0.95)';
        break;
    }
  }

  @HostListener('window:scroll', [])
  @HostListener('window:resize', [])
  onWindowEvent(): void {
    if (this.autoPlay) {
      return;
    }
    this.checkVisibility();
  }

  private checkVisibility(): void {
    if (this.hasAnimated) {
      return;
    }

    const element = this.el.nativeElement as HTMLElement;
    const rect = element.getBoundingClientRect();
    const windowHeight = window.innerHeight;

    const elementHeight = rect.height;
    const visibleHeight = Math.min(rect.bottom, windowHeight) - Math.max(rect.top, 0);
    const visibilityRatio = visibleHeight / elementHeight;

    if (visibilityRatio >= this.threshold && rect.top < windowHeight) {
      this.reveal();
    }
  }

  private reveal(): void {
    if (this.hasAnimated) {
      return;
    }

    const element = this.el.nativeElement as HTMLElement;

    element.style.opacity = '1';
    element.style.transform = 'translateY(0) translateX(0) scale(1)';

    this.hasAnimated = true;
  }
}



================================================================================
FILE: src\app\shared\pipes\currency.pipe.ts
================================================================================

import { Pipe, PipeTransform, inject } from '@angular/core';
import { CurrencyService } from '../../core/services/currency.service';

@Pipe({
  name: 'appCurrency',
  standalone: true,
  pure: true,
})
export class CurrencyPipe implements PipeTransform {
  private currencyService = inject(CurrencyService);

  transform(value: number | null | undefined): string {
    if (value == null || isNaN(value)) {
      return '';
    }

    return this.currencyService.formatPrice(value);
  }
}



================================================================================
FILE: src\assets\i18n\de.json
================================================================================

{
  "blog": {
    "title": "Blog",
    "search_placeholder": "Blog-BeitrÃ¤ge durchsuchen...",
    "related_posts": "Weitere BeitrÃ¤ge",
    "all_categories": "Alle Kategorien",
    "no_results_title": "Keine Ergebnisse gefunden",
    "back_to_blog": "ZurÃ¼ck zum Blog",
    "post_not_found": "Artikel nicht gefunden",
    "reset_filters": "Filter zurÃ¼cksetzen",
    "filter_by_category": "Nach Kategorie filtern",
    "description": "Gesundheitstipps, Fachartikel und nÃ¼tzliche Informationen von unseren Apothekern",
    "no_results_description": "Versuchen Sie andere Suchbegriffe oder wÃ¤hlen Sie eine andere Kategorie.",
    "read_more": "VollstÃ¤ndigen Artikel lesen",
    "featured_posts": "Empfohlene Artikel",
    "sort_by": "Sortieren nach"
  },
  "auth": {
    "password_reset": {
      "back_to_login": "ZurÃ¼ck zur Anmeldung",
      "confirm_password": "Neues Passwort bestÃ¤tigen",
      "email_sent": "E-Mail gesendet",
      "step_3": "Ihr neues Passwort ist sofort aktiv",
      "sending": "Wird gesendet...",
      "step_2": "Klicken Sie auf den BestÃ¤tigungslink",
      "step_1": "ÃœberprÃ¼fen Sie Ihr E-Mail-Postfach",
      "title": "Passwort Ã¤ndern",
      "new_password": "Neues Passwort",
      "email_sent_message": "Wir haben einen BestÃ¤tigungslink fÃ¼r die PasswortÃ¤nderung gesendet.",
      "subtitle": "Geben Sie Ihre E-Mail und Ihr neues Passwort ein",
      "button": "PasswortÃ¤nderung anfordern"
    },
    "success": {
      "welcome_back": "Erfolgreich angemeldet! Willkommen zurÃ¼ck!",
      "registered": "Registrierung erfolgreich! ÃœberprÃ¼fen Sie Ihre E-Mail.",
      "logged_in": "Erfolgreich angemeldet"
    },
    "login": {
      "title": "Anmelden",
      "email_sent_title": "E-Mail Ã¼berprÃ¼fen",
      "forgot_password": "Passwort vergessen?",
      "sign_up": "Registrieren",
      "stay_logged_in": "Angemeldet bleiben",
      "step_1": "Ã–ffnen Sie die E-Mail und klicken Sie auf den BestÃ¤tigungslink",
      "logging_in": "Anmeldung lÃ¤uft...",
      "email_sent_message": "Wir haben einen AnmeldebestÃ¤tigungslink an Ihre E-Mail-Adresse gesendet. Klicken Sie auf den Link, um die Anmeldung abzuschlieÃŸen.",
      "no_account": "Noch kein Konto?",
      "subtitle": "Willkommen zurÃ¼ck!",
      "step_2": "Sie werden automatisch angemeldet",
      "button": "Anmelden"
    },
    "register": {
      "title": "Konto erstellen",
      "success_message": "Registrierung erfolgreich! Bitte bestÃ¤tigen Sie Ihre E-Mail-Adresse.",
      "creating_account": "Konto wird erstellt...",
      "have_account": "Bereits ein Konto?",
      "sign_in": "Anmelden",
      "button": "Konto erstellen",
      "password_hint": "Passwort muss mindestens 8 Zeichen lang sein",
      "subtitle": "Erstellen Sie ein neues Konto"
    },
    "email": {
      "verifying_message": "Bitte warten Sie, wÃ¤hrend wir Ihre E-Mail-Adresse Ã¼berprÃ¼fen...",
      "verified_message": "Ihre E-Mail wurde erfolgreich bestÃ¤tigt. Sie werden automatisch angemeldet.",
      "check_inbox": "ÃœberprÃ¼fen Sie Ihr Postfach",
      "verified": "E-Mail bestÃ¤tigt!",
      "verification_failed": "ÃœberprÃ¼fung fehlgeschlagen",
      "no_email": "E-Mail nicht erhalten?",
      "try_again": "Erneut versuchen",
      "step_2": "Klicken Sie auf den BestÃ¤tigungslink",
      "back_to_login": "ZurÃ¼ck zur Anmeldung",
      "redirecting": "Weiterleitung zur Startseite...",
      "sent_message": "Wir haben eine BestÃ¤tigungs-E-Mail an Ihre Adresse gesendet.",
      "verifying": "ÃœberprÃ¼fung lÃ¤uft",
      "step_1": "Ã–ffnen Sie die gesendete E-Mail",
      "step_3": "Sie werden automatisch angemeldet",
      "resend": "Erneut senden",
      "back_to_register": "ZurÃ¼ck zur Registrierung"
    },
    "login_promise": {
      "back_to_login": "ZurÃ¼ck zur Anmeldung",
      "success_message": "Sie werden zur Startseite weitergeleitet.",
      "please_wait": "Bitte warten...",
      "success_title": "Anmeldung erfolgreich!",
      "verifying": "Anmeldung wird bestÃ¤tigt",
      "error_title": "Anmeldung fehlgeschlagen"
    },
    "placeholders": {
      "lastname": "Mustermann",
      "password": "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
      "confirm_password": "Passwort bestÃ¤tigen",
      "firstname": "Max",
      "email": "beispiel@email.de",
      "new_password": "Neues Passwort"
    },
    "or": "oder",
    "show_password": "Passwort anzeigen",
    "password_change": {
      "success_message": "Ihr Passwort wurde erfolgreich geÃ¤ndert. Sie kÃ¶nnen sich nun mit Ihrem neuen Passwort anmelden.",
      "button": "Passwort Ã¤ndern",
      "redirecting": "Weiterleitung zur Anmeldung...",
      "title": "Neues Passwort festlegen",
      "updating": "Aktualisierung lÃ¤uft...",
      "back_to_login": "ZurÃ¼ck zur Anmeldung",
      "success": "Passwort geÃ¤ndert!",
      "subtitle": "Geben Sie Ihr neues Passwort ein",
      "processing": "Passwort wird geÃ¤ndert...",
      "please_wait": "Bitte warten Sie, wÃ¤hrend wir Ihre Zugangsdaten aktualisieren.",
      "error_title": "PasswortÃ¤nderung fehlgeschlagen"
    },
    "fields": {
      "lastname": "Nachname",
      "new_password": "Neues Passwort",
      "firstname": "Vorname",
      "password": "Passwort",
      "email": "E-Mail-Adresse",
      "confirm_password": "Passwort bestÃ¤tigen"
    },
    "errors": {
      "bad_request": "UngÃ¼ltige Anfrage",
      "email_exists": "Diese E-Mail-Adresse ist bereits registriert",
      "server_error": "Serverfehler. Bitte versuchen Sie es spÃ¤ter erneut.",
      "not_found": "Nicht gefunden",
      "invalid_login_link": "UngÃ¼ltiger oder abgelaufener Anmeldelink",
      "invalid_credentials": "UngÃ¼ltige E-Mail oder Passwort",
      "invalid_credentials_or_inexistent_user": "UngÃ¼ltige E-Mail oder Passwort",
      "network_error": "Netzwerkfehler. Bitte Ã¼berprÃ¼fen Sie Ihre Internetverbindung.",
      "invalid_verification_link": "UngÃ¼ltiger oder abgelaufener BestÃ¤tigungslink.",
      "already_activated": "Dieses Konto wurde bereits aktiviert.",
      "token_expired": "Der BestÃ¤tigungslink ist abgelaufen. Bitte fordern Sie einen neuen an.",
      "account_banned": "Dieses Konto wurde gesperrt. Bitte wenden Sie sich an den Support.",
      "unknown_error": "Ein unbekannter Fehler ist aufgetreten. Bitte versuchen Sie es erneut."
    }
  },
  "legal": {
    "privacy": {
      "section1_title": "1. Verantwortlicher fÃ¼r die Datenverarbeitung",
      "table_header_retention": "Aufbewahrungsdauer",
      "section1_text": "Verantwortlicher ist Roy's Shack Est. 1888 (Sitz: 7621 PÃ©cs, KirÃ¡ly-StraÃŸe 12., Ungarn). Bei datenschutzrechtlichen Anfragen wenden Sie sich bitte an: datenschutz@roysshack.hu",
      "section2_title": "2. Umfang der erhobenen Daten",
      "right_portability_desc": "Daten in maschinenlesbarem Format anfordern",
      "table_row2_category": "Lieferdaten",
      "table_row3_purpose": "Rechnungsstellung, Kundenservice",
      "table_row1_retention": "Bis zur KontolÃ¶schung",
      "table_row1_category": "Identifikationsdaten (Name, E-Mail)",
      "table_header_category": "Datenkategorie",
      "title": "Datenschutzrichtlinie",
      "right_objection": "Widerspruchsrecht",
      "section3_title": "3. Rechte der Betroffenen",
      "right_rectification_desc": "Korrektur unrichtiger Daten",
      "right_access": "Auskunftsrecht",
      "table_row3_retention": "8 Jahre (buchhalterisch)",
      "right_rectification": "Berichtigungsrecht",
      "right_erasure": "LÃ¶schungsrecht",
      "right_portability": "DatenÃ¼bertragbarkeit",
      "table_header_purpose": "Zweck",
      "table_row3_category": "Kaufhistorie",
      "right_erasure_desc": "\"Recht auf Vergessenwerden",
      "section4_title": "4. Datensicherheit",
      "section3_text": "GemÃ¤ÃŸ der DSGVO haben betroffene Personen folgende Rechte:",
      "right_access_desc": "Auskunft Ã¼ber die verarbeiteten Daten anfordern",
      "table_row2_purpose": "Auftragsabwicklung",
      "table_row1_purpose": "Registrierung, Kommunikation",
      "right_objection_desc": "bei Direktwerbung",
      "table_row2_retention": "5 Jahre",
      "section4_text": "Zum Schutz personenbezogener Daten setzen wir technische und organisatorische MaÃŸnahmen ein, darunter HTTPS/SSL-VerschlÃ¼sselung, JWT-basierte Authentifizierung, strikte ZugriffsbeschrÃ¤nkungen und regelmÃ¤ÃŸige SicherheitsÃ¼berprÃ¼fungen. Ihre Daten werden nicht an Dritte weitergegeben, auÃŸer an den fÃ¼r die Auftragsabwicklung erforderlichen Kurierdienst."
    },
    "terms": {
      "section3_text": "FÃ¼r den Einkauf im Online-Shop ist eine Registrierung erforderlich. Mit der Aufgabe einer Bestellung akzeptiert der KÃ¤ufer diese AGB. Die BestellbestÃ¤tigung erfolgt per E-Mail.",
      "section5_text": "Die Lieferung der bestellten Produkte erfolgt an Werktagen, in der Regel innerhalb von 2â€“4 Werktagen. Die Zustellung erfolgt durch unseren beauftragten Kurierdienst. Der Kunde erhÃ¤lt eine E-Mail-Benachrichtigung Ã¼ber den Versandstatus.",
      "section6_title": "6. Widerrufsrecht",
      "section5_title": "5. Lieferung und Empfang",
      "info_name_value": "Roy's Shack Est. 1888",
      "section4_text": "Alle angegebenen Preise sind in ungarischen Forint (HUF) und enthalten die Mehrwertsteuer (MwSt.). Die Versandkosten kÃ¶nnen je nach Bestellwert variieren. Ab einem Bestellwert von 15.000 HUF ist der Versand kostenlos.",
      "section3_step2": "Eingabe der Lieferadresse",
      "info_address_value": "7621 PÃ©cs, KirÃ¡ly-StraÃŸe 12., Ungarn",
      "info_email": "E-Mail:",
      "section3_step3": "Abschluss der Bestellung",
      "section3_step4": "Empfang der E-Mail-BestÃ¤tigung",
      "title": "Allgemeine GeschÃ¤ftsbedingungen",
      "info_phone": "Telefon:",
      "section1_text": "Diese Allgemeinen GeschÃ¤ftsbedingungen (AGB) gelten fÃ¼r die Nutzung des Online-Shops Roy's Shack Est. 1888 (nachfolgend: Online-Shop) und sind auf alle Ã¼ber den Online-Shop getÃ¤tigten EinkÃ¤ufe anwendbar.",
      "info_phone_value": "+36 72 123 456",
      "section6_text": "Der KÃ¤ufer kann innerhalb von 14 Tagen nach Erhalt der Ware ohne Angabe von GrÃ¼nden vom Vertrag zurÃ¼cktreten, gemÃ¤ÃŸ Regierungsdekret 45/2014 (II. 26.). Das Widerrufsrecht gilt nicht fÃ¼r verschreibungspflichtige Arzneimittel und bereits geÃ¶ffnete Gesundheitsprodukte.",
      "info_name": "Name:",
      "section3_step1": "Auswahl der Produkte und HinzufÃ¼gen zum Warenkorb",
      "info_address": "Sitz:",
      "section3_title": "3. Bestellvorgang",
      "section4_title": "4. Preise und Zahlung",
      "section2_title": "2. Angaben zum Anbieter",
      "section1_title": "1. Geltungsbereich der AGB",
      "info_email_value": "info@roysshack.hu"
    },
    "cookies": {
      "preferences_badge": "Einstellungen",
      "what_title": "Was sind Cookies?",
      "what_text": "Cookies sind kleine Textdateien, die von der Website mit Ihrer Einwilligung in Ihrem Browser gespeichert werden. Sie ermÃ¶glichen es der Website, Ihre Einstellungen zu speichern, den Anmeldestatus beizubehalten und die Benutzererfahrung zu verbessern. Ohne Cookies sind bestimmte Funktionen der Website nicht verfÃ¼gbar.",
      "manage_text": "Cookies kÃ¶nnen Ã¼ber die Einstellungen Ihres Browsers verwaltet werden. Bitte beachten Sie, dass das Deaktivieren von funktionalen (notwendigen) Cookies dazu fÃ¼hren kann, dass bestimmte Funktionen â€“ wie die Anmeldung oder der Warenkorb â€“ nicht korrekt funktionieren. Analytische und PrÃ¤ferenz-Cookies kÃ¶nnen jederzeit deaktiviert werden.",
      "analytics_badge": "Analytisch",
      "essential_always_active": "Immer aktiv",
      "preferences_title": "PrÃ¤ferenz-Cookies",
      "manage_title": "Cookies verwalten",
      "analytics_text": "Helfen zu verstehen, wie Besucher mit der Website interagieren. Die gesammelten Daten werden anonym zu statistischen Zwecken verarbeitet.",
      "preferences_text": "Speichern die vom Benutzer gewÃ¤hlten Einstellungen wie Sprache und Darstellungsthema.",
      "essential_text": "FÃ¼r den ordnungsgemÃ¤ÃŸen Betrieb der Website erforderlich. Sie enthalten die Sitzungs-ID und Sicherheits-Tokens. Ohne diese funktioniert die Website nicht korrekt.",
      "essential_title": "Funktionale Cookies",
      "title": "Cookie-Hinweis",
      "analytics_title": "Leistungs-Cookies",
      "essential_badge": "Notwendig",
      "types_title": "Von uns verwendete Cookies"
    },
    "tabs": {
      "privacy": "Datenschutz",
      "cookies": "Cookies",
      "terms": "GeschÃ¤ftsbedingungen"
    },
    "last_updated": "Zuletzt aktualisiert",
    "description": "Allgemeine GeschÃ¤ftsbedingungen, Datenschutzrichtlinie und Cookie-Hinweis",
    "title": "Rechtliche Informationen"
  },
  "profile": {
    "not_authenticated": "Bitte melden Sie sich an, um Ihr Profil anzuzeigen.",
    "menu": "MenÃ¼",
    "logout": "Abmelden",
    "quick_actions": "Schnellaktionen",
    "role": {
      "verified": "Verifiziert",
      "unverified": "Nicht verifiziert",
      "admin": "Administrator"
    },
    "nav": {
      "label": "Profilnavigation",
      "overview": "Ãœbersicht",
      "personal": "PersÃ¶nliche Daten",
      "security": "Sicherheit",
      "orders": "Meine Bestellungen",
      "danger": "Gefahrenzone"
    },
    "stats": {
      "orders": "Bestellungen",
      "reviews": "Bewertungen",
      "status": "Konto"
    },
    "quick": {
      "edit_info_desc": "Namen und Kontodaten aktualisieren",
      "security_desc": "Passwort und Sicherheitseinstellungen verwalten",
      "orders_desc": "Bestellverlauf anzeigen und Lieferungen verfolgen"
    },
    "personal": {
      "subtitle": "PersÃ¶nliche Informationen verwalten",
      "account_info": "Kontoinformationen",
      "email": "E-Mail-Adresse",
      "email_note": "Die E-Mail-Adresse kann hier nicht geÃ¤ndert werden. Bitte wenden Sie sich bei Bedarf an den Support.",
      "account_state": "Kontostatus",
      "edit_name": "Namen bearbeiten",
      "first_name": "Vorname",
      "last_name": "Nachname",
      "first_name_placeholder": "Ihr Vorname",
      "last_name_placeholder": "Ihr Nachname",
      "save": "Ã„nderungen speichern"
    },
    "security": {
      "subtitle": "Passwort und Kontosicherheit verwalten",
      "change_password": "Passwort Ã¤ndern",
      "change_password_desc": "Um ein neues Passwort festzulegen, senden wir Ihnen eine BestÃ¤tigungs-E-Mail. Klicken Sie auf den Link in der E-Mail, um die Ã„nderung zu bestÃ¤tigen.",
      "requires_login": "Anmeldung erforderlich",
      "current_password": "Aktuelles Passwort",
      "current_password_placeholder": "Aktuelles Passwort eingeben",
      "new_password": "Neues Passwort",
      "new_password_placeholder": "Neues Passwort eingeben (min. 6 Zeichen)",
      "confirm_password": "Neues Passwort bestÃ¤tigen",
      "confirm_password_placeholder": "Neues Passwort erneut eingeben",
      "change_password_btn": "Passwort aktualisieren",
      "password_changed": "Ihr Passwort wurde erfolgreich aktualisiert.",
      "forgot_password_title": "Passwort vergessen?",
      "forgot_password_desc": "Falls Sie Ihr aktuelles Passwort vergessen haben, kÃ¶nnen Sie es per E-Mail zurÃ¼cksetzen â€“ ohne Anmeldung. Ein RÃ¼cksetzlink wird an Ihre E-Mail-Adresse gesendet.",
      "no_login_needed": "Ohne Anmeldung",
      "forgot_password_btn": "RÃ¼cksetzlink senden",
      "email_confirmation": "E-Mail-BestÃ¤tigung",
      "email_prefilled": "Ihre E-Mail-Adresse wird automatisch aus Ihrem Konto ausgefÃ¼llt",
      "email_sent_check": "E-Mail gesendet! ÃœberprÃ¼fen Sie Ihren Posteingang und klicken Sie auf den BestÃ¤tigungslink.",
      "forgot_password_desc_alt": "Wenn Sie keinen Zugang zu Ihrem Konto haben, kÃ¶nnen Sie Ihr Passwort auch durch Eingabe Ihrer E-Mail-Adresse zurÃ¼cksetzen.",
      "alternative_flow": "Alternative"
    },
    "orders": {
      "subtitle": "Bestellverlauf und Sendungsverfolgung",
      "empty_title": "Noch keine Bestellungen",
      "empty_desc": "Sie haben noch keine Bestellungen aufgegeben. StÃ¶bern Sie in unserem Produktkatalog!",
      "browse_products": "Produkte durchsuchen"
    },
    "danger": {
      "subtitle": "Irreversible Kontoaktionen",
      "warning_banner": "Die Aktionen auf dieser Seite sind dauerhaft und kÃ¶nnen nicht rÃ¼ckgÃ¤ngig gemacht werden. Bitte gehen Sie mit Vorsicht vor.",
      "delete_account": "Konto lÃ¶schen",
      "delete_desc": "Ihr Konto und alle zugehÃ¶rigen Daten â€“ einschlieÃŸlich Bestellverlauf, Bewertungen und persÃ¶nliche Informationen â€“ werden dauerhaft gelÃ¶scht. Eine BestÃ¤tigungs-E-Mail wird zur Verifizierung der Anfrage gesendet.",
      "confirm_password": "Mit Passwort bestÃ¤tigen",
      "password_placeholder": "Aktuelles Passwort eingeben",
      "password_hint": "Zur BestÃ¤tigung wird ein Link an Ihre E-Mail-Adresse gesendet. Das Konto wird erst nach dem Klicken auf den Link gelÃ¶scht.",
      "delete_btn": "KontolÃ¶schung beantragen",
      "email_sent_title": "BestÃ¤tigungs-E-Mail gesendet",
      "email_sent_desc": "PrÃ¼fen Sie Ihren Posteingang und klicken Sie auf den Link, um die KontolÃ¶schung zu bestÃ¤tigen. Der Link ist 7 Tage gÃ¼ltig."
    },
    "errors": {
      "name_required": "Vor- und Nachname sind erforderlich.",
      "update_failed": "Profil konnte nicht aktualisiert werden. Bitte versuchen Sie es erneut.",
      "current_password_required": "Bitte geben Sie Ihr aktuelles Passwort ein.",
      "new_password_too_short": "Das neue Passwort muss mindestens 6 Zeichen lang sein.",
      "passwords_do_not_match": "Die neuen PasswÃ¶rter stimmen nicht Ã¼berein.",
      "password_change_failed": "PasswortÃ¤nderung fehlgeschlagen. ÃœberprÃ¼fen Sie Ihr aktuelles Passwort und versuchen Sie es erneut.",
      "delete_failed": "LÃ¶schanfrage konnte nicht gesendet werden. Bitte versuchen Sie es erneut."
    },
    "success": {
      "profile_updated": "Ihr Profil wurde erfolgreich aktualisiert."
    }
  },
  "product": {
    "in_stock": "Auf Lager",
    "sku": "Artikelnummer",
    "description": "Beschreibung",
    "try_different_filters": "Versuchen Sie andere Filtereinstellungen",
    "availability": "VerfÃ¼gbarkeit",
    "pieces": "Stk",
    "next_image": "NÃ¤chstes Bild",
    "pharmaceutical_details": "Pharmazeutische Details",
    "brand": "Marke",
    "view_details": "Details ansehen",
    "decrease_quantity": "Menge verringern",
    "manufacturer": "Hersteller",
    "total": "Gesamt",
    "previous_image": "Vorheriges Bild",
    "out_of_stock": "Nicht vorrÃ¤tig",
    "reviews": "Bewertungen",
    "prescription_required_notice": "Dieses Produkt ist verschreibungspflichtig. Bitte laden Sie Ihr Rezept beim Bestellen hoch.",
    "packaging": "Verpackung",
    "dosage": "Dosierung",
    "no_image": "Kein Bild",
    "active_ingredients": "Wirkstoffe",
    "no_products_found": "Keine Produkte gefunden",
    "view_image": "Bild {{number}} ansehen",
    "requires_prescription": "Verschreibungspflichtig",
    "increase_quantity": "Menge erhÃ¶hen",
    "not_found": "Produkt nicht gefunden",
    "not_found_desc": "Das gesuchte Produkt existiert nicht oder wurde entfernt.",
    "back_to_products": "ZurÃ¼ck zu den Produkten"
  },
  "common": {
    "next_page": "NÃ¤chste Seite",
    "go_home": "Zur Startseite",
    "previous": "ZurÃ¼ck",
    "items_unit": "Stk",
    "close": "SchlieÃŸen",
    "minutes": "Min",
    "refresh": "Aktualisieren",
    "add_to_cart": "In den Warenkorb",
    "loading": "Wird geladen...",
    "previous_page": "Vorherige Seite",
    "retry": "Erneut versuchen",
    "scroll_left": "Nach links scrollen",
    "search": "Suchen",
    "next": "Weiter",
    "clear": "LÃ¶schen",
    "cancel": "Abbrechen",
    "scroll_right": "Nach rechts scrollen",
    "added_to_cart": "Zum Warenkorb hinzugefÃ¼gt"
  },
  "home": {
    "featured": {
      "title": "Empfohlene Produkte",
      "showMore": "Alle anzeigen",
      "showLess": "Weniger anzeigen",
      "viewAll": "Alle Produkte"
    },
    "hero": {
      "subtitle": "Unsere Mission",
      "description": "Gesundheit sollte keine HÃ¼rde sein â€“ und doch kÃ¤mpfen viele Menschen damit, zuverlÃ¤ssige und gut dokumentierte Gesundheitsprodukte an einem Ã¼bersichtlichen Ort zu finden. Roy's Shack Est. 1888 bringt das Erbe einer Ã¼ber hundert Jahre alten Apothekentradition ins digitale Zeitalter. Unser Ziel ist es, den Kauf von Gesundheits- und Wellnessprodukten einfach, sicher und informiert zu gestalten. Wir glauben, dass jeder Kunde genaue Produktbeschreibungen, faire Preise und schnelle Lieferung verdient â€“ egal wo er sich befindet.",
      "title": "Roy's Shack Est. 1888"
    }
  },
  "forum": {
    "pinned": "Angepinnt",
    "search_placeholder": "ForenbeitrÃ¤ge durchsuchen...",
    "sort_by": "Sortieren nach",
    "filter_by_category": "Nach Kategorie filtern",
    "featured": "Hervorgehoben",
    "title": "Forum",
    "new_post": "Neuer Beitrag",
    "no_results_title": "Keine Ergebnisse gefunden",
    "question": "Frage",
    "no_results_description": "Versuchen Sie andere Suchbegriffe oder wÃ¤hlen Sie eine andere Kategorie.",
    "verified": "Verifiziert",
    "all_categories": "Alle Kategorien",
    "description": "Teilen Sie Fragen, Antworten und Erfahrungen mit unserer Community",
    "reset_filters": "Filter zurÃ¼cksetzen",
    "answered": "Beantwortet",
    "comment_placeholder": "Schreiben Sie hier Ihren Kommentar...",
    "comments": "Kommentare",
    "back_to_forum": "ZurÃ¼ck zum Forum",
    "submit_comment": "Kommentar absenden",
    "comment_edited": "bearbeitet"
  },
  "pagination": {
    "of": "von",
    "page": "Seite",
    "previous": "ZurÃ¼ck",
    "items_per_page": "Artikel pro Seite",
    "showing": "Anzeigen",
    "navigation": "Seitennavigation",
    "next": "Weiter"
  },
  "cart": {
    "clear_all": "Warenkorb leeren",
    "remove": "Entfernen",
    "empty": "Ihr Warenkorb ist leer",
    "checkout": "Zur Kasse",
    "total": "Gesamt",
    "title": "Warenkorb",
    "items": "Artikel"
  },
  "admin": {
    "toggle_sidebar": "Seitenleiste umschalten",
    "table": {
      "orders": "Bestellungen",
      "role": "Rolle",
      "rating": "Bewertung",
      "email": "E-Mail",
      "date": "Datum",
      "customer": "Kunde",
      "order_id": "Bestell-ID",
      "phone": "Telefon",
      "stock": "Bestand",
      "address": "Adresse",
      "note": "Anmerkung",
      "registered": "Registriert",
      "user": "Benutzer",
      "user_id": "Benutzer-ID",
      "product": "Produkt",
      "total": "Gesamt",
      "status": "Status",
      "category": "Kategorie",
      "actions": "Aktionen",
      "items": "Artikel",
      "price": "Preis"
    },
    "stats": {
      "this_week": "diese Woche",
      "low_stock": "niedriger Bestand",
      "revenue": "Umsatz",
      "total_orders": "Gesamtbestellungen",
      "total_products": "Gesamtprodukte",
      "total_users": "Gesamtbenutzer",
      "this_month": "in diesem Monat"
    },
    "search_users": "Benutzer suchen...",
    "no_users": "Keine Benutzer gefunden.",
    "role": "Admin",
    "nav": {
      "orders": "Bestellungen",
      "users": "Benutzer",
      "dashboard": "Dashboard",
      "products": "Produkte"
    },
    "search_products": "Produkte suchen...",
    "loading": "Daten werden geladen...",
    "no_products": "Keine Produkte gefunden.",
    "view_all": "Alle anzeigen",
    "active": "Aktiv",
    "inactive": "Inaktiv",
    "search_orders": "Bestellungen suchen...",
    "recent_orders": "Neueste Bestellungen",
    "no_orders": "Keine Bestellungen gefunden.",
    "greeting": "Willkommen, {{name}}!"
  },
  "footer": {
    "contactInfo": "Kontaktinformationen",
    "followUs": "Folgen Sie uns!",
    "send": "Senden",
    "emailPlaceholder": "Ihre E-Mail-Adresse",
    "contact": "Kontakt",
    "newsletter": "Abonnieren Sie unseren Newsletter!",
    "newsletter_error": "Fehler beim Abonnieren. Bitte erneut versuchen.",
    "info": "Die Informationen, Daten oder Dokumente auf der Website dienen nur zu Informationszwecken",
    "email": "Contact@roysshack.hu",
    "no_social_link": "Wir sind auf dieser Plattform noch nicht verfÃ¼gbar",
    "legal": "Rechtliches",
    "newsletter_success": "Erfolgreich abonniert!",
    "copyright": "Urheberrecht Â© 2025 Roy's shack"
  },
  "filter": {
    "clear_all": "Filter lÃ¶schen",
    "sort": {
      "rating": "Bewertung",
      "name_asc": "Name (A-Z)",
      "price_asc": "Preis (aufsteigend)",
      "name_desc": "Name (Z-A)",
      "popularity": "Beliebtheit",
      "newest": "Neueste",
      "price_desc": "Preis (absteigend)"
    },
    "in_stock_only": "Nur auf Lager",
    "min_price": "Min. Preis",
    "price_range": "Preisspanne",
    "max_price": "Max. Preis",
    "filters": "Filter",
    "advanced_filters": "Erweiterte Filter",
    "toggle_filters": "Filter ein-/ausblenden",
    "sort_by": "Sortieren nach"
  },
  "checkout": {
    "invalid_phone": "Bitte geben Sie eine gÃ¼ltige Telefonnummer ein.",
    "note_placeholder": "Besondere Anweisungen? (optional)",
    "house_number": "Hausnummer",
    "success": "Bestellung erfolgreich aufgegeben! Weiterleitung...",
    "continue_shopping": "Weiter einkaufen",
    "total": "Gesamt",
    "validation_error": "Bitte fÃ¼llen Sie alle Pflichtfelder aus.",
    "apartment_placeholder": "Optional",
    "invalid_zipcode": "Bitte geben Sie eine gÃ¼ltige Postleitzahl ein.",
    "subtotal": "Zwischensumme",
    "address": "StraÃŸenadresse",
    "apartment_number": "Wohnung",
    "order_summary": "BestellÃ¼bersicht",
    "zipcode_placeholder": "z.B. 7600",
    "processing": "Wird verarbeitet...",
    "city_placeholder": "Stadt eingeben",
    "place_order": "Bestellung aufgeben",
    "free_shipping": "Kostenlos",
    "error": "Bestellung fehlgeschlagen. Bitte versuchen Sie es erneut.",
    "zipcode": "Postleitzahl",
    "shipping_info": "Versandinformationen",
    "shipping": "Versand",
    "title": "Kasse",
    "address_placeholder": "StraÃŸe eingeben",
    "city": "Stadt",
    "house_number_placeholder": "z.B. 42",
    "phone": "Telefonnummer",
    "note": "Bestellhinweise",
    "phone_placeholder": "+49 176 123 4567"
  },
  "header": {
    "my_orders": "Meine Bestellungen",
    "products": "Produkte",
    "menu": "MenÃ¼",
    "forum": "Forum",
    "profile": "Profil",
    "login": "Anmelden",
    "cart": "Warenkorb",
    "my_profile": "Mein Profil",
    "home": "Startseite",
    "logout": "Abmelden"
  },
  "category": {
    "cosmetics": "Kosmetika",
    "baby-care": "Babypflege",
    "medical-devices": "Medizinische GerÃ¤te",
    "clear_all": "Alle lÃ¶schen",
    "filter_by": "Nach Kategorie filtern",
    "supplements": "NahrungsergÃ¤nzungsmittel",
    "vitamins": "Vitamine",
    "select": "Kategorie auswÃ¤hlen",
    "medicine": "Medikamente"
  },
  "time": {
    "months_ago": "vor {{count}} Monaten",
    "weeks_ago": "vor {{count}} Wochen",
    "minutes_ago": "vor {{count}} Minuten",
    "yesterday": "Gestern",
    "hours_ago": "vor {{count}} Stunden",
    "years_ago": "vor {{count}} Jahren",
    "days_ago": "vor {{count}} Tagen"
  },
  "products": {
    "empty": "Keine Produkte verfÃ¼gbar"
  },
  "language": {
    "switch": "Sprache wechseln"
  },
  "theme": {
    "toggle": "Thema wechseln"
  },
  "slider": {
    "aria_label": "Hauptinhalt-Slider",
    "navigation": "Slider-Navigation",
    "previous": "Vorherige Folie",
    "next": "NÃ¤chste Folie",
    "go_to": "Zu Folie {{number}} wechseln",
    "slide_alt": "Folie {{number}}",
    "badge": "Roy's Shack Est. 1888",
    "slide1": {
      "title": "NatÃ¼rliche Gesundheit, moderner Ansatz",
      "subtitle": "Premium-NaturprÃ¤parate und VitaminergÃ¤nzungen â€“ wissenschaftlich fundiert, aus vertrauenswÃ¼rdigen Quellen."
    },
    "slide2": {
      "title": "Verschreibungspflichtige Produkte sicher bestellen",
      "subtitle": "Verschreibungspflichtige Medikamente bequem von zu Hause bestellen und liefern lassen."
    },
    "slide3": {
      "title": "Baby- und Mutterpflege an einem Ort",
      "subtitle": "Babykosmetik, SÃ¤uglingsnahrung und SchwangerschaftsergÃ¤nzungsmittel â€“ alles fÃ¼r die ersten Jahre."
    },
    "slide4": {
      "title": "Medizinische GerÃ¤te immer griffbereit",
      "subtitle": "BlutdruckmessgerÃ¤te, Wundpflege und Diagnosemittel â€“ ProfiqualitÃ¤t zum Heimpreis."
    },
    "cta": "Produkte ansehen"
  }
}



================================================================================
FILE: src\assets\i18n\en.json
================================================================================

{
  "blog": {
    "title": "Blog",
    "search_placeholder": "Search blog posts...",
    "related_posts": "Related Posts",
    "all_categories": "All Categories",
    "no_results_title": "No Results Found",
    "back_to_blog": "Back to Blog",
    "post_not_found": "Article not found",
    "reset_filters": "Reset Filters",
    "filter_by_category": "Filter by category",
    "description": "Health tips, professional articles and useful information from our pharmacists",
    "no_results_description": "Try different search terms or select another category.",
    "read_more": "Read full article",
    "featured_posts": "Featured Articles",
    "sort_by": "Sort by"
  },
  "auth": {
    "password_reset": {
      "back_to_login": "Back to login",
      "confirm_password": "Confirm New Password",
      "email_sent": "Email Sent",
      "step_3": "Your new password will be active immediately",
      "sending": "Sending...",
      "step_2": "Click the confirmation link",
      "step_1": "Check your email inbox",
      "title": "Change Password",
      "new_password": "New Password",
      "email_sent_message": "We've sent a password change confirmation link to your email.",
      "subtitle": "Enter your email and new password",
      "button": "Request Password Change"
    },
    "success": {
      "welcome_back": "Successfully logged in! Welcome back!",
      "registered": "Registration successful! Check your email.",
      "logged_in": "Successfully logged in"
    },
    "login": {
      "title": "Sign In",
      "email_sent_title": "Check your email",
      "forgot_password": "Forgot your password?",
      "sign_up": "Sign up",
      "stay_logged_in": "Stay logged in",
      "step_1": "Open the email and click the confirmation link",
      "logging_in": "Signing in...",
      "email_sent_message": "We've sent a login confirmation link to your email address. Click the link to complete your sign-in.",
      "no_account": "Don't have an account?",
      "subtitle": "Welcome back!",
      "step_2": "You'll be automatically signed in",
      "button": "Sign In"
    },
    "register": {
      "title": "Create Account",
      "success_message": "Registration successful! Please check your email to verify your account.",
      "creating_account": "Creating account...",
      "have_account": "Already have an account?",
      "sign_in": "Sign in",
      "button": "Create Account",
      "password_hint": "Password must be at least 8 characters long",
      "subtitle": "Create a new account"
    },
    "email": {
      "verifying_message": "Please wait while we verify your email address...",
      "verified_message": "Your email has been successfully verified. You will be automatically logged in.",
      "check_inbox": "Check your inbox",
      "verified": "Email Verified!",
      "verification_failed": "Verification Failed",
      "no_email": "Didn't receive the email?",
      "try_again": "Try Again",
      "step_2": "Click the verification link",
      "back_to_login": "Back to login",
      "redirecting": "Redirecting to homepage...",
      "sent_message": "We've sent a verification email to your address.",
      "verifying": "Verifying",
      "step_1": "Open the email we sent you",
      "step_3": "You'll be automatically logged in",
      "resend": "Resend",
      "back_to_register": "Back to registration"
    },
    "login_promise": {
      "back_to_login": "Back to sign in",
      "success_message": "Redirecting you to the homepage.",
      "please_wait": "Please wait...",
      "success_title": "Sign-in successful!",
      "verifying": "Confirming sign-in",
      "error_title": "Sign-in failed"
    },
    "placeholders": {
      "lastname": "Doe",
      "password": "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
      "confirm_password": "Confirm password",
      "firstname": "John",
      "email": "example@email.com",
      "new_password": "New password"
    },
    "or": "or",
    "show_password": "Show password",
    "password_change": {
      "success_message": "Your password has been successfully changed. You can now log in with your new password.",
      "button": "Change Password",
      "redirecting": "Redirecting to login...",
      "title": "Set New Password",
      "updating": "Updating...",
      "back_to_login": "Back to login",
      "success": "Password Changed!",
      "subtitle": "Enter your new password",
      "processing": "Changing password...",
      "please_wait": "Please wait while we update your credentials.",
      "error_title": "Password change failed"
    },
    "fields": {
      "lastname": "Last name",
      "new_password": "New password",
      "firstname": "First name",
      "password": "Password",
      "email": "Email address",
      "confirm_password": "Confirm password"
    },
    "errors": {
      "bad_request": "Bad request",
      "email_exists": "This email address is already registered",
      "server_error": "Server error. Please try again later.",
      "not_found": "Not found",
      "invalid_login_link": "Invalid or expired login link",
      "invalid_credentials": "Invalid email or password",
      "invalid_credentials_or_inexistent_user": "Invalid email or password",
      "network_error": "Network error. Please check your internet connection.",
      "invalid_verification_link": "Invalid or expired verification link.",
      "already_activated": "This account has already been activated.",
      "token_expired": "The confirmation link has expired. Please request a new one.",
      "account_banned": "This account has been suspended. Please contact support.",
      "unknown_error": "An unknown error occurred. Please try again."
    }
  },
  "legal": {
    "privacy": {
      "section1_title": "1. Data Controller",
      "table_header_retention": "Retention Period",
      "section1_text": "The data controller is Roy's Shack Est. 1888 (registered address: 7621 PÃ©cs, KirÃ¡ly Street 12., Hungary). For any data protection inquiries, please contact us at: privacy@roysshack.hu",
      "section2_title": "2. Scope of Collected Data",
      "right_portability_desc": "request data in machine-readable format",
      "table_row2_category": "Shipping data",
      "table_row3_purpose": "Invoicing, customer service",
      "table_row1_retention": "Until account deletion",
      "table_row1_category": "Identification data (name, email)",
      "table_header_category": "Data Category",
      "title": "Privacy Policy",
      "right_objection": "Right to object",
      "section3_title": "3. Rights of Data Subjects",
      "right_rectification_desc": "correction of inaccurate data",
      "right_access": "Right of access",
      "table_row3_retention": "8 years (accounting)",
      "right_rectification": "Right to rectification",
      "right_erasure": "Right to erasure",
      "right_portability": "Data portability",
      "table_header_purpose": "Purpose",
      "table_row3_category": "Purchase history",
      "right_erasure_desc": "the 'right to be forgotten'",
      "section4_title": "4. Data Security",
      "section3_text": "Under the GDPR, data subjects have the following rights:",
      "right_access_desc": "request information about processed data",
      "table_row2_purpose": "Order fulfillment",
      "table_row1_purpose": "Registration, communication",
      "right_objection_desc": "in the case of direct marketing",
      "table_row2_retention": "5 years",
      "section4_text": "We employ technical and organizational measures to protect personal data, including HTTPS/SSL encryption, JWT-based authentication, strict access control, and regular security audits. We do not share your data with third parties, except for the courier service required to fulfill your order."
    },
    "terms": {
      "section3_text": "Registration is required to make a purchase in the Store. By placing an order, the Customer accepts these T&C. Order confirmation is sent by email.",
      "section5_text": "Ordered products are dispatched on business days, generally within 2â€“4 business days. Delivery is carried out by our contracted courier service. The Customer will receive an email notification regarding the shipment status.",
      "section6_title": "6. Right of Withdrawal",
      "section5_title": "5. Shipping and Delivery",
      "info_name_value": "Roy's Shack Est. 1888",
      "section4_text": "All listed prices are in Hungarian Forint (HUF) and include VAT. Shipping costs may vary depending on the order total. Free shipping applies for orders over 15,000 HUF.",
      "section3_step2": "Enter shipping details",
      "info_address_value": "7621 PÃ©cs, KirÃ¡ly Street 12., Hungary",
      "info_email": "Email:",
      "section3_step3": "Finalize the order",
      "section3_step4": "Receive email confirmation",
      "title": "Terms and Conditions",
      "info_phone": "Phone:",
      "section1_text": "These Terms and Conditions (hereinafter: T&C) apply to the use of the Roy's Shack Est. 1888 online store (hereinafter: Store), and to all purchases made through the Store.",
      "info_phone_value": "+36 72 123 456",
      "section6_text": "The Customer may withdraw from the contract within 14 days of receiving the product without giving a reason, in accordance with Government Decree 45/2014 (II. 26.). The right of withdrawal does not apply to prescription medications or unsealed healthcare products.",
      "info_name": "Name:",
      "section3_step1": "Select products and add them to the cart",
      "info_address": "Headquarters:",
      "section3_title": "3. Purchasing Process",
      "section4_title": "4. Prices and Payment",
      "section2_title": "2. Service Provider Information",
      "section1_title": "1. Scope of Terms and Conditions",
      "info_email_value": "info@roysshack.hu"
    },
    "cookies": {
      "preferences_badge": "Preferences",
      "what_title": "What are cookies?",
      "what_text": "Cookies are small text files stored by the website in your browser, with your consent. They allow the website to remember your settings, maintain your login session, and improve the overall user experience. Certain features of the site are not available without cookies.",
      "manage_text": "You can manage cookies through your browser settings. Please note that disabling functional (essential) cookies may prevent certain features â€” such as logging in or using your cart â€” from working correctly. Analytics and preference cookies can be disabled at any time without affecting core functionality.",
      "analytics_badge": "Analytics",
      "essential_always_active": "Always active",
      "preferences_title": "Preference Cookies",
      "manage_title": "Managing Cookies",
      "analytics_text": "Help us understand how visitors interact with the website. The collected data is processed anonymously for statistical purposes.",
      "preferences_text": "Remember the settings selected by the user, such as language and display theme.",
      "essential_text": "Required for the proper functioning of the website. They include session identifiers and security tokens. The website cannot function properly without them.",
      "essential_title": "Functional Cookies",
      "title": "Cookie Policy",
      "analytics_title": "Performance Cookies",
      "essential_badge": "Essential",
      "types_title": "Cookies we use"
    },
    "tabs": {
      "privacy": "Privacy Policy",
      "cookies": "Cookies",
      "terms": "Terms & Conditions"
    },
    "last_updated": "Last updated",
    "description": "Terms and Conditions, Privacy Policy, and Cookie Policy",
    "title": "Legal Information"
  },
  "profile": {
    "not_authenticated": "Please log in to view your profile.",
    "menu": "Menu",
    "logout": "Log out",
    "quick_actions": "Quick actions",
    "role": {
      "verified": "Verified",
      "unverified": "Unverified",
      "admin": "Admin"
    },
    "nav": {
      "label": "Profile navigation",
      "overview": "Overview",
      "personal": "Personal info",
      "security": "Security",
      "orders": "My orders",
      "danger": "Danger zone"
    },
    "stats": {
      "orders": "Orders",
      "reviews": "Reviews",
      "status": "Account"
    },
    "quick": {
      "edit_info_desc": "Update your name and account details",
      "security_desc": "Change your password and security settings",
      "orders_desc": "View your order history and track deliveries"
    },
    "personal": {
      "subtitle": "Manage your personal information",
      "account_info": "Account information",
      "email": "Email address",
      "email_note": "Email address cannot be changed here. Contact support if needed.",
      "account_state": "Account status",
      "edit_name": "Edit your name",
      "first_name": "First name",
      "last_name": "Last name",
      "first_name_placeholder": "Your first name",
      "last_name_placeholder": "Your last name",
      "save": "Save changes"
    },
    "security": {
      "subtitle": "Manage your password and account security",
      "change_password": "Change password",
      "change_password_desc": "To set a new password, we will send a confirmation email. Click the link in the email to approve the change.",
      "requires_login": "Requires login",
      "current_password": "Current password",
      "current_password_placeholder": "Enter your current password",
      "new_password": "New password",
      "new_password_placeholder": "Enter new password (min. 6 characters)",
      "confirm_password": "Confirm new password",
      "confirm_password_placeholder": "Re-enter your new password",
      "change_password_btn": "Update password",
      "password_changed": "Your password has been successfully updated.",
      "forgot_password_title": "Forgot your password?",
      "forgot_password_desc": "If you have forgotten your current password, you can reset it via email â€” no login required. A password reset link will be sent to your email address.",
      "no_login_needed": "No login needed",
      "forgot_password_btn": "Send reset link",
      "email_confirmation": "Email confirmation",
      "email_prefilled": "Your email address is pre-filled from your account",
      "email_sent_check": "Email sent! Check your inbox and click the confirmation link.",
      "forgot_password_desc_alt": "If you can't access your account, you can also reset your password by entering your email address.",
      "alternative_flow": "Alternative"
    }
  },
  "orders": {
    "subtitle": "Your order history and tracking",
    "empty_title": "No orders yet",
    "empty_desc": "You haven't placed any orders yet. Start browsing our product catalog!",
    "browse_products": "Browse products"
  },
  "danger": {
    "subtitle": "Irreversible account actions",
    "warning_banner": "The actions on this page are permanent and cannot be undone. Please proceed with caution.",
    "delete_account": "Delete account",
    "delete_desc": "Permanently delete your account and all associated data including order history, reviews, and personal information. A confirmation email will be sent to verify this request.",
    "confirm_password": "Confirm with password",
    "password_placeholder": "Enter your current password",
    "password_hint": "A confirmation link will be sent to your email address. Your account will only be deleted after clicking the link.",
    "delete_btn": "Request account deletion",
    "email_sent_title": "Confirmation email sent",
    "email_sent_desc": "Check your inbox and click the link to confirm your account deletion. The link expires in 7 days."
  },
  "errors": {
    "name_required": "First name and last name are required.",
    "update_failed": "Failed to update profile. Please try again.",
    "current_password_required": "Please enter your current password.",
    "new_password_too_short": "New password must be at least 6 characters long.",
    "passwords_do_not_match": "New passwords do not match.",
    "password_change_failed": "Failed to change password. Check your current password and try again.",
    "delete_failed": "Failed to send deletion request. Please try again."
  },
  "success": {
    "profile_updated": "Your profile has been successfully updated."
  },
  "product": {
    "in_stock": "In Stock",
    "sku": "SKU",
    "description": "Description",
    "try_different_filters": "Try adjusting your filters",
    "availability": "Availability",
    "pieces": "pcs",
    "next_image": "Next image",
    "pharmaceutical_details": "Pharmaceutical Details",
    "brand": "Brand",
    "view_details": "View Details",
    "decrease_quantity": "Decrease quantity",
    "manufacturer": "Manufacturer",
    "total": "Total",
    "previous_image": "Previous image",
    "out_of_stock": "Out of Stock",
    "reviews": "reviews",
    "prescription_required_notice": "This product requires a prescription. Please upload your prescription when ordering.",
    "packaging": "Packaging",
    "dosage": "Dosage",
    "no_image": "No image",
    "active_ingredients": "Active Ingredients",
    "no_products_found": "No products found",
    "view_image": "View image {{number}}",
    "requires_prescription": "Prescription Required",
    "increase_quantity": "Increase quantity",
    "not_found": "Product not found",
    "not_found_desc": "The product you are looking for does not exist or has been removed.",
    "back_to_products": "Back to products"
  },
  "common": {
    "next_page": "Next page",
    "go_home": "Go to Homepage",
    "previous": "Previous",
    "items_unit": "pcs",
    "close": "Close",
    "minutes": "min",
    "refresh": "Refresh",
    "add_to_cart": "Add to Cart",
    "loading": "Loading...",
    "previous_page": "Previous page",
    "retry": "Retry",
    "scroll_left": "Scroll left",
    "search": "Search",
    "next": "Next",
    "clear": "Clear",
    "cancel": "Cancel",
    "scroll_right": "Scroll right",
    "added_to_cart": "Added to cart"
  },
  "home": {
    "featured": {
      "title": "Featured Products",
      "showMore": "Show all",
      "showLess": "Show less",
      "viewAll": "All products"
    },
    "hero": {
      "subtitle": "Our Mission",
      "description": "Healthcare shouldn't be complicated â€” yet so many people struggle to find reliable, well-documented health products in one transparent place. Roy's Shack Est. 1888 brings the spirit of over a century of trusted pharmacy heritage into the digital age. Our mission is to make purchasing health and wellness products simple, safe, and informed. We believe every customer deserves accurate product descriptions, fair prices, and fast delivery â€” no matter where they are.",
      "title": "Roy's Shack Est. 1888"
    }
  },
  "forum": {
    "pinned": "Pinned",
    "search_placeholder": "Search forum posts...",
    "sort_by": "Sort by",
    "filter_by_category": "Filter by category",
    "featured": "Featured",
    "title": "Forum",
    "new_post": "New Post",
    "no_results_title": "No Results Found",
    "question": "Question",
    "no_results_description": "Try different search terms or select another category.",
    "verified": "Verified",
    "all_categories": "All Categories",
    "description": "Share questions, answers, and experiences with our community",
    "reset_filters": "Reset Filters",
    "answered": "Answered",
    "comment_placeholder": "Write your comment here...",
    "comments": "Comments",
    "back_to_forum": "Back to Forum",
    "submit_comment": "Submit Comment",
    "comment_edited": "edited"
  },
  "pagination": {
    "of": "of",
    "page": "Page",
    "previous": "Previous",
    "items_per_page": "Items per page",
    "showing": "Showing",
    "navigation": "Pagination",
    "next": "Next"
  },
  "cart": {
    "clear_all": "Clear Cart",
    "remove": "Remove",
    "empty": "Your cart is empty",
    "checkout": "Go to Checkout",
    "total": "Total",
    "title": "Shopping Cart",
    "items": "items"
  },
  "admin": {
    "toggle_sidebar": "Toggle sidebar",
    "table": {
      "orders": "Orders",
      "role": "Role",
      "rating": "Rating",
      "email": "Email",
      "date": "Date",
      "customer": "Customer",
      "order_id": "Order ID",
      "phone": "Phone",
      "stock": "Stock",
      "address": "Address",
      "note": "Note",
      "registered": "Registered",
      "user": "User",
      "user_id": "User ID",
      "product": "Product",
      "total": "Total",
      "status": "Status",
      "category": "Category",
      "actions": "Actions",
      "items": "Items",
      "price": "Price"
    },
    "stats": {
      "this_week": "this week",
      "low_stock": "low stock",
      "revenue": "Revenue",
      "total_orders": "Total Orders",
      "total_products": "Total Products",
      "total_users": "Total Users",
      "this_month": "this month"
    },
    "search_users": "Search users...",
    "no_users": "No users found.",
    "role": "Admin",
    "nav": {
      "orders": "Orders",
      "users": "Users",
      "dashboard": "Dashboard",
      "products": "Products"
    },
    "search_products": "Search products...",
    "loading": "Loading data...",
    "no_products": "No products found.",
    "view_all": "View All",
    "active": "Active",
    "inactive": "Inactive",
    "search_orders": "Search orders...",
    "recent_orders": "Recent Orders",
    "no_orders": "No orders found.",
    "greeting": "Welcome, {{name}}!"
  },
  "footer": {
    "contactInfo": "Contact information",
    "followUs": "Follow us!",
    "send": "Send",
    "emailPlaceholder": "Your e-mail address",
    "contact": "Contact",
    "newsletter": "Subscribe to our newsletter!",
    "newsletter_error": "Failed to subscribe. Please try again.",
    "info": "The information, data or documents on the site are for informational purposes only",
    "email": "Contact@roysshack.hu",
    "no_social_link": "We are not yet available on this platform",
    "legal": "Legal",
    "newsletter_success": "Successfully subscribed!",
    "copyright": "Copyright Â© 2025 Roy's shack"
  },
  "filter": {
    "clear_all": "Clear filters",
    "sort": {
      "rating": "Rating",
      "name_asc": "Name (A-Z)",
      "price_asc": "Price (Low to High)",
      "name_desc": "Name (Z-A)",
      "popularity": "Popularity",
      "newest": "Newest",
      "price_desc": "Price (High to Low)"
    },
    "in_stock_only": "In stock only",
    "min_price": "Min. price",
    "price_range": "Price range",
    "max_price": "Max. price",
    "filters": "Filters",
    "advanced_filters": "Advanced filters",
    "toggle_filters": "Toggle filters",
    "sort_by": "Sort by"
  },
  "checkout": {
    "invalid_phone": "Please enter a valid phone number.",
    "note_placeholder": "Any special instructions? (optional)",
    "house_number": "House Number",
    "success": "Order placed successfully! Redirecting...",
    "continue_shopping": "Continue Shopping",
    "total": "Total",
    "validation_error": "Please fill in all required fields.",
    "apartment_placeholder": "Optional",
    "invalid_zipcode": "Please enter a valid zip code.",
    "subtotal": "Subtotal",
    "address": "Street Address",
    "apartment_number": "Apartment",
    "order_summary": "Order Summary",
    "zipcode_placeholder": "e.g. 7600",
    "processing": "Processing...",
    "city_placeholder": "Enter your city",
    "place_order": "Place Order",
    "free_shipping": "Free",
    "error": "Failed to place order. Please try again.",
    "zipcode": "Zip Code",
    "shipping_info": "Shipping Information",
    "shipping": "Shipping",
    "title": "Checkout",
    "address_placeholder": "Enter your street address",
    "city": "City",
    "house_number_placeholder": "e.g. 42",
    "phone": "Phone Number",
    "note": "Order Notes",
    "phone_placeholder": "+36 30 123 4567"
  },
  "header": {
    "my_orders": "My Orders",
    "products": "Products",
    "menu": "Menu",
    "forum": "Forum",
    "profile": "Profile",
    "login": "Login",
    "cart": "Shopping Cart",
    "my_profile": "My Profile",
    "home": "Home",
    "logout": "Logout"
  },
  "category": {
    "cosmetics": "Cosmetics",
    "baby-care": "Baby Care",
    "medical-devices": "Medical Devices",
    "clear_all": "Clear all",
    "filter_by": "Filter by category",
    "supplements": "Supplements",
    "vitamins": "Vitamins",
    "select": "Select category",
    "medicine": "Medicines"
  },
  "time": {
    "months_ago": "{{count}} months ago",
    "weeks_ago": "{{count}} weeks ago",
    "minutes_ago": "{{count}} minutes ago",
    "yesterday": "Yesterday",
    "hours_ago": "{{count}} hours ago",
    "years_ago": "{{count}} years ago",
    "days_ago": "{{count}} days ago"
  },
  "products": {
    "empty": "No products available"
  },
  "language": {
    "switch": "Switch language"
  },
  "theme": {
    "toggle": "Toggle theme"
  },
  "slider": {
    "aria_label": "Featured content slider",
    "navigation": "Slider navigation",
    "previous": "Previous slide",
    "next": "Next slide",
    "go_to": "Go to slide {{number}}",
    "slide_alt": "Slide {{number}}",
    "badge": "Roy's Shack Est. 1888",
    "slide1": {
      "title": "Natural health, modern approach",
      "subtitle": "Premium natural remedies and vitamin supplements â€” science-backed, from trusted sources."
    },
    "slide2": {
      "title": "Prescription products ordered safely",
      "subtitle": "Prescription medications and medical devices delivered conveniently, right to your door."
    },
    "slide3": {
      "title": "Baby & mother care, all in one place",
      "subtitle": "Baby skincare, infant formula, and maternity supplements â€” everything you need for the first years."
    },
    "slide4": {
      "title": "Medical devices within reach",
      "subtitle": "Blood pressure monitors, wound care and diagnostic tools â€” professional quality, home prices."
    },
    "cta": "Browse Products"
  }
}



================================================================================
FILE: src\assets\i18n\hu.json
================================================================================

{
  "blog": {
    "title": "Blog",
    "search_placeholder": "KeresÃ©s a blog bejegyzÃ©sei kÃ¶zÃ¶tt...",
    "related_posts": "TovÃ¡bbi bejegyzÃ©sek",
    "all_categories": "Minden kategÃ³ria",
    "no_results_title": "Nincs talÃ¡lat",
    "back_to_blog": "Vissza a bloghoz",
    "post_not_found": "A cikk nem talÃ¡lhatÃ³",
    "reset_filters": "SzÅ±rÅ‘k visszaÃ¡llÃ­tÃ¡sa",
    "filter_by_category": "SzÅ±rÃ©s kategÃ³ria szerint",
    "description": "EgÃ©szsÃ©gtippek, szakmai cikkek Ã©s hasznos informÃ¡ciÃ³k gyÃ³gyszerÃ©szeinktÅ‘l",
    "no_results_description": "PrÃ³bÃ¡lj meg mÃ¡s keresÃ©si kifejezÃ©st vagy kategÃ³riÃ¡t vÃ¡lasztani.",
    "read_more": "Teljes cikk olvasÃ¡sa",
    "featured_posts": "Kiemelt cikkek",
    "sort_by": "RendezÃ©s"
  },
  "auth": {
    "password_reset": {
      "back_to_login": "Vissza a bejelentkezÃ©shez",
      "confirm_password": "Ãšj jelszÃ³ megerÅ‘sÃ­tÃ©se",
      "email_sent": "E-mail elkÃ¼ldve",
      "step_3": "Az Ãºj jelszÃ³ azonnal Ã©rvÃ©nyes lesz",
      "sending": "KÃ¼ldÃ©s...",
      "step_2": "Kattintson a megerÅ‘sÃ­tÅ‘ linkre",
      "step_1": "EllenÅ‘rizze e-mail fiÃ³kjÃ¡t",
      "title": "JelszÃ³ megvÃ¡ltoztatÃ¡sa",
      "new_password": "Ãšj jelszÃ³",
      "email_sent_message": "JelszÃ³vÃ¡ltoztatÃ¡si megerÅ‘sÃ­tÅ‘ linket kÃ¼ldtÃ¼nk e-mail cÃ­mÃ©re.",
      "subtitle": "Adja meg e-mail cÃ­mÃ©t Ã©s az Ãºj jelszavÃ¡t",
      "button": "JelszÃ³vÃ¡ltoztatÃ¡s igÃ©nylÃ©se"
    },
    "success": {
      "welcome_back": "Sikeres bejelentkezÃ©s! ÃœdvÃ¶zÃ¶ljÃ¼k!",
      "registered": "Sikeres regisztrÃ¡ciÃ³! EllenÅ‘rizze e-mail fiÃ³kjÃ¡t.",
      "logged_in": "Sikeresen bejelentkezett"
    },
    "login": {
      "title": "BejelentkezÃ©s",
      "email_sent_title": "EllenÅ‘rizze e-mail fiÃ³kjÃ¡t",
      "forgot_password": "Elfelejtette jelszavÃ¡t?",
      "sign_up": "RegisztrÃ¡ciÃ³",
      "stay_logged_in": "Maradjak bejelentkezve",
      "step_1": "Nyissa meg az e-mailt Ã©s kattintson a megerÅ‘sÃ­tÅ‘ linkre",
      "logging_in": "BejelentkezÃ©s...",
      "email_sent_message": "BejelentkezÃ©si megerÅ‘sÃ­tÅ‘ linket kÃ¼ldtÃ¼nk az Ã–n e-mail cÃ­mÃ©re. Kattintson a linkre a belÃ©pÃ©s befejezÃ©sÃ©hez.",
      "no_account": "Nincs mÃ©g fiÃ³kja?",
      "subtitle": "ÃœdvÃ¶zÃ¶ljÃ¼k Ãºjra!",
      "step_2": "Automatikusan bejelentkezik",
      "button": "BejelentkezÃ©s"
    },
    "register": {
      "title": "RegisztrÃ¡ciÃ³",
      "success_message": "Sikeres regisztrÃ¡ciÃ³! KÃ©rjÃ¼k, erÅ‘sÃ­tse meg email cÃ­mÃ©t.",
      "creating_account": "FiÃ³k lÃ©trehozÃ¡sa...",
      "have_account": "MÃ¡r van fiÃ³kja?",
      "sign_in": "BejelentkezÃ©s",
      "button": "FiÃ³k lÃ©trehozÃ¡sa",
      "password_hint": "Minimum 8 karakter hosszÃº jelszÃ³ szÃ¼ksÃ©ges",
      "subtitle": "Hozzon lÃ©tre egy Ãºj fiÃ³kot"
    },
    "email": {
      "verifying_message": "KÃ©rjÃ¼k vÃ¡rjon, amÃ­g megerÅ‘sÃ­tjÃ¼k e-mail cÃ­mÃ©t...",
      "verified_message": "E-mail cÃ­me sikeresen megerÅ‘sÃ­tve. Automatikusan bejelentkezik.",
      "check_inbox": "EllenÅ‘rizze a postafiÃ³kjÃ¡t",
      "verified": "E-mail megerÅ‘sÃ­tve!",
      "verification_failed": "EllenÅ‘rzÃ©s sikertelen",
      "no_email": "Nem kapta meg az e-mailt?",
      "try_again": "PrÃ³bÃ¡lja Ãºjra",
      "step_2": "Kattintson a megerÅ‘sÃ­tÅ‘ linkre",
      "back_to_login": "Vissza a bejelentkezÃ©shez",
      "redirecting": "ÃtirÃ¡nyÃ­tÃ¡s a fÅ‘oldalra...",
      "sent_message": "E-mail megerÅ‘sÃ­tÅ‘ linket kÃ¼ldtÃ¼nk a megadott cÃ­mre.",
      "verifying": "EllenÅ‘rzÃ©s folyamatban",
      "step_1": "Nyissa meg az elkÃ¼ldÃ¶tt e-mailt",
      "step_3": "Automatikusan bejelentkezik",
      "resend": "ÃšjrakÃ¼ldÃ©s",
      "back_to_register": "Vissza a regisztrÃ¡ciÃ³hoz"
    },
    "login_promise": {
      "back_to_login": "Vissza a bejelentkezÃ©shez",
      "success_message": "ÃtirÃ¡nyÃ­tjuk a fÅ‘oldalra.",
      "please_wait": "KÃ©rjÃ¼k vÃ¡rjon...",
      "success_title": "Sikeres bejelentkezÃ©s!",
      "verifying": "BejelentkezÃ©s megerÅ‘sÃ­tÃ©se",
      "error_title": "BejelentkezÃ©s sikertelen"
    },
    "placeholders": {
      "lastname": "Kiss",
      "password": "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
      "confirm_password": "JelszÃ³ Ãºjra",
      "firstname": "JÃ¡nos",
      "email": "pelda@email.hu",
      "new_password": "Ãšj jelszÃ³"
    },
    "or": "vagy",
    "show_password": "JelszÃ³ megjelenÃ­tÃ©se",
    "password_change": {
      "success_message": "Jelszava sikeresen megvÃ¡ltoztatva. Most mÃ¡r bejelentkezhet az Ãºj jelszavÃ¡val.",
      "button": "JelszÃ³ megvÃ¡ltoztatÃ¡sa",
      "redirecting": "ÃtirÃ¡nyÃ­tÃ¡s a bejelentkezÃ©shez...",
      "title": "Ãšj jelszÃ³ beÃ¡llÃ­tÃ¡sa",
      "updating": "FrissÃ­tÃ©s...",
      "back_to_login": "Vissza a bejelentkezÃ©shez",
      "success": "JelszÃ³ megvÃ¡ltoztatva!",
      "subtitle": "Adja meg Ãºj jelszavÃ¡t",
      "processing": "JelszÃ³ mÃ³dosÃ­tÃ¡sa...",
      "please_wait": "KÃ©rjÃ¼k vÃ¡rjon, amÃ­g frissÃ­tjÃ¼k a hitelesÃ­tÅ‘ adatait.",
      "error_title": "JelszÃ³mÃ³dosÃ­tÃ¡s sikertelen"
    },
    "fields": {
      "lastname": "VezetÃ©knÃ©v",
      "new_password": "Ãšj jelszÃ³",
      "firstname": "KeresztnÃ©v",
      "password": "JelszÃ³",
      "email": "E-mail cÃ­m",
      "confirm_password": "JelszÃ³ megerÅ‘sÃ­tÃ©se"
    },
    "errors": {
      "bad_request": "HibÃ¡s kÃ©rÃ©s",
      "email_exists": "Ez az e-mail cÃ­m mÃ¡r regisztrÃ¡lva van",
      "server_error": "Szerver hiba. KÃ©rjÃ¼k prÃ³bÃ¡lja Ãºjra kÃ©sÅ‘bb.",
      "not_found": "Nem talÃ¡lhatÃ³",
      "invalid_login_link": "Ã‰rvÃ©nytelen vagy lejÃ¡rt bejelentkezÃ©si link",
      "invalid_credentials": "HibÃ¡s e-mail cÃ­m vagy jelszÃ³",
      "invalid_credentials_or_inexistent_user": "HibÃ¡s e-mail cÃ­m vagy jelszÃ³",
      "network_error": "HÃ¡lÃ³zati hiba. EllenÅ‘rizze az internetkapcsolatÃ¡t.",
      "invalid_verification_link": "Ã‰rvÃ©nytelen vagy lejÃ¡rt megerÅ‘sÃ­tÅ‘ link.",
      "already_activated": "Ez a fiÃ³k mÃ¡r korÃ¡bban aktivÃ¡lva lett.",
      "token_expired": "A megerÅ‘sÃ­tÅ‘ link lejÃ¡rt. KÃ©rjen Ãºjat.",
      "account_banned": "A fiÃ³k le van tiltva. LÃ©pjen kapcsolatba az Ã¼gyfÃ©lszolgÃ¡lattal.",
      "unknown_error": "Ismeretlen hiba tÃ¶rtÃ©nt. KÃ©rjÃ¼k, prÃ³bÃ¡lja Ãºjra."
    }
  },
  "legal": {
    "privacy": {
      "section1_title": "1. Az adatkezelÅ‘",
      "table_header_retention": "MegÅ‘rzÃ©si idÅ‘",
      "section1_text": "Az adatkezelÅ‘ a Roy's Shack Est. 1888 (szÃ©khely: 7621 PÃ©cs, KirÃ¡ly utca 12.). Az adatkezelÃ©ssel kapcsolatos kÃ©rdÃ©sekkel az alÃ¡bbi elÃ©rhetÅ‘sÃ©gen fordulhat hozzÃ¡nk: adatvedelem@roysshack.hu",
      "section2_title": "2. GyÅ±jtÃ¶tt adatok kÃ¶re",
      "right_portability_desc": "adatok gÃ©ppel olvashatÃ³ formÃ¡ban kÃ©rhetÅ‘k",
      "table_row2_category": "SzÃ¡llÃ­tÃ¡si adatok",
      "table_row3_purpose": "SzÃ¡mlÃ¡zÃ¡s, Ã¼gyfÃ©lszolgÃ¡lat",
      "table_row1_retention": "FiÃ³k tÃ¶rlÃ©sig",
      "table_row1_category": "AzonosÃ­tÃ³ adatok (nÃ©v, email)",
      "table_header_category": "AdatkategÃ³ria",
      "title": "AdatvÃ©delmi SzabÃ¡lyzat",
      "right_objection": "TiltakozÃ¡si jog",
      "section3_title": "3. Az Ã©rintett jogai",
      "right_rectification_desc": "pontatlan adatok javÃ­tÃ¡sa",
      "right_access": "HozzÃ¡fÃ©rÃ©si jog",
      "table_row3_retention": "8 Ã©v (szÃ¡mviteli)",
      "right_rectification": "HelyesbÃ­tÃ©si jog",
      "right_erasure": "TÃ¶rlÃ©si jog",
      "right_portability": "AdathordozhatÃ³sÃ¡g",
      "table_header_purpose": "CÃ©lok",
      "table_row3_category": "VÃ¡sÃ¡rlÃ¡si elÅ‘zmÃ©nyek",
      "right_erasure_desc": "\"elfeledtetÃ©shez valÃ³ jog",
      "section4_title": "4. AdatbiztonsÃ¡g",
      "section3_text": "A GDPR Ã©rtelmÃ©ben az Ã©rintett szemÃ©lyek az alÃ¡bbi jogokkal rendelkeznek:",
      "right_access_desc": "tÃ¡jÃ©koztatÃ¡s kÃ©rÃ©se a kezelt adatokrÃ³l",
      "table_row2_purpose": "RendelÃ©s teljesÃ­tÃ©se",
      "table_row1_purpose": "RegisztrÃ¡ciÃ³, kommunikÃ¡ciÃ³",
      "right_objection_desc": "kÃ¶zvetlen Ã¼zletszerzÃ©s esetÃ©n",
      "table_row2_retention": "5 Ã©v",
      "section4_text": "A szemÃ©lyes adatok vÃ©delme Ã©rdekÃ©ben technikai Ã©s szervezÃ©si intÃ©zkedÃ©seket alkalmazunk, beleÃ©rtve a HTTPS/SSL titkosÃ­tÃ¡st, a JWT-alapÃº hitelesÃ­tÃ©st, a hozzÃ¡fÃ©rÃ©si jogosultsÃ¡gok szigorÃº korlÃ¡tozÃ¡sÃ¡t, valamint a rendszeres biztonsÃ¡gi felÃ¼lvizsgÃ¡latokat. Adatait harmadik fÃ©lnek nem adjuk Ã¡t, kivÃ©ve a rendelÃ©s teljesÃ­tÃ©sÃ©hez szÃ¼ksÃ©ges futÃ¡rszolgÃ¡latot."
    },
    "terms": {
      "section3_text": "A WebÃ¡ruhÃ¡zban tÃ¶rtÃ©nÅ‘ vÃ¡sÃ¡rlÃ¡shoz regisztrÃ¡ciÃ³ szÃ¼ksÃ©ges. A megrendelÃ©s leadÃ¡sÃ¡val a VÃ¡sÃ¡rlÃ³ elfogadja jelen ÃSZF feltÃ©teleit. A megrendelÃ©s visszaigazolÃ¡sa emailben tÃ¶rtÃ©nik.",
      "section5_text": "A megrendelt termÃ©kek kiszÃ¡llÃ­tÃ¡sa munkanapokon, Ã¡ltalÃ¡ban 2â€“4 munkanapon belÃ¼l tÃ¶rtÃ©nik. A kiszÃ¡llÃ­tÃ¡st megbÃ­zott futÃ¡rszolgÃ¡lat vÃ©gzi. A csomag Ã¡llapotÃ¡rÃ³l emailben Ã©rtesÃ­tjÃ¼k a VÃ¡sÃ¡rlÃ³t.",
      "section6_title": "6. ElÃ¡llÃ¡si jog",
      "section5_title": "5. SzÃ¡llÃ­tÃ¡s Ã©s Ã¡tvÃ©tel",
      "info_name_value": "Roy's Shack Est. 1888",
      "section4_text": "A feltÃ¼ntetett Ã¡rak forintban (HUF) Ã©rtendÅ‘k Ã©s az Ã¡ltalÃ¡nos forgalmi adÃ³t (ÃFA) tartalmazzÃ¡k. A szÃ¡llÃ­tÃ¡si dÃ­j a rendelÃ©s Ã¶sszegÃ©tÅ‘l fÃ¼ggÅ‘en vÃ¡ltozhat. 15 000 Ft feletti rendelÃ©snÃ©l ingyenes kiszÃ¡llÃ­tÃ¡st biztosÃ­tunk.",
      "section3_step2": "A szÃ¡llÃ­tÃ¡si adatok megadÃ¡sa",
      "info_address_value": "7621 PÃ©cs, KirÃ¡ly utca 12.",
      "info_email": "Email:",
      "section3_step3": "A megrendelÃ©s vÃ©glegesÃ­tÃ©se",
      "section3_step4": "Email visszaigazolÃ¡s fogadÃ¡sa",
      "title": "ÃltalÃ¡nos SzerzÅ‘dÃ©si FeltÃ©telek",
      "info_phone": "Telefon:",
      "section1_text": "Jelen ÃltalÃ¡nos SzerzÅ‘dÃ©si FeltÃ©telek (tovÃ¡bbiakban: ÃSZF) a Roy's Shack Est. 1888 webÃ¡ruhÃ¡z (tovÃ¡bbiakban: WebÃ¡ruhÃ¡z) hasznÃ¡latÃ¡ra vonatkoznak, Ã©s a WebÃ¡ruhÃ¡zon keresztÃ¼l lebonyolÃ­tott valamennyi vÃ¡sÃ¡rlÃ¡sra alkalmazandÃ³k.",
      "info_phone_value": "+36 72 123 456",
      "section6_text": "A VÃ¡sÃ¡rlÃ³ a termÃ©k Ã¡tvÃ©telÃ©tÅ‘l szÃ¡mÃ­tott 14 napon belÃ¼l indoklÃ¡s nÃ©lkÃ¼l elÃ¡llhat a szerzÅ‘dÃ©stÅ‘l, a 45/2014. (II. 26.) Korm. rendelet alapjÃ¡n. VÃ©nykÃ¶teles gyÃ³gyszerek Ã©s felbontott csomagolÃ¡sÃº egÃ©szsÃ©gÃ¼gyi kÃ©szÃ­tmÃ©nyek esetÃ©n az elÃ¡llÃ¡si jog nem gyakorolhatÃ³.",
      "info_name": "NÃ©v:",
      "section3_step1": "A termÃ©kek kivÃ¡lasztÃ¡sa Ã©s a kosÃ¡rba helyezÃ©se",
      "info_address": "SzÃ©khely:",
      "section3_title": "3. A vÃ¡sÃ¡rlÃ¡s folyamata",
      "section4_title": "4. Ãrak Ã©s fizetÃ©s",
      "section2_title": "2. A szolgÃ¡ltatÃ³ adatai",
      "section1_title": "1. Az Ã¡ltalÃ¡nos szerzÅ‘dÃ©si feltÃ©telek hatÃ¡lya",
      "info_email_value": "info@roysshack.hu"
    },
    "cookies": {
      "preferences_badge": "BeÃ¡llÃ­tÃ¡sok",
      "what_title": "Mi az a sÃ¼ti?",
      "what_text": "A sÃ¼tik (cookie-k) kis szÃ¶veges fÃ¡jlok, amelyeket a weboldal tÃ¡rol a bÃ¶ngÃ©szÅ‘jÃ©ben, az Ã–n hozzÃ¡jÃ¡rulÃ¡sÃ¡val. LehetÅ‘vÃ© teszik a weboldal szÃ¡mÃ¡ra, hogy megjegyezze a beÃ¡llÃ­tÃ¡sait, fenntartsa a bejelentkezÃ©si Ã¡llapotot, Ã©s javÃ­tsa a felhasznÃ¡lÃ³i Ã©lmÃ©nyt. SÃ¼tik nÃ©lkÃ¼l egyes funkciÃ³k nem Ã©rhetÅ‘k el.",
      "manage_text": "A sÃ¼tik kezelhetÅ‘k a bÃ¶ngÃ©szÅ‘ beÃ¡llÃ­tÃ¡sain keresztÃ¼l. FelhÃ­vjuk figyelmÃ©t, hogy a funkcionÃ¡lis (elengedhetetlen) sÃ¼tik letiltÃ¡sa esetÃ©n az oldal egyes funkciÃ³i â€“ pÃ©ldÃ¡ul a bejelentkezÃ©s vagy a kosÃ¡r â€“ nem fognak megfelelÅ‘en mÅ±kÃ¶dni. Az elemzÃ©si Ã©s preferencia sÃ¼tiket bÃ¡rmikor letilthatja.",
      "analytics_badge": "ElemzÃ©si",
      "essential_always_active": "Mindig aktÃ­v",
      "preferences_title": "Preferencia sÃ¼tik",
      "manage_title": "SÃ¼tik kezelÃ©se",
      "analytics_text": "SegÃ­tenek megÃ©rteni, hogyan interakciÃ³ba lÃ©pnek a lÃ¡togatÃ³k a weboldallal. Az Ã¶sszegyÅ±jtÃ¶tt adatokat anonim formÃ¡ban kezeljÃ¼k statisztikai cÃ©lokra.",
      "preferences_text": "Megjegyzik a felhasznÃ¡lÃ³ Ã¡ltal kivÃ¡lasztott beÃ¡llÃ­tÃ¡sokat, mint a nyelv Ã©s a megjelenÃ©si tÃ©ma.",
      "essential_text": "A weboldal megfelelÅ‘ mÅ±kÃ¶dÃ©sÃ©hez szÃ¼ksÃ©gesek. TartalmazzÃ¡k a munkamenet-azonosÃ­tÃ³t Ã©s a biztonsÃ¡gi tokeneket. Ezek nÃ©lkÃ¼l a weboldal nem mÅ±kÃ¶dik megfelelÅ‘en.",
      "essential_title": "FunkcionÃ¡lis sÃ¼tik",
      "title": "SÃ¼ti TÃ¡jÃ©koztatÃ³",
      "analytics_title": "TeljesÃ­tmÃ©ny sÃ¼tik",
      "essential_badge": "Elengedhetetlen",
      "types_title": "Ãltalunk hasznÃ¡lt sÃ¼tik"
    },
    "tabs": {
      "privacy": "AdatvÃ©delem",
      "cookies": "SÃ¼tik",
      "terms": "SzerzÅ‘dÃ©si feltÃ©telek"
    },
    "last_updated": "UtoljÃ¡ra frissÃ­tve",
    "description": "ÃltalÃ¡nos SzerzÅ‘dÃ©si FeltÃ©telek, AdatvÃ©delmi SzabÃ¡lyzat Ã©s SÃ¼ti TÃ¡jÃ©koztatÃ³",
    "title": "Jogi informÃ¡ciÃ³k"
  },
  "profile": {
    "not_authenticated": "A profil megtekintÃ©sÃ©hez kÃ©rjÃ¼k, jelentkezz be.",
    "menu": "MenÃ¼",
    "logout": "KijelentkezÃ©s",
    "quick_actions": "GyorsmÅ±veletek",
    "role": {
      "verified": "HitelesÃ­tett",
      "unverified": "Nem hitelesÃ­tett",
      "admin": "AdminisztrÃ¡tor"
    },
    "nav": {
      "label": "Profil navigÃ¡ciÃ³",
      "overview": "ÃttekintÃ©s",
      "personal": "SzemÃ©lyes adatok",
      "security": "BiztonsÃ¡g",
      "orders": "RendelÃ©seim",
      "danger": "VeszÃ©lyzÃ³na"
    },
    "stats": {
      "orders": "RendelÃ©s",
      "reviews": "Ã‰rtÃ©kelÃ©s",
      "status": "FiÃ³k"
    },
    "quick": {
      "edit_info_desc": "NevÃ©nek Ã©s fiÃ³kadatainak mÃ³dosÃ­tÃ¡sa",
      "security_desc": "JelszÃ³ Ã©s biztonsÃ¡gi beÃ¡llÃ­tÃ¡sok kezelÃ©se",
      "orders_desc": "RendelÃ©si elÅ‘zmÃ©nyek Ã©s kÃ©zbesÃ­tÃ©s nyomon kÃ¶vetÃ©se"
    },
    "personal": {
      "subtitle": "SzemÃ©lyes adatok kezelÃ©se",
      "account_info": "FiÃ³kadatok",
      "email": "E-mail cÃ­m",
      "email_note": "Az e-mail cÃ­m itt nem mÃ³dosÃ­thatÃ³. Ha vÃ¡ltoztatÃ¡sra van szÃ¼ksÃ©ge, lÃ©pjen kapcsolatba az Ã¼gyfÃ©lszolgÃ¡lattal.",
      "account_state": "FiÃ³k stÃ¡tusza",
      "edit_name": "NÃ©v mÃ³dosÃ­tÃ¡sa",
      "first_name": "KeresztnÃ©v",
      "last_name": "VezetÃ©knÃ©v",
      "first_name_placeholder": "Az Ã–n keresztneve",
      "last_name_placeholder": "Az Ã–n vezetÃ©kneve",
      "save": "VÃ¡ltoztatÃ¡sok mentÃ©se"
    },
    "security": {
      "subtitle": "JelszÃ³ Ã©s fiÃ³kbiztonsÃ¡g kezelÃ©se",
      "change_password": "JelszÃ³ megvÃ¡ltoztatÃ¡sa",
      "change_password_desc": "Az Ãºj jelszÃ³ beÃ¡llÃ­tÃ¡sÃ¡hoz egy megerÅ‘sÃ­tÅ‘ emailt kÃ¼ldÃ¼nk. Kattints a levÃ©lben lÃ©vÅ‘ linkre a vÃ¡ltoztatÃ¡s jÃ³vÃ¡hagyÃ¡sÃ¡hoz.",
      "requires_login": "BejelentkezÃ©s szÃ¼ksÃ©ges",
      "current_password": "Jelenlegi jelszÃ³",
      "current_password_placeholder": "Adja meg jelenlegi jelszavÃ¡t",
      "new_password": "Ãšj jelszÃ³",
      "new_password_placeholder": "Adja meg az Ãºj jelszÃ³t (min. 6 karakter)",
      "confirm_password": "Ãšj jelszÃ³ megerÅ‘sÃ­tÃ©se",
      "confirm_password_placeholder": "Ãrja be Ãºjra az Ãºj jelszÃ³t",
      "change_password_btn": "JelszÃ³ frissÃ­tÃ©se",
      "password_changed": "Jelszava sikeresen frissÃ­tve.",
      "forgot_password_title": "Elfelejtette jelszavÃ¡t?",
      "forgot_password_desc": "Ha elfelejtette jelenlegi jelszavÃ¡t, e-mailen keresztÃ¼l visszaÃ¡llÃ­thatja â€“ bejelentkezÃ©s nÃ©lkÃ¼l is. A visszaÃ¡llÃ­tÃ¡si link az e-mail fiÃ³kjÃ¡ba kerÃ¼l elkÃ¼ldÃ©sre.",
      "no_login_needed": "BejelentkezÃ©s nÃ©lkÃ¼l",
      "forgot_password_btn": "VisszaÃ¡llÃ­tÃ¡si link kÃ¼ldÃ©se",
      "email_confirmation": "Emailes megerÅ‘sÃ­tÃ©s",
      "email_prefilled": "Az email-cÃ­m automatikusan ki van tÃ¶ltve a fiÃ³kodbÃ³l",
      "email_sent_check": "Email elkÃ¼ldve! EllenÅ‘rizd a postalÃ¡dÃ¡dat, Ã©s kattints a megerÅ‘sÃ­tÅ‘ linkre.",
      "forgot_password_desc_alt": "Ha nincs hozzÃ¡fÃ©rÃ©sed a fiÃ³kodhoz, a jelszÃ³t az email-cÃ­m megadÃ¡sÃ¡val is visszaÃ¡llÃ­thatod.",
      "alternative_flow": "AlternatÃ­v megoldÃ¡s"
    }
  },
  "orders": {
    "subtitle": "RendelÃ©si elÅ‘zmÃ©nyek Ã©s nyomkÃ¶vetÃ©s",
    "empty_title": "MÃ©g nincs rendelÃ©s",
    "empty_desc": "MÃ©g nem adott le rendelÃ©st. BÃ¶ngÃ©sszen termÃ©kkÃ­nÃ¡latunkban!",
    "browse_products": "TermÃ©kek megtekintÃ©se"
  },
  "danger": {
    "subtitle": "VisszafordÃ­thatatlan fiÃ³kmÅ±veletek",
    "warning_banner": "Az ezen az oldalon vÃ©grehajtott mÅ±veletek vÃ©glegesek Ã©s nem vonhatÃ³k vissza. KÃ©rjÃ¼k, legyen Ã³vatos.",
    "delete_account": "FiÃ³k tÃ¶rlÃ©se",
    "delete_desc": "FiÃ³kja Ã©s Ã¶sszes kapcsolÃ³dÃ³ adata â€“ beleÃ©rtve a rendelÃ©si elÅ‘zmÃ©nyeket, Ã©rtÃ©kelÃ©seket Ã©s szemÃ©lyes adatokat â€“ vÃ©glegesen tÃ¶rlÃ©sre kerÃ¼l. A kÃ©relem megerÅ‘sÃ­tÃ©sÃ©hez egy e-mailt kÃ¼ldÃ¼nk.",
    "confirm_password": "MegerÅ‘sÃ­tÃ©s jelszÃ³val",
    "password_placeholder": "Adja meg jelenlegi jelszavÃ¡t",
    "password_hint": "A tÃ¶rlÃ©s megerÅ‘sÃ­tÃ©sÃ©hez egy linket kÃ¼ldÃ¼nk az e-mail fiÃ³kjÃ¡ba. A fiÃ³k csak a linkre kattintÃ¡s utÃ¡n tÃ¶rlÅ‘dik.",
    "delete_btn": "FiÃ³k tÃ¶rlÃ©sÃ©nek kÃ©relmezÃ©se",
    "email_sent_title": "MegerÅ‘sÃ­tÅ‘ e-mail elkÃ¼ldve",
    "email_sent_desc": "EllenÅ‘rizze postalÃ¡dÃ¡jÃ¡t, Ã©s kattintson a linkre a fiÃ³k tÃ¶rlÃ©sÃ©nek megerÅ‘sÃ­tÃ©sÃ©hez. A link 7 napig Ã©rvÃ©nyes."
  },
  "errors": {
    "name_required": "A keresztnÃ©v Ã©s a vezetÃ©knÃ©v megadÃ¡sa kÃ¶telezÅ‘.",
    "update_failed": "A profil frissÃ­tÃ©se sikertelen. KÃ©rjÃ¼k, prÃ³bÃ¡lja Ãºjra.",
    "current_password_required": "KÃ©rjÃ¼k, adja meg jelenlegi jelszavÃ¡t.",
    "new_password_too_short": "Az Ãºj jelszÃ³nak legalÃ¡bb 6 karakter hosszÃºnak kell lennie.",
    "passwords_do_not_match": "Az Ãºj jelszavak nem egyeznek meg.",
    "password_change_failed": "A jelszÃ³ mÃ³dosÃ­tÃ¡sa sikertelen. EllenÅ‘rizze jelenlegi jelszavÃ¡t, majd prÃ³bÃ¡lja Ãºjra.",
    "delete_failed": "A tÃ¶rlÃ©si kÃ©relem elkÃ¼ldÃ©se sikertelen. KÃ©rjÃ¼k, prÃ³bÃ¡lja Ãºjra."
  },
  "success": {
    "profile_updated": "Profilja sikeresen frissÃ­tve."
  },

  "product": {
    "in_stock": "RaktÃ¡ron",
    "sku": "CikkszÃ¡m",
    "description": "LeÃ­rÃ¡s",
    "try_different_filters": "PrÃ³bÃ¡ljon meg mÃ¡s szÅ±rÃ©si feltÃ©teleket alkalmazni",
    "availability": "ElÃ©rhetÅ‘sÃ©g",
    "pieces": "db",
    "next_image": "KÃ¶vetkezÅ‘ kÃ©p",
    "pharmaceutical_details": "GyÃ³gyÃ¡szati informÃ¡ciÃ³k",
    "brand": "MÃ¡rka",
    "view_details": "RÃ©szletek",
    "decrease_quantity": "MennyisÃ©g csÃ¶kkentÃ©se",
    "manufacturer": "GyÃ¡rtÃ³",
    "total": "Ã–sszesen",
    "previous_image": "ElÅ‘zÅ‘ kÃ©p",
    "out_of_stock": "Nincs raktÃ¡ron",
    "reviews": "Ã©rtÃ©kelÃ©s",
    "prescription_required_notice": "Ez a termÃ©k vÃ©nykÃ¶teles. RendelÃ©shez recept feltÃ¶ltÃ©se szÃ¼ksÃ©ges.",
    "packaging": "KiszerelÃ©s",
    "dosage": "AdagolÃ¡s",
    "no_image": "Nincs kÃ©p",
    "active_ingredients": "HatÃ³anyag",
    "no_products_found": "Nem talÃ¡lhatÃ³ termÃ©k",
    "view_image": "{{number}}. kÃ©p megtekintÃ©se",
    "requires_prescription": "VÃ©nykÃ¶teles",
    "increase_quantity": "MennyisÃ©g nÃ¶velÃ©se",
    "not_found": "A termÃ©k nem talÃ¡lhatÃ³",
    "not_found_desc": "A keresett termÃ©k nem lÃ©tezik vagy eltÃ¡volÃ­tÃ¡sra kerÃ¼lt.",
    "back_to_products": "Vissza a termÃ©kekhez"
  },
  "common": {
    "next_page": "KÃ¶vetkezÅ‘ oldal",
    "go_home": "FÅ‘oldalra",
    "previous": "ElÅ‘zÅ‘",
    "items_unit": "db",
    "close": "BezÃ¡r",
    "minutes": "perc",
    "refresh": "FrissÃ­tÃ©s",
    "add_to_cart": "KosÃ¡rba",
    "loading": "BetÃ¶ltÃ©s...",
    "previous_page": "ElÅ‘zÅ‘ oldal",
    "retry": "Ãšjra prÃ³bÃ¡l",
    "scroll_left": "GÃ¶rgetÃ©s balra",
    "search": "KeresÃ©s",
    "next": "KÃ¶vetkezÅ‘",
    "clear": "TÃ¶rlÃ©s",
    "cancel": "MÃ©gse",
    "scroll_right": "GÃ¶rgetÃ©s jobbra",
    "added_to_cart": "KosÃ¡rba helyezve"
  },
  "home": {
    "featured": {
      "title": "Kiemelt termÃ©kek",
      "showMore": "Ã–sszes megtekintÃ©se",
      "showLess": "Kevesebb mutatÃ¡sa",
      "viewAll": "Ã–sszes termÃ©k"
    },
    "hero": {
      "subtitle": "KÃ¼ldetÃ©sÃ¼nk",
      "description": "Az egÃ©szsÃ©g nem luxus â€“ mÃ©gis sokszor kÃ¼zdÃ¼nk azzal, hogy megbÃ­zhatÃ³, rÃ©szletes informÃ¡ciÃ³val rendelkezÅ‘, Ã¡tlÃ¡thatÃ³ helyen jussunk hozzÃ¡ a szÃ¼ksÃ©ges termÃ©kekhez. A Roy's Shack Est. 1888 egy tÃ¶bb mint szÃ¡z Ã©ves gyÃ³gyszertÃ¡ri hagyomÃ¡ny szellemisÃ©gÃ©t viszi a digitÃ¡lis tÃ©rbe: cÃ©lunk, hogy az egÃ©szsÃ©gÃ¼gyi termÃ©kek vÃ¡sÃ¡rlÃ¡sa egyszerÅ±, biztonsÃ¡gos Ã©s tÃ¡jÃ©kozott dÃ¶ntÃ©s legyen mindenki szÃ¡mÃ¡ra. HiszÃ¼nk abban, hogy minden vÃ¡sÃ¡rlÃ³ megÃ©rdemli a pontos termÃ©kleÃ­rÃ¡sokat, az Ã¡tlÃ¡thatÃ³ Ã¡rakat Ã©s a gyors kiszÃ¡llÃ­tÃ¡st â€“ fÃ¼ggetlenÃ¼l attÃ³l, hol Ã©l.",
      "title": "Roy's Shack Est. 1888"
    }
  },
  "forum": {
    "pinned": "RÃ¶gzÃ­tve",
    "search_placeholder": "KeresÃ©s a fÃ³rum bejegyzÃ©sei kÃ¶zÃ¶tt...",
    "sort_by": "RendezÃ©s",
    "filter_by_category": "SzÅ±rÃ©s kategÃ³ria szerint",
    "featured": "Kiemelt",
    "title": "FÃ³rum",
    "new_post": "Ãšj bejegyzÃ©s",
    "no_results_title": "Nincs talÃ¡lat",
    "question": "KÃ©rdÃ©s",
    "no_results_description": "PrÃ³bÃ¡lj meg mÃ¡s keresÃ©si kifejezÃ©st vagy kategÃ³riÃ¡t vÃ¡lasztani.",
    "verified": "HitelesÃ­tett",
    "all_categories": "Minden kategÃ³ria",
    "description": "KÃ©rdÃ©sek, vÃ¡laszok Ã©s tapasztalatok megosztÃ¡sa kÃ¶zÃ¶ssÃ©gÃ¼nkkel",
    "reset_filters": "SzÅ±rÅ‘k visszaÃ¡llÃ­tÃ¡sa",
    "answered": "MegvÃ¡laszolva",
    "comment_placeholder": "Ãrja ide a hozzÃ¡szÃ³lÃ¡sÃ¡t...",
    "comments": "HozzÃ¡szÃ³lÃ¡sok",
    "back_to_forum": "Vissza a fÃ³rumhoz",
    "submit_comment": "HozzÃ¡szÃ³lÃ¡s kÃ¼ldÃ©se",
    "comment_edited": "szerkesztve"
  },
  "pagination": {
    "of": "/",
    "page": "Oldal",
    "previous": "ElÅ‘zÅ‘",
    "items_per_page": "TermÃ©k oldalankÃ©nt",
    "showing": "MegjelenÃ­tve",
    "navigation": "LapozÃ¡s",
    "next": "KÃ¶vetkezÅ‘"
  },
  "cart": {
    "clear_all": "KosÃ¡r Ã¼rÃ­tÃ©se",
    "remove": "EltÃ¡volÃ­tÃ¡s",
    "empty": "A kosarad Ã¼res",
    "checkout": "FizetÃ©s",
    "total": "Ã–sszesen",
    "title": "KosÃ¡r",
    "items": "termÃ©k"
  },
  "admin": {
    "toggle_sidebar": "OldalsÃ¡v vÃ¡ltÃ¡s",
    "table": {
      "orders": "RendelÃ©sek",
      "role": "SzerepkÃ¶r",
      "rating": "Ã‰rtÃ©kelÃ©s",
      "email": "E-mail",
      "date": "DÃ¡tum",
      "customer": "ÃœgyfÃ©l",
      "order_id": "RendelÃ©s ID",
      "phone": "Telefon",
      "stock": "KÃ©szlet",
      "address": "CÃ­m",
      "note": "MegjegyzÃ©s",
      "registered": "RegisztrÃ¡ciÃ³",
      "user": "FelhasznÃ¡lÃ³",
      "user_id": "FelhasznÃ¡lÃ³ ID",
      "product": "TermÃ©k",
      "total": "Ã–sszesen",
      "status": "StÃ¡tusz",
      "category": "KategÃ³ria",
      "actions": "MÅ±veletek",
      "items": "TÃ©telek",
      "price": "Ãr"
    },
    "stats": {
      "this_week": "ezen a hÃ©ten",
      "low_stock": "alacsony kÃ©szlet",
      "revenue": "BevÃ©tel",
      "total_orders": "Ã–sszes rendelÃ©s",
      "total_products": "Ã–sszes termÃ©k",
      "total_users": "Ã–sszes felhasznÃ¡lÃ³",
      "this_month": "ebben a hÃ³napban"
    },
    "search_users": "FelhasznÃ¡lÃ³k keresÃ©se...",
    "no_users": "Nem talÃ¡lhatÃ³k felhasznÃ¡lÃ³k.",
    "role": "Admin",
    "nav": {
      "orders": "RendelÃ©sek",
      "users": "FelhasznÃ¡lÃ³k",
      "dashboard": "VezÃ©rlÅ‘pult",
      "products": "TermÃ©kek"
    },
    "search_products": "TermÃ©kek keresÃ©se...",
    "loading": "Adatok betÃ¶ltÃ©se...",
    "no_products": "Nem talÃ¡lhatÃ³k termÃ©kek.",
    "view_all": "Ã–sszes megtekintÃ©se",
    "active": "AktÃ­v",
    "inactive": "InaktÃ­v",
    "search_orders": "RendelÃ©sek keresÃ©se...",
    "recent_orders": "LegutÃ³bbi rendelÃ©sek",
    "no_orders": "Nem talÃ¡lhatÃ³k rendelÃ©sek.",
    "greeting": "ÃœdvÃ¶zÃ¶ljÃ¼k, {{name}}!"
  },
  "footer": {
    "contactInfo": "Kapcsolati informÃ¡ciÃ³k",
    "followUs": "KÃ¶vess minket!",
    "send": "KÃ¼ldÃ©s",
    "emailPlaceholder": "E-mail cÃ­med",
    "contact": "Kapcsolat",
    "newsletter": "Iratkozz fel a hÃ­rlevÃ©lre!",
    "newsletter_error": "Sikertelen feliratkozÃ¡s. KÃ©rlek prÃ³bÃ¡ld Ãºjra.",
    "info": "Az oldalon talÃ¡lhatÃ³ informÃ¡ciÃ³k, adatok vagy dokumentumok kizÃ¡rÃ³lag tÃ¡jÃ©koztatÃ³ jellegÅ±ek",
    "email": "Contact@roysshack.hu",
    "no_social_link": "Jelenleg nincs elÃ©rhetÅ‘sÃ©gÃ¼nk ezen a platformon",
    "legal": "Jogi informÃ¡ciÃ³k",
    "newsletter_success": "Sikeres feliratkozÃ¡s!",
    "copyright": "SzerzÅ‘i jog Â© 2025 Roy's shack"
  },
  "filter": {
    "clear_all": "SzÅ±rÅ‘k tÃ¶rlÃ©se",
    "sort": {
      "rating": "Ã‰rtÃ©kelÃ©s",
      "name_asc": "NÃ©v (A-Z)",
      "price_asc": "Ãr (nÃ¶vekvÅ‘)",
      "name_desc": "NÃ©v (Z-A)",
      "popularity": "NÃ©pszerÅ±sÃ©g",
      "newest": "LegÃºjabb",
      "price_desc": "Ãr (csÃ¶kkenÅ‘)"
    },
    "in_stock_only": "Csak raktÃ¡ron lÃ©vÅ‘ termÃ©kek",
    "min_price": "Min. Ã¡r",
    "price_range": "Ãr tartomÃ¡ny",
    "max_price": "Max. Ã¡r",
    "filters": "SzÅ±rÅ‘k",
    "advanced_filters": "RÃ©szletes szÅ±rÃ©s",
    "toggle_filters": "SzÅ±rÅ‘k megjelenÃ­tÃ©se/elrejtÃ©se",
    "sort_by": "RendezÃ©s"
  },
  "checkout": {
    "invalid_phone": "KÃ©rjÃ¼k, adjon meg Ã©rvÃ©nyes telefonszÃ¡mot.",
    "note_placeholder": "EgyÃ©b informÃ¡ciÃ³k (opcionÃ¡lis)",
    "house_number": "HÃ¡zszÃ¡m",
    "success": "A rendelÃ©s sikeresen leadva! ÃtirÃ¡nyÃ­tÃ¡s...",
    "continue_shopping": "VÃ¡sÃ¡rlÃ¡s folytatÃ¡sa",
    "total": "Ã–sszesen",
    "validation_error": "KÃ©rjÃ¼k, tÃ¶ltse ki az Ã¶sszes kÃ¶telezÅ‘ mezÅ‘t.",
    "apartment_placeholder": "OpcionÃ¡lis",
    "invalid_zipcode": "KÃ©rjÃ¼k, adjon meg Ã©rvÃ©nyes irÃ¡nyÃ­tÃ³szÃ¡mot.",
    "subtotal": "RÃ©szÃ¶sszeg",
    "address": "Utca",
    "apartment_number": "Emelet/AjtÃ³",
    "order_summary": "RendelÃ©s Ã¶sszegzÃ©se",
    "zipcode_placeholder": "pl. 7600",
    "processing": "FeldolgozÃ¡s...",
    "city_placeholder": "Add meg a vÃ¡rost",
    "place_order": "RendelÃ©s leadÃ¡sa",
    "free_shipping": "Ingyenes",
    "error": "A rendelÃ©s sikertelen. KÃ©rjÃ¼k, prÃ³bÃ¡lja Ãºjra.",
    "zipcode": "IrÃ¡nyÃ­tÃ³szÃ¡m",
    "shipping_info": "SzÃ¡llÃ­tÃ¡si adatok",
    "shipping": "SzÃ¡llÃ­tÃ¡s",
    "title": "FizetÃ©s",
    "address_placeholder": "Add meg az utca nevet",
    "city": "VÃ¡ros",
    "house_number_placeholder": "pl. 42",
    "phone": "TelefonszÃ¡m",
    "note": "MegjegyzÃ©s",
    "phone_placeholder": "+36 30 123 4567"
  },
  "header": {
    "my_orders": "RendelÃ©seim",
    "products": "TermÃ©kek",
    "menu": "MenÃ¼",
    "forum": "FÃ³rum",
    "profile": "Profil",
    "login": "BejelentkezÃ©s",
    "cart": "KosÃ¡r",
    "my_profile": "Profilom",
    "home": "KezdÅ‘lap",
    "logout": "KijelentkezÃ©s"
  },
  "category": {
    "cosmetics": "Kozmetikumok",
    "baby-care": "BabaÃ¡polÃ¡s",
    "medical-devices": "Orvosi eszkÃ¶zÃ¶k",
    "clear_all": "Ã–sszes tÃ¶rlÃ©se",
    "filter_by": "SzÅ±rÃ©s kategÃ³ria szerint",
    "supplements": "TÃ¡plÃ¡lÃ©kkiegÃ©szÃ­tÅ‘k",
    "vitamins": "Vitaminok",
    "select": "KategÃ³ria kivÃ¡lasztÃ¡sa",
    "medicine": "GyÃ³gyszerek"
  },
  "time": {
    "months_ago": "{{count}} hÃ³napja",
    "weeks_ago": "{{count}} hete",
    "minutes_ago": "{{count}} perce",
    "yesterday": "Tegnap",
    "hours_ago": "{{count}} Ã³rÃ¡ja",
    "years_ago": "{{count}} Ã©ve",
    "days_ago": "{{count}} napja"
  },
  "products": {
    "empty": "Nincsenek termÃ©kek"
  },
  "language": {
    "switch": "Nyelv vÃ¡ltÃ¡s"
  },
  "theme": {
    "toggle": "TÃ©ma vÃ¡ltÃ¡sa"
  },
  "slider": {
    "aria_label": "Kiemelt tartalom csÃºszka",
    "navigation": "CsÃºszka navigÃ¡ciÃ³",
    "previous": "ElÅ‘zÅ‘ dia",
    "next": "KÃ¶vetkezÅ‘ dia",
    "go_to": "UgrÃ¡s a(z) {{number}}. diÃ¡ra",
    "slide_alt": "{{number}}. kÃ©p",
    "badge": "Roy's Shack Est. 1888",
    "slide1": {
      "title": "TermÃ©szetes egÃ©szsÃ©g, modern megkÃ¶zelÃ­tÃ©ssel",
      "subtitle": "PrÃ©mium termÃ©szetes kÃ©szÃ­tmÃ©nyek Ã©s vitamin-kiegÃ©szÃ­tÅ‘k â€“ tudomÃ¡nyos alapon, megbÃ­zhatÃ³ forrÃ¡sbÃ³l."
    },
    "slide2": {
      "title": "VÃ©nykÃ¶teles termÃ©kek biztonsÃ¡gos rendelÃ©se",
      "subtitle": "VÃ©nykÃ¶teles gyÃ³gyszerek Ã©s gyÃ³gyÃ¡szati segÃ©deszkÃ¶zÃ¶k kÃ©nyelmes, otthonrÃ³l intÃ©zhetÅ‘ rendelÃ©se."
    },
    "slide3": {
      "title": "Baba Ã©s mama gondozÃ¡s egy helyen",
      "subtitle": "Babaillatszerek, anyatejes tÃ¡pszerek Ã©s kismama-kiegÃ©szÃ­tÅ‘k â€“ minden, ami az elsÅ‘ Ã©vekhez kell."
    },
    "slide4": {
      "title": "Orvosi eszkÃ¶zÃ¶k kÃ©zkÃ¶zelben",
      "subtitle": "VÃ©rnyomÃ¡smÃ©rÅ‘k, sebkezelÃ©si termÃ©kek, diagnosztikai eszkÃ¶zÃ¶k â€“ professzionÃ¡lis minÅ‘sÃ©g, otthoni Ã¡ron."
    },
    "cta": "TermÃ©kek megtekintÃ©se"
  }
}



================================================================================
FILE: src\environments\environment.prod.ts
================================================================================

export const environment = {
  production: true,
  baseURL: 'http://localhost:90',
  assetsURL: 'http://localhost:90',
};



================================================================================
FILE: src\environments\environment.ts
================================================================================

export const environment = {
  production: true,
  baseURL: 'http://localhost:90',
  assetsURL: 'http://localhost:90',
};



================================================================================
FILE: src\index.html
================================================================================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Roy's Shack</title>
    <base href="./" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="roy_icon_green.ico" />
  </head>
  <body>
    <app-root></app-root>
  </body>
</html>



================================================================================
FILE: src\main.ts
================================================================================

import { bootstrapApplication } from '@angular/platform-browser';
import { appConfig } from './app/app.config';
import { App } from './app/app';

bootstrapApplication(App, appConfig)
  .catch((err) => console.error(err));



================================================================================
FILE: src\styles\abstracts\_themes.css
================================================================================

[data-theme='dark'] {
  --color-background: var(--color-gray-very-dark);
  --color-surface: var(--color-dark-neutral);
  --color-surface-elevated: var(--color-gray-dark);

  --color-primary: var(--color-green-primary);
  --color-primary-hover: #088554;
  --color-primary-light: rgba(6, 122, 69, 0.15);
  --color-primary-mid: rgba(6, 122, 69, 0.4);

  --color-text-primary: var(--color-off-white);
  --color-text-secondary: var(--color-light-gray);
  --color-text-tertiary: var(--color-medium-light-gray);

  --color-border: var(--color-medium-gray);
  --color-border-light: var(--color-gray-dark);

  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.4);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.5), 0 1px 2px -1px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.55), 0 2px 4px -2px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.6), 0 4px 6px -4px rgba(0, 0, 0, 0.5);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.65), 0 8px 10px -6px rgba(0, 0, 0, 0.5);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.8);
  --shadow-primary: 0 8px 24px rgba(6, 122, 69, 0.4);
  --shadow-primary-lg: 0 12px 32px rgba(6, 122, 69, 0.55);

  --gradient-image-bg: linear-gradient(135deg, #1a2e24 0%, #1e3829 100%);
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-primary);
  background-color: var(--color-background);
  color: var(--color-text-primary);
  transition:
    background-color var(--transition-normal),
    color var(--transition-normal);
}



================================================================================
FILE: src\styles\abstracts\_variables.css
================================================================================

:root {
  /* Pharmacy Color Palette - Light Theme */
  --color-cream: #f5f0e1;
  --color-green-primary: #067a45;
  --color-green-dark: #0b5f39;
  --color-gray-dark: #403e3e;
  --color-black: #000000;
  --color-purple-dark: #47373e;
  --color-gray-very-dark: #131313;
  --color-off-white: #fdfcf5;
  --color-light-gray: #e5e5e5;
  --color-white: #ffffff;
  --color-cyan: #72e4f0;
  --color-blue-bright: #11b9fc;
  --color-medium-gray: #555555;
  --color-light-gray-2: #d9d9d9;
  --color-medium-light-gray: #9f9c9c;
  --color-dark-neutral: #323232;

  /* Semantic Colors - Light Theme */
  --color-background: var(--color-off-white);
  --color-surface: var(--color-white);
  --color-surface-elevated: var(--color-cream);

  --color-primary: var(--color-green-primary);
  --color-primary-hover: var(--color-green-dark);
  --color-primary-light: rgba(6, 122, 69, 0.1);
  --color-primary-mid: rgba(6, 122, 69, 0.5);

  --color-text-primary: var(--color-black);
  --color-text-secondary: var(--color-medium-gray);
  --color-text-tertiary: var(--color-medium-light-gray);
  --color-text-on-primary: var(--color-white);

  --color-border: var(--color-light-gray-2);
  --color-border-light: var(--color-light-gray);
  --color-border-focus: var(--color-green-primary);

  --color-accent: var(--color-cyan);
  --color-accent-bright: var(--color-blue-bright);
  --color-success: var(--color-green-primary);
  --color-error: #dc2626;
  --color-warning: #f59e0b;
  --color-info: var(--color-blue-bright);

  /* Spacing */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  --space-16: 4rem;
  --space-20: 5rem;

  /* Typography */
  --font-primary: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', sans-serif;
  --font-mono: 'Fira Code', 'Courier New', monospace;

  --text-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
  --text-sm: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
  --text-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
  --text-lg: clamp(1.125rem, 1rem + 0.625vw, 1.25rem);
  --text-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
  --text-2xl: clamp(1.5rem, 1.3rem + 1vw, 2rem);
  --text-3xl: clamp(1.875rem, 1.6rem + 1.375vw, 2.5rem);
  --text-4xl: clamp(2.25rem, 2rem + 1.5vw, 3rem);

  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
  --font-extrabold: 800;

  --leading-tight: 1.25;
  --leading-normal: 1.5;
  --leading-relaxed: 1.75;

  /* Borders & Radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  --radius-full: 9999px;

  /* Shadows - enhanced */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  --shadow-primary: 0 8px 24px rgba(6, 122, 69, 0.3);
  --shadow-primary-lg: 0 12px 32px rgba(6, 122, 69, 0.45);

  /* Gradients */
  --gradient-primary: linear-gradient(135deg, #067a45 0%, #0a9e5a 50%, #048a4f 100%);
  --gradient-primary-hover: linear-gradient(135deg, #055c34 0%, #067a45 100%);
  --gradient-hero: linear-gradient(135deg, rgba(4, 80, 42, 0.85) 0%, rgba(6, 122, 69, 0.7) 100%);
  --gradient-card: linear-gradient(180deg, transparent 60%, rgba(0, 0, 0, 0.04) 100%);
  --gradient-image-bg: linear-gradient(135deg, #f0f7f4 0%, #e8f5ee 100%);

  /* Transitions */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-normal: 250ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 400ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-bounce: 350ms cubic-bezier(0.34, 1.56, 0.64, 1);

  /* Z-index layers */
  --z-base: 1;
  --z-dropdown: 1;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;
}



================================================================================
FILE: src\styles\styles.css
================================================================================

@charset "UTF-8";
@import './abstracts/_variables.css';
@import './abstracts/_themes.css';
* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

@font-face {
  font-family: 'Inconsolata';
  src: url('../assets/fonts/Inconsolata/static/Inconsolata-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Inconsolata';
  src: url('../assets/fonts/Inconsolata/static/Inconsolata-Medium.ttf') format('truetype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Inconsolata';
  src: url('../assets/fonts/Inconsolata/static/Inconsolata-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

:root {
  --color-primary: #067a45;
  --color-primary-dark: #0b5f39;
  --color-primary-light: #0b7a4b;

  --bg-primary: #ffffff;
  --bg-secondary: #f5f5f5;
  --bg-tertiary: #eeeeee;

  --text-primary: #131313;
  --text-secondary: #666666;
  --text-inverse: #ffffff;

  --border-color: #e0e0e0;
  --border-color-hover: #cccccc;

  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);

  --input-bg: #ffffff;
  --input-border: #e0e0e0;
  --input-text: #131313;
  --input-placeholder: #999999;

  --btn-primary-bg: #067a45;
  --btn-primary-text: #ffffff;
  --btn-primary-hover: #0b5f39;
  --btn-underline-color: var(--color-white);

  --btn-secondary-bg: #f5f5f5;
  --btn-secondary-text: #131313;
  --btn-secondary-hover: #e0e0e0;

  --overlay-bg: rgba(0, 0, 0, 0.5);

  --color-featured-bg: #f5f0e1;
  --color-featured-divider: rgba(100, 90, 70, 0.35);

  --transition-speed: 0.3s;
  --transition-ease: ease;
}

[data-theme='dark'] {
  --color-primary: #067a45;
  --color-primary-dark: #0b5f39;
  --color-primary-light: #0b7a4b;

  --bg-primary: #1a1a1a;
  --bg-secondary: #252525;
  --bg-tertiary: #303030;

  --text-primary: #ffffff;
  --text-secondary: #b0b0b0;
  --text-inverse: #131313;

  --border-color: #404040;
  --border-color-hover: #606060;

  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.5);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.6);

  --input-bg: #252525;
  --input-border: #404040;
  --input-text: #ffffff;
  --input-placeholder: #808080;

  --btn-primary-bg: #067a45;
  --btn-primary-text: #ffffff;
  --btn-primary-hover: #0b5f39;
  --btn-underline-color: var(--color-white);

  --btn-secondary-bg: #303030;
  --btn-secondary-text: #ffffff;
  --btn-secondary-hover: #404040;

  --overlay-bg: rgba(0, 0, 0, 0.7);

  --color-featured-bg: #1e1e1e;
  --color-featured-divider: rgba(255, 255, 255, 0.15);
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
}

body {
  font-family: 'Inconsolata', monospace;
  background-color: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.6;
  transition:
    background-color var(--transition-speed) var(--transition-ease),
    color var(--transition-speed) var(--transition-ease);
}

.container {
  max-width: 1280px;
  margin: 0 auto;
  padding: 0 20px;
}

.text-center {
  text-align: center;
}

.mt-1 {
  margin-top: 0.5rem;
}
.mt-2 {
  margin-top: 1rem;
}
.mt-3 {
  margin-top: 1.5rem;
}
.mt-4 {
  margin-top: 2rem;
}

.mb-1 {
  margin-bottom: 0.5rem;
}
.mb-2 {
  margin-bottom: 1rem;
}
.mb-3 {
  margin-bottom: 1.5rem;
}
.mb-4 {
  margin-bottom: 2rem;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  color: var(--text-primary);
  font-weight: 700;
  margin-bottom: 0.5em;
}

h1 {
  font-size: clamp(2rem, 5vw, 3rem);
}
h2 {
  font-size: clamp(1.5rem, 4vw, 2.5rem);
}
h3 {
  font-size: clamp(1.25rem, 3vw, 2rem);
}
h4 {
  font-size: clamp(1.1rem, 2.5vw, 1.5rem);
}

p {
  color: var(--text-primary);
  margin-bottom: 1em;
}

a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color var(--transition-speed) var(--transition-ease);
}

a:hover {
  color: var(--color-primary-dark);
}

[appScrollReveal] {
  will-change: transform, opacity;
}

@media (max-width: 768px) {
  .container {
    padding: 0 16px;
  }
}

@media (max-width: 480px) {
  html {
    font-size: 14px;
  }
}



================================================================================
FILE: tsconfig.app.json
================================================================================

/* To learn more about Typescript configuration file: https://www.typescriptlang.org/docs/handbook/tsconfig-json.html. */
/* To learn more about Angular compiler options: https://angular.dev/reference/configs/angular-compiler-options. */
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "outDir": "./out-tsc/app",
    "types": []
  },
  "include": [
    "src/**/*.ts"
  ],
  "exclude": [
    "src/**/*.spec.ts"
  ]
}



================================================================================
FILE: tsconfig.json
================================================================================

/* To learn more about Typescript configuration file: https://www.typescriptlang.org/docs/handbook/tsconfig-json.html. */
/* To learn more about Angular compiler options: https://angular.dev/reference/configs/angular-compiler-options. */
{
  "compileOnSave": false,
  "compilerOptions": {
    "strict": true,
    "noImplicitOverride": true,
    "noPropertyAccessFromIndexSignature": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "skipLibCheck": true,
    "isolatedModules": true,
    "experimentalDecorators": true,
    "importHelpers": true,
    "target": "ES2022",
    "module": "preserve"
  },
  "angularCompilerOptions": {
    "enableI18nLegacyMessageIdFormat": false,
    "strictInjectionParameters": true,
    "strictInputAccessModifiers": true,
    "strictTemplates": true
  },
  "files": [],
  "references": [
    {
      "path": "./tsconfig.app.json"
    },
    {
      "path": "./tsconfig.spec.json"
    }
  ]
}



================================================================================
FILE: tsconfig.spec.json
================================================================================

/* To learn more about Typescript configuration file: https://www.typescriptlang.org/docs/handbook/tsconfig-json.html. */
/* To learn more about Angular compiler options: https://angular.dev/reference/configs/angular-compiler-options. */
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "outDir": "./out-tsc/spec",
    "types": [
      "vitest/globals"
    ]
  },
  "include": [
    "src/**/*.d.ts",
    "src/**/*.spec.ts"
  ]
}


